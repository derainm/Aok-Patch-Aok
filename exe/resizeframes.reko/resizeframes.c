// resizeframes.c
// Generated by decompiling resizeframes.exe
// using Reko decompiler version 0.9.0.0.

#include "resizeframes.h"

// 00402A28: Register Eq_2 fn00402A28(Register Eq_2 eax, Register Eq_2 ecx)
Eq_2 fn00402A28(Eq_2 eax, Eq_2 ecx)
{
	Eq_2 dwLoc08_40 = ecx;
	if (eax <= 0x00)
	{
		dwLoc08_40.u0 = 0x00;
		return dwLoc08_40;
	}
	else
	{
		struct Eq_8 * esp_19;
		Eq_2 ecx_20;
		word32 eax_21;
		globals->ptr428040();
		esp_19->dw0000 = eax_21;
		word24 eax_24_8_29 = SLICE(eax_21, word24, 8);
		if (esp_19->dw0000 != 0x00)
			return dwLoc08_40;
		fn00402B7C(SEQ(eax_24_8_29, 0x01), ecx_20, esp_19->tFFFFFFFC);
	}
}

// 00402A58: Register ptr32 fn00402A58(Register ptr32 eax, Register Eq_2 ecx, Register out Eq_2 ecxOut)
ptr32 fn00402A58(ptr32 eax, Eq_2 ecx, union Eq_2 & ecxOut)
{
	ptr32 ebx_11;
	if (eax != 0x00)
	{
		struct Eq_41 * esp_14;
		ptr32 eax_15;
		globals->ptr428044();
		word24 eax_24_8_23 = SLICE(eax_15, word24, 8);
		ebx_11 = eax_15;
		if (eax_15 != 0x00)
			fn00402B7C(SEQ(eax_24_8_23, 0x02), ecx, esp_14->tFFFFFFFC);
	}
	else
		ebx_11 = 0x00;
	ecxOut = ecx;
	return ebx_11;
}

// 00402A78: void fn00402A78(Register Eq_2 eax, Register Eq_57 edx, Stack Eq_2 dwArg00)
void fn00402A78(Eq_2 eax, Eq_57 edx, Eq_2 dwArg00)
{
	union Eq_2 * esp_24;
	Eq_2 ecx_23;
	word24 eax_24_8_65;
	Eq_57 ecx_6 = *eax;
	if (ecx_6 != 0x00)
	{
		if (edx == 0x00)
		{
			*eax = edx;
			Eq_2 ecx_36;
			word32 eax_37;
			globals->ptr428044();
			word24 eax_24_8_46 = SLICE(eax_37, word24, 8);
			if (eax_37 == 0x00)
				return;
			ui32 eax_47 = SEQ(eax_24_8_46, 0x02);
			fn00402B7C(eax_47, ecx_36, dwArg00);
		}
		Eq_57 eax_54;
		globals->ptr428048();
		ecx_23 = eax;
		esp_24 = fp;
		eax_24_8_65 = SLICE(eax_54, word24, 8);
		if (eax_54 != 0x00)
		{
			*eax = eax_54;
			return;
		}
	}
	else
	{
		if (edx == 0x00)
			return;
		union Eq_2 * esp_17;
		Eq_57 eax_19;
		globals->ptr428040();
		ecx_23 = *esp_17;
		esp_24 = (union Eq_2 *) ((char *) esp_17 + 0x04);
		eax_24_8_65 = SLICE(eax_19, word24, 8);
		if (eax_19 != 0x00)
		{
			*ecx_23 = eax_19;
			return;
		}
	}
	ui32 eax_68 = SEQ(eax_24_8_65, 0x01);
	fn00402B7C(eax_68, ecx_23, *esp_24);
}

// 00402B24: void fn00402B24(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn00402B24(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	globals->t428004 = edx;
	fn00404228(eax, ecx);
}

// 00402B30: void fn00402B30(Register ui32 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn00402B30(ui32 eax, Eq_2 ecx, Eq_2 edx)
{
	Eq_134 ecx_24_8 = SLICE(ecx, word24, 8);
	byte cl = (byte) ecx;
	byte bl_14 = (byte) eax;
	word32 ebx_20 = SEQ(SLICE(eax, word24, 8), bl_14 & 0x7F);
	if (globals->ptr42B008 != null)
		globals->ptr42B008();
	Eq_149 bl_27 = bl_14 & 0x7F;
	Eq_2 ecx_47 = ecx;
	if ((bl_14 & 0x7F) == 0x00)
	{
		word32 edx_75;
		bl_27 = fn004062BC(ecx_24_8, out ecx_47, out edx_75)->t0004;
	}
	else if ((bl_14 & 0x7F) <= 0x18)
		bl_27 = (uint32) (uint8) (bl_14 & 0x7F) + 0x0042804C;
	fn00402B24((uint32) (uint8) bl_27, ecx_47, edx);
}

// 00402B7C: void fn00402B7C(Register ui32 eax, Register Eq_2 ecx, Stack Eq_2 dwArg00)
void fn00402B7C(ui32 eax, Eq_2 ecx, Eq_2 dwArg00)
{
	fn00402B30(eax & 0x7F, ecx, dwArg00);
}

// 00402B88: void fn00402B88(Register Eq_2 ecx, Stack Eq_2 dwArg00)
void fn00402B88(Eq_2 ecx, Eq_2 dwArg00)
{
	Eq_134 ecx_24_8_13 = SLICE(ecx, word24, 8);
	word32 ecx_41;
	word32 edx_42;
	if (fn004062BC(ecx_24_8_13, out ecx_41, out edx_42)->t0004 == 0x00)
		return;
	fn00402B7C(0x00, ecx, dwArg00);
}

// 00402BA8: Register Eq_206 fn00402BA8(Register Eq_149 eax, Register Eq_206 ecx, Register out ptr32 edxOut)
Eq_206 fn00402BA8(Eq_149 eax, Eq_206 ecx, ptr32 & edxOut)
{
	Eq_206 ecx_12;
	ptr32 edx_14;
	fn004062BC(ecx_24_8, out ecx_12, out edx_14)->t0004 = eax;
	edxOut = edx_14;
	return ecx_12;
}

// 00402C1C: Register Eq_2 fn00402C1C(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
Eq_2 fn00402C1C(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	Eq_2 esi_11 = eax;
	Eq_2 edi_13 = edx;
	if (edx > eax)
	{
		word32 * esi_18 = (word32) eax + (ecx - 0x04);
		word32 * edi_19 = (word32) edx + (ecx - 0x04);
		ecx >>= 0x02;
		if (ecx >> 0x02 >= 0x00)
		{
			for (; ecx != 0x00; --ecx)
			{
				*edi_19 = *esi_18;
				esi_18 -= 0x04;
				edi_19 -= 0x04;
			}
			byte * esi_29 = (char *) esi_18 + 0x03;
			byte * edi_31 = (char *) edi_19 + 0x03;
			for (ecx &= 0x03; ecx != 0x00; --ecx)
			{
				*edi_31 = *esi_29;
				++esi_29;
				++edi_31;
			}
		}
		return ecx;
	}
	else
	{
		if (edx == eax)
			return ecx;
		ecx >>= 0x02;
		if (ecx >> 0x02 < 0x00)
			return ecx;
		for (; ecx != 0x00; --ecx)
		{
			*edi_13 = *esi_11;
			esi_11 = (word32) esi_11 + 0x04;
			edi_13 = (word32) edi_13 + 0x04;
		}
		Eq_2 ecx_64;
		for (ecx_64 = ecx & 0x03; ecx_64 != 0x00; --ecx_64)
		{
			*edi_13 = *esi_11;
			esi_11 = (word32) esi_11 + 0x01;
			edi_13 = (word32) edi_13 + 0x01;
		}
		return ecx_64;
	}
}

// 00402C90: Register int32 fn00402C90(Register (ptr32 Eq_312) eax, Register int32 ecx, Register word32 edx)
int32 fn00402C90(struct Eq_312 * eax, int32 ecx, word32 edx)
{
	int32 ecx_128;
	Eq_149 ebx_64;
	cu16 si_33 = (word16) edx;
	cu16 ax_14 = eax->w0004;
	if (ax_14 >= ~0x284F && ax_14 <= 55219)
	{
		if (ax_14 != ~0x284F)
			ecx = fn00402FAC(eax, ecx, out edx);
		eax->w0004 = si_33;
		if (eax->b0048 == 0x00 && eax->ptr0018 == null)
			eax->ptr0018 = &globals->t402DA0;
		Eq_149 eax_60;
		eax->ptr0018();
		ebx_64 = eax_60;
	}
	else
	{
		ebx_64.u1 = 0x66;
		ecx_128 = ecx;
	}
	Eq_206 ecx_24_8_71 = SLICE(ecx_128, word24, 8);
	int32 ecx_100 = ecx_128;
	if (ebx_64 != 0x00)
	{
		word32 edx_131;
		ecx_100 = fn00402BA8(ebx_64, ecx_24_8_71, out edx_131);
	}
	return ecx_100;
}

// 00402CE8: Register int32 fn00402CE8(Register (ptr32 Eq_312) eax, Register int32 ecx, Register word16 edx_16_16)
int32 fn00402CE8(struct Eq_312 * eax, int32 ecx, word16 edx_16_16)
{
	return fn00402C90(eax, ecx, SEQ(edx_16_16, 55218));
}

// 00402F4C: void fn00402F4C(Register (ptr32 Eq_312) eax, Register word16 ecx_16_16, Register (ptr32 code) edx)
void fn00402F4C(struct Eq_312 * eax, word16 ecx_16_16, <anonymous> * edx)
{
	word32 ecx_34;
	Eq_149 ebx_12;
	cu16 cx_8 = eax->w0004;
	byte cl_78 = (byte) (cx_8 - 55217);
	word32 ecx_16 = SEQ(ecx_16_16, cx_8 - 55217);
	word24 ecx_24_8_48 = SEQ(ecx_16_16, SLICE(cx_8 - 55217, byte, 8));
	if (cx_8 != 55217)
	{
		cup16 cx_18 = (word16) (ecx_16 - 0x01);
		word16 ecx_16_16_32 = SLICE(ecx_16 - 0x01, word16, 16);
		byte cl_80 = (byte) (cx_18 - 0x02);
		word24 ecx_24_8_52 = SEQ(SLICE(ecx_16 - 0x01, word16, 16), SLICE(cx_18 - 0x02, byte, 8));
		if (cx_18 < 0x02)
		{
			Eq_149 eax_35;
			edx();
			ebx_12 = eax_35;
		}
		else if (eax != &globals->t42B21C && eax != &globals->t42B3E8)
		{
			ebx_12.u1 = 0x67;
			ecx_34 = SEQ(ecx_24_8_52, cl_80);
		}
		else
		{
			ebx_12.u1 = 0x00;
			ecx_34 = SEQ(ecx_24_8_52, cl_80);
		}
	}
	else
	{
		ebx_12.u1 = 0x00;
		ecx_34 = SEQ(ecx_24_8_48, cl_78);
	}
	Eq_206 ecx_24_8_45 = SLICE(ecx_34, word24, 8);
	if (ebx_12 != 0x00)
	{
		word32 edx_100;
		fn00402BA8(ebx_12, ecx_24_8_45, out edx_100);
	}
}

// 00402FA0: void fn00402FA0(Register (ptr32 Eq_312) eax, Register word16 ecx_16_16)
void fn00402FA0(struct Eq_312 * eax, word16 ecx_16_16)
{
	fn00402F4C(eax, ecx_16_16, eax->ptr0020);
}

// 00402FAC: Register int32 fn00402FAC(Register (ptr32 Eq_312) eax, Register int32 ecx, Register out ptr32 edxOut)
int32 fn00402FAC(struct Eq_312 * eax, int32 ecx, ptr32 & edxOut)
{
	Eq_206 ecx_24_8 = SLICE(ecx, word24, 8);
	int32 ecx_103;
	Eq_149 esi_12 = 0x00;
	cu16 ax_13 = eax->w0004;
	if (ax_13 >= 55217 && ax_13 <= 55219)
	{
		if ((ax_13 & 55218) == 55218)
		{
			Eq_149 eax_38;
			eax->ptr001C();
			byte cl_101 = (byte) ecx;
			esi_12 = eax_38;
		}
		word24 ecx_24_8_51 = SLICE(ecx, word24, 8);
		int32 ecx_128 = ecx;
		if (esi_12 == 0x00)
		{
			Eq_149 eax_57;
			eax->ptr0024();
			byte cl_102 = (byte) ecx_128;
			esi_12 = eax_57;
		}
		Eq_206 ecx_24_8_68 = SLICE(ecx_128, word24, 8);
		ecx_103 = ecx_128;
		if (esi_12 != 0x00)
			ecx_103 = fn00402BA8(esi_12, ecx_24_8_68, out edx);
	}
	else
	{
		ecx_103 = ecx;
		if (eax != &globals->t42B050)
			ecx_103 = fn00402BA8(0x67, ecx_24_8, out edx);
	}
	edxOut = edx;
	return ecx_103;
}

// 00403020: Register int32 fn00403020(Register (ptr32 Eq_490) eax, Register Eq_491 cx, Register int32 edx)
int32 fn00403020(union Eq_490 * eax, Eq_491 cx, int32 edx)
{
	byte cl = (byte) ecx;
	union Eq_490 * edi_36 = eax;
	int32 ecx_19 = edx >> 0x02;
	word32 eax_49 = SEQ(ecx, SEQ(cl, cl));
	if (edx >> 0x02 >= 0x00)
	{
		while (true)
		{
			Eq_505 al_47 = (byte) eax_49;
			if (ecx_19 == 0x00)
				break;
			*edi_36 = eax_49;
			edi_36 = (union Eq_490 *) ((char *) edi_36 + 0x04);
			--ecx_19;
		}
		for (ecx_19 = edx & 0x03; ecx_19 != 0x00; --ecx_19)
		{
			*edi_36 = (union Eq_490 *) al_47;
			edi_36 = (union Eq_490 *) ((char *) edi_36 + 0x01);
		}
	}
	return ecx_19;
}

// 00403114: void fn00403114(Register (ptr32 Eq_312) eax, Register int32 ecx, Register (ptr32 byte) edx)
void fn00403114(struct Eq_312 * eax, int32 ecx, byte * edx)
{
	word16 edx_16_16 = SLICE(edx, word16, 16);
	if (eax == &globals->t42B21C || eax == &globals->t42B3E8)
	{
		eax->t0006.u0 = (uint16) (uint8) globals->b428034;
		ecx = fn00402CE8(eax, ecx, edx_16_16);
	}
	Eq_206 ecx_24_8_52 = SLICE(ecx, word24, 8);
	if (eax->w0004 == 55218 == 0x00)
	{
		word32 edx_94;
		fn00402BA8(0x69, ecx_24_8_52, out edx_94);
	}
}

// 00403158: Register int32 fn00403158(Register (ptr32 Eq_312) eax, Register int32 ecx, Register (ptr32 byte) edx)
int32 fn00403158(struct Eq_312 * eax, int32 ecx, byte * edx)
{
	byte al_30 = (byte) eax;
	byte * esi_11 = edx;
	if (eax->w0004 != 55218)
	{
		fn00403114(eax, ecx, edx);
		if (al_30 == 0x00)
			return ecx;
	}
	while (true)
	{
		byte * edi_119 = eax->dw0014 + eax->dw000C;
		int32 edx_45 = eax->dw0008 - eax->dw000C;
		if (edx_45 > ecx)
			break;
		eax->dw000C += edx_45;
		int32 ecx_70 = ecx - edx_45;
		int32 ecx_120;
		for (ecx_120 = edx_45; ecx_120 != 0x00; --ecx_120)
		{
			*edi_119 = *esi_11;
			++esi_11;
			++edi_119;
		}
		Eq_149 eax_89;
		word32 ecx_90;
		eax->ptr001C();
		Eq_206 ecx_24_8_96 = SLICE(ecx_90, word24, 8);
		if (eax_89 != 0x00)
		{
			word32 edx_174;
			fn00402BA8(eax_89, ecx_24_8_96, out edx_174);
			return ecx_70;
		}
		ecx = ecx_70;
	}
	eax->dw000C += ecx;
	for (; ecx != 0x00; --ecx)
	{
		*edi_119 = *esi_11;
		++esi_11;
		++edi_119;
	}
	return ecx;
}

// 004031AC: void fn004031AC(Register (ptr32 Eq_312) eax, Register int32 edx)
void fn004031AC(struct Eq_312 * eax, int32 edx)
{
	int32 ecx_5 = edx;
	while (ecx_5 > 0x40)
	{
		int32 ecx_21 = ecx_5 - 0x40;
		word32 ecx_75;
		word32 edx_76;
		if (fn004062BC(SLICE(fn00403158(eax, 0x40, &globals->b4031DC), word24, 8), out ecx_75, out edx_76)->t0004 != 0x00)
			return;
		ecx_5 = ecx_21;
	}
	if (ecx_5 <= 0x00)
		return;
	fn00403158(eax, ecx_5, &globals->b4031DC);
}

// 00403228: Register (ptr32 Eq_312) fn00403228(Register (ptr32 Eq_312) eax)
struct Eq_312 * fn00403228(struct Eq_312 * eax)
{
	word16 ecx_16_16_41;
	if ((eax->t0006 & 0x01) != 0x00)
		ecx_16_16_41 = SLICE(fn00403158(eax, 0x02, fp + ~0x07), word16, 16);
	else
		ecx_16_16_41 = SLICE(fn00403158(eax, 0x01, fp + ~0x07), word16, 16);
	fn00402FA0(eax, ecx_16_16_41);
	return eax;
}

// 004036B8: Register (ptr32 Eq_707) fn004036B8(Register (ptr32 Eq_707) eax, Register Eq_2 ecx)
struct Eq_707 * fn004036B8(struct Eq_707 * eax, Eq_2 ecx)
{
	return fn0040372C(eax, fn00402A28(fn004036E8(eax), ecx));
}

// 004036E8: Register (ptr32 Eq_707) fn004036E8(Register (ptr32 Eq_707) eax)
struct Eq_707 * fn004036E8(struct Eq_707 * eax)
{
	return eax->ptrFFFFFFD8;
}

// 004036F0: Register Eq_724 fn004036F0(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Stack Eq_2 dwArg00)
Eq_724 fn004036F0(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, Eq_2 dwArg00)
{
	byte dl = (byte) edx;
	if (dl != 0x00)
		eax = fn00403990(eax, ecx, edx);
	Eq_724 edx_27 = edx;
	if (dl != 0x00)
	{
		edx_27 = fn004039E8(eax);
		fs->t0000 = dwArg00;
	}
	return edx_27;
}

// 00403720: Register (ptr32 Eq_707) fn00403720(Register (ptr32 Eq_707) eax, Register out ptr32 ecxOut)
struct Eq_707 * fn00403720(struct Eq_707 * eax, ptr32 & ecxOut)
{
	if (eax != null)
	{
		struct Eq_707 * ecx_10 = eax->t0000;
		(*(ecx_10 - 0x04))();
	}
	ecxOut = ecx;
	return eax;
}

// 0040372C: Register (ptr32 Eq_707) fn0040372C(Register (ptr32 Eq_707) eax, Register (ptr32 Eq_707) edx)
struct Eq_707 * fn0040372C(struct Eq_707 * eax, struct Eq_707 * edx)
{
	edx->t0000 = (<anonymous>) eax;
	uint32 ecx_19 = *(eax - 0x28);
	struct Eq_707 * ebx_100 = eax;
	union Eq_772 * edi_102 = &edx->t0004;
	uint32 ecx_110;
	for (ecx_110 = (ecx_19 >> 0x02) - 0x01; ecx_110 != 0x00; --ecx_110)
	{
		*edi_102 = 0x00;
		edi_102 = (union Eq_772 *) ((char *) edi_102 + 0x04);
	}
	word32 * esp_31 = fp - 0x0C;
	ui32 ecx_105;
	for (ecx_105 = ecx_19 & 0x03; ecx_105 != 0x00; --ecx_105)
	{
		*edi_102 = (union Eq_772 *) 0x00;
		edi_102 = (union Eq_772 *) ((char *) edi_102 + 0x01);
	}
	while (true)
	{
		word32 ecx_42 = *(ebx_100 - 0x48);
		if (ecx_42 != 0x00)
		{
			esp_31 -= 0x04;
			*esp_31 = ecx_42;
		}
		struct Eq_707 ** ebx_51 = *(ebx_100 - 0x24);
		if (ebx_51 == null)
			break;
		ebx_100 = (struct Eq_707 *) *ebx_51;
	}
	while (esp_31 != fp - 0x0C)
	{
		word32 * ebx_62 = *esp_31;
		++esp_31;
		word32 ecx_64;
		struct Eq_843 * ebx_65 = ebx_62 + 0x01;
		do
		{
			word32 esi_69 = ebx_65->dw0010;
			if (esi_69 != 0x00)
				edx[ebx_65->dw0014 / 113] = (struct Eq_707) esi_69;
			++ebx_65;
			--ecx_64;
		} while (ecx_64 != 0x00);
	}
	return edx;
}

// 004038DC: Register Eq_2 fn004038DC(Register Eq_2 eax, Register Eq_57 edx, Stack Eq_2 dwArg00)
Eq_2 fn004038DC(Eq_2 eax, Eq_57 edx, Eq_2 dwArg00)
{
	word24 eax_24_8_21 = SLICE(eax, word24, 8);
	if (eax == 0x00)
		return ;
	Eq_2 ecx_15 = eax;
	do
	{
		Eq_57 ecx_11 = *ecx_15;
		if (ecx_11 == edx)
			return ;
		ecx_15 = *(ecx_11 - 0x24);
	} while (ecx_15 != 0x00);
	ui32 eax_22 = SEQ(eax_24_8_21, 0x0A);
	fn00402B7C(eax_22, ecx_15, dwArg00);
}

// 004038F8: FlagGroup bool fn004038F8(Register ptr32 eax, Register Eq_893 si, Register out (ptr32 ptr32) esiOut)
bool fn004038F8(ptr32 eax, Eq_893 si, ptr32 & esiOut)
{
	word16 ax_63 = (word16) esi;
	ptr32 esi_11 = eax;
	while (true)
	{
		word16 * edi_14 = *(esi_11 - 0x30);
		if (edi_14 != null)
		{
			ui32 ecx_18 = (word32) *edi_14;
			word16 * edi_104 = edi_14 + 0x01;
			bool Z_31 = SLICE(cond(edi_14 + 0x01), bool, 2);
			ecx_24 = ecx_18;
			do
			{
				ui32 ecx_24;
				if (ecx_24 == 0x00)
					break;
				Z_31 = SLICE(cond(ax_63 - *edi_104), bool, 2);
				++edi_104;
				--ecx_24;
			} while (ax_63 == *edi_104);
			if (Z_31)
			{
				ui32 eax_42 = ecx_18 * 0x02 - ecx_24;
				esiOut = (edi_104 - 0x04)[eax_42].ptr0000;
				return SLICE(cond(eax_42), bool, 2);
			}
		}
		ptr32 * esi_54 = *(esi_11 - 0x24);
		bool Z_57 = SLICE(cond(esi_54), bool, 2);
		if (esi_54 == null)
		{
			esiOut = esi_54;
			return Z_57;
		}
		esi_11 = *esi_54;
	}
}

// 00403928: void fn00403928(Register (ptr32 Eq_961) eax, Register Eq_893 esi, Stack Eq_2 dwArg00)
void fn00403928(struct Eq_961 * eax, Eq_893 esi, Eq_2 dwArg00)
{
	<anonymous> * esi_13;
	if (fn004038F8(eax->ptr0000, esi, out esi_13))
	{
		Eq_2 ecx_23 = dwArg00;
		union Eq_2 * esp_24 = fp + 0x04;
		if (globals->ptr42B02C != null)
			globals->ptr42B02C();
		fn00404234(0xD2, ecx_23, *esp_24);
	}
	else
		esi_13();
}

// 00403990: Register (ptr32 Eq_707) fn00403990(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 dl)
struct Eq_707 * fn00403990(struct Eq_707 * eax, Eq_2 ecx, Eq_724 dl)
{
	ci8 dl_13 = (byte) edx;
	if (dl_13 >= 0x00)
		eax = fn004036B8(eax, ecx);
	fs->ptr0000 = fp + 0x04;
	return eax;
}

// 004039E8: Register word32 fn004039E8(Register (ptr32 Eq_707) eax)
word32 fn004039E8(struct Eq_707 * eax)
{
	word32 edx_13;
	fnCDE9C3FF();
	return edx_13;
}

// 00403C5C: Register word32 fn00403C5C(Register word32 eax, Register Eq_2 ecx, Stack ptr32 dwArg00, Register out ptr32 ecxOut)
word32 fn00403C5C(word32 eax, Eq_2 ecx, ptr32 dwArg00, ptr32 & ecxOut)
{
	if (eax != 0x00)
	{
		word32 eax_46;
		ptr32 ecx_49;
		globals->ptr42B014();
		ecxOut = ecx_49;
		return eax_46;
	}
	else
		fn00404234(0xD8, ecx, dwLoc04);
}

// 00403D08: void fn00403D08(Stack Eq_2 dwArg04, Stack Eq_2 dwArg08)
void fn00403D08(Eq_2 dwArg04, Eq_2 dwArg08)
{
	fs->t0000 = dwArg04;
	(*((word32) dwArg08 + 0x05))();
}

// 00403E60: void fn00403E60(Register ptr32 ebp)
void fn00403E60(ptr32 ebp)
{
	word32 ecx_11 = fs->dw0000;
	fs->dw0000 = ebp - 0x0C;
	*(ebp - 0x0C) = ecx_11;
	*(ebp - 0x08) = 4210112;
	*(ebp - 0x04) = ebp;
	globals->ptr42B63C = ebp - 0x0C;
}

// 00403E80: Register (ptr32 Eq_1056) fn00403E80()
struct Eq_1056 * fn00403E80()
{
	struct Eq_1056 * eax_6 = globals->ptr42B63C;
	if (eax_6 == null)
		return ecx;
	ecx = fs->ptr0000;
	if (eax_6 != ecx)
	{
		for (; ecx != (struct Eq_1056 *) ~0x00; ecx = ecx->ptr0000)
		{
			if (ecx->ptr0000 == eax_6)
			{
				ecx->ptr0000 = eax_6->ptr0000;
				return ecx;
			}
		}
		return ecx;
	}
	else
	{
		fs->ptr0000 = eax_6->ptr0000;
		return ecx;
	}
}

// 00403EA8: void fn00403EA8()
void fn00403EA8()
{
	struct Eq_1089 * eax_19 = globals->ptr42B640;
	if (eax_19 != null)
	{
		int32 ebx_23 = globals->dw42B644;
		Eq_19683 eax_24[] = eax_19->ptr0004;
		fs->ptr0000 = fp + ~0x23;
		ptr32 * esp_33 = fp + ~0x23;
		while (ebx_23 > 0x00)
		{
			--ebx_23;
			globals->dw42B644 = ebx_23;
			<anonymous> * eax_44 = eax_24[ebx_23].ptr0004;
			if (eax_44 != null)
			{
				word32 edx_55;
				eax_44();
			}
		}
		fs->ptr0000 = *esp_33;
	}
}

// 00403F18: void fn00403F18()
void fn00403F18()
{
	struct Eq_1089 * eax_19 = globals->ptr42B640;
	if (eax_19 != null)
	{
		int32 esi_23 = eax_19->dw0000;
		Eq_19683 eax_25[] = eax_19->ptr0004;
		fs->ptr0000 = fp + ~0x23;
		int32 ebx_24 = 0x00;
		ptr32 * esp_34 = fp + ~0x23;
		if (esi_23 > 0x00)
		{
			do
			{
				<anonymous> * eax_43 = eax_25[ebx_24].ptr0000;
				++ebx_24;
				globals->dw42B644 = ebx_24;
				if (eax_43 != null)
				{
					word32 edx_57;
					eax_43();
				}
			} while (esi_23 > ebx_24);
		}
		fs->ptr0000 = *esp_34;
	}
}

// 00403F88: void fn00403F88(Register (ptr32 Eq_1089) eax, Register (ptr32 Eq_1174) edx, Register ptr32 ebp)
void fn00403F88(struct Eq_1089 * eax, struct Eq_1174 * edx, ptr32 ebp)
{
	globals->ptr42B014 = &globals->t4011DC;
	globals->dw42B018 = 0x004011EC;
	globals->ptr42B640 = eax;
	globals->dw42B644 = 0x00;
	globals->ptr42B648 = edx;
	globals->dw42B030 = edx->dw0004;
	fn00403E60(ebp);
	globals->b42B038 = 0x00;
	fn00403F18();
}

// 00404030: Register Eq_1203 fn00404030(Register Eq_1203 ecx)
Eq_1203 fn00404030(Eq_1203 ecx)
{
	Eq_2 ebx_15 = globals->t428000;
	word32 ecx_100 = SEQ(ecx_24_8, 0x10);
	do
	{
		(uint32) (uint8) (byte) ecx_100 + 0x00428070 = (uint32) ((byte) (int32) ((int64) ebx_15 % 0x0A) + 0x30);
		Eq_2 eax_41 = (int32) ((int64) ebx_15 / 0x0A);
		ebx_15 = eax_41;
		word24 ecx_24_8_80 = SLICE(ecx_100 - 0x01, word24, 8);
		--ecx_100;
	} while (eax_41 != 0x00);
	Eq_2 eax_50 = globals->t428004;
	word32 ecx_101 = SEQ(ecx_24_8_80, 0x1C);
	do
	{
		(uint32) (uint8) (byte) ecx_101 + 0x00428070 = (uint32) (eax_50 & 0x0F)->b428090;
		eax_50 >>= 0x04;
		Eq_1203 ecx_66 = ecx_101 - 0x01;
		--ecx_101;
	} while (eax_50 != 0x00);
	return ecx_66;
}

// 0040408C: Register word32 fn0040408C(Register out (ptr32 Eq_1262) ebxOut)
word32 fn0040408C(struct Eq_1262 & ebxOut)
{
	globals->t428000.u0 = 0x00;
	word32 * edi_15 = globals->a42B638;
	struct Eq_1262 * ebx_16 = globals->ptr42B650;
	word32 * esi_24 = globals->a42B638;
	word32 ecx_25;
	for (ecx_25 = 11; ecx_25 != 0x00; --ecx_25)
	{
		*edi_15 = *esi_24;
		++esi_24;
		++edi_15;
	}
	ebxOut = ebx_16;
	return ecx_25;
}

// 004040BC: void fn004040BC(Register word32 ecx)
void fn004040BC(word32 ecx)
{
	if (globals->b42B04C == 0x00)
	{
		if (globals->b428030 == 0x00)
			MessageBoxA(null, 0x00428070, 0x00428068, 0x00);
	}
	else
	{
		if (globals->w42B220 == 55218 && globals->dw42B228 > 0x00)
			globals->ptr42B238();
		WriteFile(GetStdHandle(~0x0A), (void *) ~0x0A, 0x00428070, (DWORD *) 0x1E, fp + 44);
		WriteFile(GetStdHandle(~0x0A), (void *) ~0x0A, 0x00404144, (DWORD *) 0x02, fp + 0x14);
	}
}

// 00404148: void fn00404148(Register Eq_2 ecx)
void fn00404148(Eq_2 ecx)
{
	Eq_1203 ecx_24_8_49 = SLICE(ecx, word24, 8);
	Eq_2 esp_109 = fp - 0x0014;
	struct Eq_1356 * ebx_166 = globals->a42B638;
	if (globals->b42B660 == 0x00)
	{
		Eq_2 ecx_219 = ecx;
		while (globals->ptr42B048 != null)
		{
			*esp_109 = globals->ptr42B048;
			globals->ptr42B048 = null;
			(*esp_109)();
			ecx_24_8_49.u0 = SLICE(ecx_219, word24, 8);
		}
	}
	if (globals->t428004 != 0x00)
	{
		fn004040BC(fn00404030(ecx_24_8_49));
		globals->t428004.u0 = 0x00;
	}
	while (true)
	{
		if (ebx_166[0x0A] == 0x02 && globals->t428000 == 0x00)
			ebx_166[0x03] = (struct Eq_1356) 0x00;
		fn00403EA8();
		if (ebx_166[0x0A] <= 0x01 || globals->t428000 != 0x00)
		{
			Eq_2 edi_99 = ebx_166[0x04];
			if (edi_99 != 0x00)
			{
				fn00405B44(edi_99);
				Eq_2 ebp_115 = ebx_166[0x04];
				esp_109.u0 = <invalid>;
				Eq_2 esi_116 = *((word32) ebp_115 + 0x0010);
				if (esi_116 != *((word32) ebp_115 + 0x04) && esi_116 != 0x00)
				{
					*(esp_109 - 0x04) = (union Eq_2 *) esi_116;
					FreeLibrary(*(esp_109 - 0x04));
					esp_109 -= 0x04;
				}
			}
		}
		word32 ecx_128 = fn00403E80();
		if (ebx_166[0x0A] == 0x01)
			ebx_166[0x09]();
		if (ebx_166[0x0A] != 0x00)
		{
			Eq_2 esp_170 = <invalid>;
			ecx_128 = fn0040408C(out ebx_166);
			esp_109 = (word32) esp_170 + 0x0C;
		}
		if (ebx_166->dw0000 == null)
			break;
		word32 * esi_181 = ebx_166->dw0000;
		struct Eq_1356 * edi_182 = ebx_166;
		word32 ecx_183;
		for (ecx_183 = 11; ecx_183 != 0x00; --ecx_183)
		{
			edi_182->dw0000 = *esi_181;
			++esi_181;
			++edi_182;
		}
	}
	if (globals->ptr42B028 != null)
		globals->ptr42B028();
	union Eq_2 * esp_216 = esp_109 - 0x04;
	*esp_216 = (union Eq_2 *) globals->t428000;
	ExitProcess(*esp_216);
}

// 00404228: void fn00404228(Register Eq_2 eax, Register Eq_2 ecx)
void fn00404228(Eq_2 eax, Eq_2 ecx)
{
	globals->t428000 = eax;
	fn00404148(ecx);
}

// 00404234: void fn00404234(Register Eq_2 eax, Register Eq_2 ecx, Stack Eq_2 dwArg00)
void fn00404234(Eq_2 eax, Eq_2 ecx, Eq_2 dwArg00)
{
	globals->t428004 = dwArg00;
	fn00404228(eax, ecx);
}

// 00404240: Register word32 fn00404240(Register Eq_2 eax, Register out ptr32 edxOut)
word32 fn00404240(Eq_2 eax, ptr32 & edxOut)
{
	ptr32 edx_6 = *eax;
	if (edx_6 != 0x00)
	{
		*eax = 0x00;
		int32 ecx_11 = *(edx_6 - 0x08);
		ecx = ecx_11 - 0x01;
		if (ecx_11 >= 0x01)
		{
			__lock();
			word32 v10_15 = *(edx_6 - 0x08) - 0x01;
			*(edx_6 - 0x08) = v10_15;
			if (v10_15 == 0x00)
				fn00402A58(edx_6 - 0x08, ecx_11 - 0x01, out ecx);
		}
	}
	edxOut = edx_6;
	return ecx;
}

// 00404264: void fn00404264(Register Eq_2 eax, Register Eq_2 edx)
void fn00404264(Eq_2 eax, Eq_2 edx)
{
	Eq_2 ebx_11 = eax;
	Eq_2 esi_13;
	do
	{
		ptr32 edx_16 = *ebx_11;
		if (edx_16 != 0x00)
		{
			*ebx_11 = 0x00;
			int32 ecx_21 = *(edx_16 - 0x08);
			if (ecx_21 >= 0x01)
			{
				__lock();
				word32 v12_25 = *(edx_16 - 0x08) - 0x01;
				*(edx_16 - 0x08) = v12_25;
				if (v12_25 == 0x00)
				{
					word32 ecx_72;
					fn00402A58(edx_16 - 0x08, ecx_21 - 0x01, out ecx_72);
				}
			}
		}
		ebx_11 = (word32) ebx_11 + 0x04;
		--esi_13;
	} while (esi_13 != 0x00);
}

// 00404294: Register Eq_2 fn00404294(Register Eq_2 eax, Register Eq_2 edx)
Eq_2 fn00404294(Eq_2 eax, Eq_2 edx)
{
	if (edx != 0x00)
	{
		int32 ecx_9 = *(edx - 0x08);
		ecx = ecx_9 + 0x01;
		if (ecx_9 <= 0x01)
		{
			Eq_2 eax_22 = fn00404304(*(edx - 0x04), ecx_9 + 0x01);
			ecx = fn00402C1C(edx, *(edx - 0x04), eax_22);
			edx = eax_22;
		}
		else
		{
			__lock();
			++*(edx - 0x08);
		}
	}
	Eq_2 v9_49 = *eax;
	*eax = edx;
	if (v9_49 != 0x00)
	{
		int32 ecx_56 = *(v9_49 - 0x08);
		ecx = ecx_56 - 0x01;
		if (ecx_56 >= 0x01)
		{
			__lock();
			word32 v11_60 = *(v9_49 - 0x08) - 0x01;
			*(v9_49 - 0x08) = v11_60;
			if (v11_60 == 0x00)
				fn00402A58(v9_49 - 0x08, ecx_56 - 0x01, out ecx);
		}
	}
	return ecx;
}

// 004042D8: void fn004042D8(Register (ptr32 Eq_2) eax, Register Eq_2 edx)
void fn004042D8(union Eq_2 * eax, Eq_2 edx)
{
	if (edx != 0x00 && *(edx - 0x08) > 0x01)
	{
		__lock();
		++*(edx - 0x08);
	}
	Eq_2 v9_18 = *eax;
	*eax = (union Eq_2 *) edx;
	if (v9_18 != 0x00)
	{
		int32 ecx_25 = *(v9_18 - 0x08);
		if (ecx_25 >= 0x01)
		{
			__lock();
			word32 v12_29 = *(v9_18 - 0x08) - 0x01;
			*(v9_18 - 0x08) = v12_29;
			if (v12_29 == 0x00)
			{
				word32 ecx_63;
				fn00402A58(v9_18 - 0x08, ecx_25 - 0x01, out ecx_63);
			}
		}
	}
}

// 00404304: Register Eq_2 fn00404304(Register Eq_2 eax, Register Eq_2 ecx)
Eq_2 fn00404304(Eq_2 eax, Eq_2 ecx)
{
	if (eax <= 0x00)
		return 0x00;
	Eq_2 eax_13 = (word32) eax + 0x0A & ~0x01;
	struct Eq_707 * eax_20 = fn00402A28(eax_13, ecx);
	Mem30[eax_13 - 0x02 + eax_20:word16] = 0x00;
	eax_20->t0004 = eax;
	eax_20->t0000 = (<anonymous>) (struct Eq_707 *) 0x01;
	return &eax_20->t0008;
}

// 00404330: Register Eq_2 fn00404330(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx, Register out ptr32 edxOut)
Eq_2 fn00404330(Eq_2 eax, Eq_2 ecx, Eq_2 edx, ptr32 & edxOut)
{
	Eq_2 eax_21 = fn00404304(ecx, ecx);
	if (edx != 0x00)
		fn00402C1C(edx, ecx, eax_21);
	ptr32 edx_46;
	Eq_2 ecx_48 = fn00404240(eax, out edx_46);
	*eax = eax_21;
	edxOut = edx_46;
	return ecx_48;
}

// 00404428: void fn00404428(Register Eq_2 eax)
void fn00404428(Eq_2 eax)
{
	word32 edx_21;
	fn00404330(eax, 0x01, fp - 0x04, out edx_21);
}

// 00404438: Register Eq_2 fn00404438(Register Eq_2 eax, Register Eq_2 edx, Register out ptr32 edxOut)
Eq_2 fn00404438(Eq_2 eax, Eq_2 edx, ptr32 & edxOut)
{
	Eq_2 ecx_4 = 0x00;
	if (edx != 0x00)
	{
		edx_12 = edx;
		while (true)
		{
			Eq_2 edx_12;
			if (*edx_12 == 0x00)
				break;
			if (*((word32) edx_12 + 0x01) == 0x00)
			{
l00404459:
				edx_12 = (word32) edx_12 + 0x01;
				break;
			}
			if (*((word32) edx_12 + 0x02) == 0x00)
			{
l00404458:
				edx_12 = (word32) edx_12 + 0x01;
				goto l00404459;
			}
			if (*((word32) edx_12 + 0x03) == 0x00)
			{
				edx_12 = (word32) edx_12 + 0x01;
				goto l00404458;
			}
			edx_12 = (word32) edx_12 + 0x04;
		}
		ecx_4 = edx_12 - edx;
	}
	ptr32 edx_58;
	Eq_2 ecx_57 = fn00404330(eax, ecx_4, edx, out edx_58);
	edxOut = edx_58;
	return ecx_57;
}

// 004044A4: void fn004044A4(Register Eq_2 eax, Register (ptr32 byte) edx)
void fn004044A4(Eq_2 eax, byte * edx)
{
	Eq_2 ecx_13 = (uint32) (uint8) *edx;
	word32 edx_22;
	fn00404330(eax, ecx_13, edx + 0x01, out edx_22);
}

// 004044B0: Register Eq_2 fn004044B0(Register Eq_2 eax, Register word32 ecx, Register Eq_2 edx)
Eq_2 fn004044B0(Eq_2 eax, word32 ecx, Eq_2 edx)
{
	Eq_2 edi_14 = edx;
	bool Z_25 = SLICE(cond(0x00), bool, 2);
	ecx_18 = ecx;
	do
	{
		word32 ecx_18;
		if (ecx_18 == 0x00)
			break;
		Z_25 = SLICE(cond(0x00 - *edi_72), bool, 2);
		edi_14 = (word32) edi_72 + 0x01;
		--ecx_18;
		edi_72 = edi_14;
	} while (*edi_72 == 0x00);
	if (!Z_25)
		ecx_18 = ~ecx_18;
	Eq_2 ecx_39 = ecx_18 + ecx;
	Eq_2 edx_53;
	fn00404330(eax, ecx_39, edx, out edx_53);
	return edx_53;
}

// 00404500: Register Eq_2 fn00404500(Register Eq_2 eax)
Eq_2 fn00404500(Eq_2 eax)
{
	if (eax != 0x00)
		eax = *(eax - 0x04);
	return eax;
}

// 00404508: void fn00404508(Register Eq_2 eax, Register Eq_2 edx)
void fn00404508(Eq_2 eax, Eq_2 edx)
{
	if (edx == 0x00)
		return;
	Eq_2 ecx_10 = *eax;
	if (ecx_10 == 0x00)
		fn00404294(eax, edx);
	else
	{
		Eq_2 ecx_40;
		Eq_2 eax_39;
		Eq_2 edi_34 = *(ecx_10 - 0x04);
		if (edx != ecx_10)
		{
			fn00404830(eax, ecx, edx);
			eax_39 = edx;
			ecx_40 = *(edx - 0x04);
		}
		else
		{
			fn00404830(eax, ecx, edx);
			eax_39 = *eax;
			ecx_40 = edi_34;
		}
		fn00402C1C(eax_39, ecx_40, Mem31[eax + 0x00:word32] + edi_34);
	}
}

// 0040454C: void fn0040454C(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn0040454C(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	if (edx == 0x00)
		fn00404294(eax, ecx);
	else if (ecx == 0x00)
		fn00404294(eax, edx);
	else if (edx == *eax)
		fn00404508(eax, ecx);
	else if (ecx == *eax)
	{
		Eq_2 eax_61 = fn00404304(*(edx - 0x04) + *(ecx - 0x04), ecx);
		fn00402C1C(edx, *(edx - 0x04), eax_61);
		fn00402C1C(ecx, *(ecx - 0x04), (word32) eax_61 + *(edx - 0x04));
		if (eax_61 != 0x00)
			--*(eax_61 - 0x08);
		fn00404294(eax, eax_61);
	}
	else
	{
		fn00404294(eax, edx);
		fn00404508(eax, ecx);
	}
}

// 0040464C: FlagGroup bool fn0040464C(Register Eq_2 eax, Register Eq_2 edx, Register out Eq_2072 ecxOut, Register out Eq_2 edxOut)
bool fn0040464C(Eq_2 eax, Eq_2 edx, union Eq_2072 & ecxOut, union Eq_2 & edxOut)
{
	Eq_2 esi_101 = eax;
	Eq_2 edi_102 = edx;
	bool Z_124 = SLICE(cond(eax - edx), bool, 2);
	if (eax != edx)
	{
		if (eax == 0x00)
		{
			edx = *(edx - 0x04);
			Z_124 = SLICE(cond(eax - edx), bool, 2);
			goto l004046EA;
		}
		if (edx == 0x00)
		{
			Z_124 = SLICE(cond(*(eax - 0x04) - edx), bool, 2);
			goto l004046EA;
		}
		Eq_2 edx_32 = *(edx - (union Eq_2 *) 0x04);
		uint32 eax_33 = *(eax - (word32 *) 0x04) - edx_32;
		if (eax_33 <= 0x00)
			edx_32 = (word32) edx_32 + eax_33;
		uint32 edx_104 = edx_32 >> 0x02;
		if (edx_104 != 0x00)
		{
			do
			{
				ecx = *esi_101;
				Eq_2072 ebx_245 = *edi_102;
				if (ecx != ebx_245)
				{
l004046D5:
					byte bl_71 = (byte) ebx_245;
					byte cl_68 = (byte) ecx;
					byte bh_79 = SLICE(ebx_245, byte, 8);
					byte ch_76 = SLICE(ecx, byte, 8);
					edx = edx_32;
					Z_124 = SLICE(cond(cl_68 - bl_71), bool, 2);
					if (cl_68 == bl_71)
					{
						Z_124 = SLICE(cond(ch_76 - bh_79), bool, 2);
						if (ch_76 == bh_79)
						{
							byte cl_94 = (byte) (ecx >> 0x10);
							byte bl_95 = (byte) (ebx_245 >> 0x10);
							ecx >>= 0x10;
							byte ch_98 = SLICE(ecx >> 0x10, byte, 8);
							byte bh_99 = SLICE(ebx_245 >> 0x10, byte, 8);
							Z_124 = SLICE(cond(cl_94 - bl_95), bool, 2);
							if (cl_94 == bl_95)
							{
								ecx >>= 0x10;
								Z_124 = SLICE(cond(ch_98 - bh_99), bool, 2);
							}
						}
					}
					goto l004046EA;
				}
				uint32 edx_53 = edx_104 - 0x01;
				if (edx_53 == 0x00)
				{
					esi_101 = (word32) esi_101 + 0x04;
					edi_102 = (word32) edi_102 + 0x04;
					break;
				}
				ecx = *((word32) esi_101 + 0x04);
				ebx_245 = *((word32) edi_102 + 0x04);
				if (ecx != ebx_245)
					goto l004046D5;
				esi_101 = (word32) esi_101 + 0x08;
				edi_102 = (word32) edi_102 + 0x08;
				edx_104 = edx_53 - 0x01;
			} while (edx_53 != 0x01);
		}
		edx = edx_32 & 0x03;
		if ((edx_32 & 0x03) == 0x00)
		{
l004046C3:
			Z_124 = SLICE(cond(eax_33 * 0x02), bool, 2);
			goto l004046EA;
		}
		ecx = *esi_101;
		ui32 ebx_120 = *edi_102;
		byte cl_121 = (byte) ecx;
		byte bl_122 = (byte) ebx_120;
		byte ch_128 = SLICE(ecx, byte, 8);
		byte bh_129 = SLICE(ebx_120, byte, 8);
		Z_124 = SLICE(cond(cl_121 - bl_122), bool, 2);
		if (cl_121 == bl_122)
		{
			edx = (edx_32 & 0x03) - 0x01;
			if (edx == 0x00)
				goto l004046C3;
			Z_124 = SLICE(cond(ch_128 - bh_129), bool, 2);
			if (ch_128 == bh_129)
			{
				--edx;
				if (edx == 0x01)
					goto l004046C3;
				ecx &= 0x00FF0000;
				Z_124 = SLICE(cond((ecx & 0x00FF0000) - (ebx_120 & 0x00FF0000)), bool, 2);
				if ((ecx & 0x00FF0000) == (ebx_120 & 0x00FF0000))
					goto l004046C3;
			}
		}
	}
l004046EA:
	ecxOut = ecx;
	edxOut = edx;
	return Z_124;
}

// 004046F0: void fn004046F0(Register Eq_2 eax)
void fn004046F0(Eq_2 eax)
{
	if (eax != 0x00 && *(eax - 0x08) > 0x01)
	{
		__lock();
		++*(eax - 0x08);
	}
}

// 00404700: Register Eq_2 fn00404700(Register Eq_2 eax)
Eq_2 fn00404700(Eq_2 eax)
{
	if (eax == 0x00)
		return 0x00404705;
	return eax;
}

// 00404750: void fn00404750(Register Eq_2 eax)
void fn00404750(Eq_2 eax)
{
	Eq_2 edx_6 = *eax;
	if (edx_6 != 0x00)
	{
		word32 ecx_10 = *(edx_6 - 0x08);
		if (ecx_10 != 0x01)
		{
			Eq_2 eax_20 = fn00404304(*(edx_6 - 0x04), ecx_10 - 0x01);
			Eq_2 eax_29 = *eax;
			*eax = eax_20;
			fn00402C1C(eax_29, *(eax_29 - 0x04), eax_20);
			int32 ecx_43 = *(eax_29 - 0x08);
			if (ecx_43 >= 0x01)
			{
				__lock();
				word32 v11_47 = *(eax_29 - 0x08) - 0x01;
				*(eax_29 - 0x08) = v11_47;
				if (v11_47 == 0x00)
				{
					word32 ecx_97;
					fn00402A58(eax_29 - 0x08, ecx_43 - 0x01, out ecx_97);
				}
			}
		}
	}
}

// 00404760: Register Eq_2 fn00404760(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2344 edx, Stack Eq_2 dwArg04)
Eq_2 fn00404760(Eq_2 eax, Eq_2 ecx, Eq_2344 edx, Eq_2 dwArg04)
{
	Eq_2 ecx_42;
	if (eax != 0x00)
	{
		int32 ebx_11 = *(eax - 0x04);
		if (ebx_11 == 0x00)
			goto l00404792;
		int32 edx_16 = edx - 0x01;
		if (edx >= 0x01)
		{
			if (edx - 0x01 >= ebx_11)
				goto l00404792;
		}
		else
			edx_16 = 0x00;
		Eq_2 ebx_26 = ebx_11 - edx_16;
		if (ecx >= 0x00)
		{
			if (ecx > ebx_26)
				ecx = ebx_26;
			word32 edx_61;
			ecx_42 = fn00404330(dwArg04, ecx, (word32) eax + edx_16, out edx_61);
			return ecx_42;
		}
	}
l00404792:
	word32 edx_40;
	ecx_42 = fn00404240(dwArg04, out edx_40);
	return ecx_42;
}

// 004047A0: void fn004047A0(Register Eq_2 eax, Register int32 ecx, Register int32 edx)
void fn004047A0(Eq_2 eax, int32 ecx, int32 edx)
{
	fn00404750(eax);
	int32 edi_18 = ecx;
	ptr32 edx_28 = *eax;
	if (edx_28 != 0x00)
	{
		int32 ecx_32 = *(edx_28 - 0x04);
		if (edx >= 0x01 && (edx - 0x01 < ecx_32 && ecx > 0x00))
		{
			int32 ecx_40 = ecx_32 - (edx - 0x01);
			if (ecx > ecx_40)
				edi_18 = ecx_40;
			Eq_2 edx_49 = edx_28 + (edx - 0x01);
			fn00404830(eax, fn00402C1C((word32) edx_49 + edi_18, ecx_40 - edi_18, edx_49), *(*eax - 0x04) - edi_18);
		}
	}
}

// 004047E8: Register (ptr32 byte) fn004047E8(Register (ptr32 byte) eax, Register Eq_2 edx)
byte * fn004047E8(byte * eax, Eq_2 edx)
{
	if (eax == null)
		return eax;
	if (edx == 0x00)
		return null;
	Eq_2 edi_195 = edx;
	word32 ecx_26 = *(edx - 0x04);
	int32 edx_29 = *(eax - 0x04);
	if (edx_29 >= 0x01)
	{
		int32 ecx_103 = ecx_26 - (edx_29 - 0x01);
		byte al_33 = *eax;
		bool Z_107 = SLICE(cond(ecx_103), bool, 2);
		if (ecx_103 > 0x00)
		{
			do
			{
				byte * esi_62 = eax + 0x01;
				if (ecx_103 != 0x00)
				{
					Z_107 = SLICE(cond(al_33 - *edi_195), bool, 2);
					edi_195 = (word32) edi_195 + 0x01;
					--ecx_103;
					if (al_33 == *edi_195)
						continue;
				}
				if (Z_107)
					goto l0040481C;
				int32 ecx_69 = edx_29 - 0x01;
				edi_73 = edi_195;
				do
				{
					Eq_2 edi_73;
					if (ecx_69 == 0x00)
						break;
					Z_107 = SLICE(cond(*esi_196 - *edi_197), bool, 2);
					esi_62 = esi_196 + 0x01;
					edi_73 = (word32) edi_197 + 0x01;
					--ecx_69;
					esi_196 = esi_62;
					edi_197 = edi_73;
				} while (*esi_196 != *edi_197);
			} while (!Z_107);
			eax = edi_195 - edx;
			return eax;
		}
	}
l0040481C:
	eax = null;
	return eax;
}

// 00404830: void fn00404830(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn00404830(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	Eq_2 edi_17 = 0x00;
	if (edx > 0x00)
	{
		Eq_2 eax_20 = *eax;
		if (eax_20 != 0x00 && *(eax_20 - 0x08) == 0x01)
		{
			fn00402A78(fp - 0x0010, (word32) edx + 0x09, dwLoc14);
			*eax = eax_20;
			*(eax_20 - 0x04) = (union Eq_2 *) edx;
			Mem95[edx + eax_20:byte] = 0x00;
			return;
		}
		Eq_2 eax_32 = fn00404304(edx, ecx);
		edi_17 = eax_32;
		Eq_2 eax_43 = *eax;
		if (eax_43 != 0x00)
		{
			Eq_2 ecx_48 = *(eax_43 - 0x04);
			if (ecx_48 >= edx)
				ecx_48 = edx;
			fn00402C1C(eax_43, ecx_48, eax_32);
		}
	}
	word32 edx_68;
	fn00404240(eax, out edx_68);
	*eax = edi_17;
}

// 00404894: Register word32 fn00404894(Register (ptr32 Eq_312) eax, Register (ptr32 byte) edx)
word32 fn00404894(struct Eq_312 * eax, byte * edx)
{
	fn004048B0(eax, 0x00, edx);
	return esi;
}

// 004048B0: void fn004048B0(Register (ptr32 Eq_312) eax, Register int32 ecx, Register (ptr32 byte) edx)
void fn004048B0(struct Eq_312 * eax, int32 ecx, byte * edx)
{
	int32 edx_10 = ecx;
	int32 ecx_11 = 0x00;
	if (edx != null)
	{
		ecx_11 = *(edx - 0x04);
		edx_10 = ecx - ecx_11;
	}
	fn004031AC(eax, edx_10);
	fn00403158(eax, ecx_11, edx);
}

// 00404900: void fn00404900(Register Eq_2 eax)
void fn00404900(Eq_2 eax)
{
	wchar_t * edx_6 = *eax;
	if (edx_6 != null)
	{
		*eax = null;
		SysFreeString(edx_6);
	}
}

// 00404918: void fn00404918(Register Eq_2 eax, Register Eq_2 edx)
void fn00404918(Eq_2 eax, Eq_2 edx)
{
	Eq_2 ebx_11 = eax;
	Eq_2 esi_13;
	do
	{
		wchar_t * eax_16 = *ebx_11;
		if (eax_16 != null)
		{
			*ebx_11 = 0x00;
			SysFreeString(eax_16);
		}
		ebx_11 = (word32) ebx_11 + 0x04;
		--esi_13;
	} while (esi_13 != 0x00);
}

// 0040493C: void fn0040493C(Register Eq_2 eax, Register Eq_2636 edx)
void fn0040493C(Eq_2 eax, Eq_2636 edx)
{
	if (edx == 0x00)
		fn00404900(eax);
	else
	{
		uint32 ecx_17 = *(edx - 0x04);
		if (ecx_17 >> 0x01 == 0x00)
			fn00404900(eax);
		else
		{
			Eq_2654 eax_34 = SysReAllocStringLen(eax, edx, ecx_17 >> 0x01);
			word24 eax_24_8_39 = SLICE(eax_34, word24, 8);
			if (eax_34 != 0x00)
				return;
			ui32 eax_40 = SEQ(eax_24_8_39, 0x01);
			fn00402B7C(eax_40, ecx_17 >> 0x01, eax);
		}
	}
}

// 00404B90: Register Eq_2 fn00404B90(Register (ptr32 Eq_2673) eax, Register (ptr32 Eq_2674) edx, Register out (ptr32 Eq_2675) edxOut)
Eq_2 fn00404B90(struct Eq_2673 * eax, struct Eq_2674 * edx, struct Eq_2675 & edxOut)
{
	Eq_2676 ecx_21 = (uint32) (uint8) edx->b0001;
	struct Eq_2682 * esi_22 = edx + ((word32) ecx_21 + 0x0A) / 0x02;
	int32 edi_23;
	do
	{
		// Failed to bind call argument.
		// Please report this issue at https://github.com/uxmal/reko
		Eq_2 stackArg0 = <invalid>;
		struct Eq_2675 * edx_38;
		Eq_2 ecx_37 = fn00404BC0(eax + esi_22->dw0004 / 0x04, 0x01, *esi_22->ptr0000, stackArg0, out edx_38);
		++esi_22;
		--edi_23;
	} while (edi_23 > 0x00);
	edxOut = edx_38;
	return ecx_37;
}

// 00404BC0: Register Eq_2 fn00404BC0(Register (ptr32 Eq_2673) eax, Register Eq_2 ecx, Register (ptr32 Eq_2674) edx, Stack Eq_2 dwArg00, Register out (ptr32 Eq_2674) edxOut)
Eq_2 fn00404BC0(struct Eq_2673 * eax, Eq_2 ecx, struct Eq_2674 * edx, Eq_2 dwArg00, struct Eq_2674 & edxOut)
{
	word24 eax_24_8_131 = SLICE(eax, word24, 8);
	if (ecx == 0x00)
	{
l00404C52:
		edxOut = edx;
		return ecx;
	}
	struct Eq_2673 * ebx_107 = eax;
	Eq_2 edi_111 = ecx;
	Eq_2 al_23 = edx->t0000;
	ecx.u0 = 0x00;
	edx = (uint32) (uint8) edx->b0001;
	if (al_23 == 0x0A || al_23 == 11)
	{
l00404C00:
		do
		{
			ebx_107->dw0000 = 0x00;
			++ebx_107;
			--edi_111;
		} while (edi_111 > 0x00);
		goto l00404C4F;
	}
	else
	{
		if (al_23 != 0x0C)
		{
			if (al_23 != 0x0D)
			{
				if (al_23 != 0x0E)
				{
					if (al_23 != 0x0F && al_23 != 0x11)
					{
						ui32 eax_132 = SEQ(eax_24_8_131, 0x02);
						fn00402B7C(eax_132, 0x00, dwArg00);
					}
					goto l00404C00;
				}
				do
				{
					ebx_107 += Mem78[edx + 0x02 + edx:word32];
					ecx = fn00404B90(ebx_107, edx, out edx);
					--edi_111;
				} while (edi_111 > 0x00);
			}
			else
			{
				do
				{
					// Failed to bind call argument.
					// Please report this issue at https://github.com/uxmal/reko
					ebx_107 += Mem47[edx + 0x02 + edx:word32];
					Eq_2 stackArg0 = <invalid>;
					ecx = fn00404BC0(ebx_107, Mem47[edx + 0x06 + edx:word32], Mem47[Mem47[edx + 0x0A + edx:word32] + 0x00:word32], stackArg0, out edx);
					--edi_111;
				} while (edi_111 > 0x00);
			}
		}
		else
		{
			do
			{
				ebx_107->dw0000 = 0x00;
				ebx_107[0x01] = (struct Eq_2673) 0x00;
				ebx_107[0x02] = (struct Eq_2673) 0x00;
				ebx_107[0x03] = (struct Eq_2673) 0x00;
				ebx_107 += 0x04;
				--edi_111;
			} while (edi_111 > 0x00);
		}
l00404C4F:
		goto l00404C52;
	}
}

// 00404C60: Register word32 fn00404C60(Register Eq_2 eax, Register (ptr32 Eq_2827) edx)
word32 fn00404C60(Eq_2 eax, struct Eq_2827 * edx)
{
	Eq_2828 ecx_21 = (uint32) (uint8) edx->b0001;
	struct Eq_2834 * esi_22 = edx + ((word32) ecx_21 + 0x0A) / 0x02;
	int32 edi_23;
	do
	{
		// Failed to bind call argument.
		// Please report this issue at https://github.com/uxmal/reko
		Eq_2 stackArg0 = <invalid>;
		word32 ecx_37;
		word32 ebp_65;
		fn00404CAC((word32) eax + esi_22->dw0004, 0x01, *esi_22->ptr0000, stackArg0, out ecx_37, out ebp_65);
		++esi_22;
		--edi_23;
	} while (edi_23 > 0x00);
	return ecx_37;
}

// 00404C94: Register Eq_2 fn00404C94(Register Eq_2875 eax, Register Eq_2 ecx)
Eq_2 fn00404C94(Eq_2875 eax, Eq_2 ecx)
{
	if (globals->ptr42800C == null)
		fn00402B7C(SEQ(eax_24_8, 0x10), ecx, dwLoc04);
	else
	{
		Eq_2 ecx_15;
		globals->ptr42800C();
		return ecx_15;
	}
}

// 00404CAC: Register Eq_2 fn00404CAC(Register Eq_2 eax, Register Eq_2 ecx, Register (ptr32 Eq_2827) edx, Stack Eq_2 dwArg00, Register out Eq_2 ecxOut, Register out ptr32 ebpOut)
Eq_2 fn00404CAC(Eq_2 eax, Eq_2 ecx, struct Eq_2827 * edx, Eq_2 dwArg00, union Eq_2 & ecxOut, ptr32 & ebpOut)
{
	if (ecx != 0x00)
	{
		Eq_2 ebx_119 = eax;
		Eq_2 edi_100 = ecx;
		Eq_2 al_24 = edx->t0000;
		struct Eq_2898 * edx_88 = (uint32) (uint8) edx->b0001;
		if (al_24 != 0x0A)
		{
			if (al_24 != 11)
			{
				if (al_24 != 0x0C)
				{
					if (al_24 != 0x0D)
					{
						if (al_24 != 0x0E)
						{
							if (al_24 != 0x0F)
							{
								if (al_24 != 0x11)
								{
									ui32 eax_204 = SEQ(SLICE(eax, word24, 8), 0x02);
									fn00402B7C(eax_204, ecx, dwArg00);
								}
								do
								{
									ebx_119 = (word32) ebx_119 + 0x04;
									ecx = fn0040547C(ebx_119, edx);
									--edi_100;
								} while (edi_100 > 0x00);
							}
							else
							{
								do
								{
									fn00405BC8(ebx_119);
									ebx_119 = (word32) ebx_119 + 0x04;
									--edi_100;
								} while (edi_100 > 0x00);
							}
						}
						else
						{
							do
							{
								ebx_119 += Mem117[edx + 0x02 + edx_88:word32];
								ecx = fn00404C60(ebx_119, edx);
								--edi_100;
							} while (edi_100 > 0x00);
						}
					}
					else
					{
						do
						{
							// Failed to bind call argument.
							// Please report this issue at https://github.com/uxmal/reko
							ebx_119 += Mem86[edx + 0x02 + edx_88:word32];
							Eq_2 stackArg0 = <invalid>;
							word32 ebp_293;
							fn00404CAC(ebx_119, Mem86[edx + 0x06 + edx_88:word32], Mem86[Mem86[edx + 0x0A + edx_88:word32] + 0x00:word32], stackArg0, out ecx, out ebp_293);
							--edi_100;
						} while (edi_100 > 0x00);
					}
				}
				else
				{
					do
					{
						ebx_119 = (word32) ebx_119 + 0x0010;
						ecx = fn00404C94(SLICE(ebx_119, word24, 8), ecx);
						--edi_100;
					} while (edi_100 > 0x00);
				}
			}
			else if (ecx <= 0x01)
				fn00404900(eax);
			else
				fn00404918(eax, ecx);
		}
		else if (ecx <= 0x01)
		{
			word32 edx_294;
			ecx = fn00404240(eax, out edx_294);
		}
		else
			fn00404264(eax, ecx);
	}
	ecxOut = ecx;
	ebpOut = ebp;
	return <invalid>;
}

// 00404DA4: Register Eq_2 fn00404DA4(Register Eq_3010 eax, Register Eq_2 ecx)
Eq_2 fn00404DA4(Eq_3010 eax, Eq_2 ecx)
{
	if (globals->ptr428014 == null)
		fn00402B7C(SEQ(eax_24_8, 0x10), ecx, dwLoc04);
	else
	{
		Eq_2 ecx_15;
		globals->ptr428014();
		return ecx_15;
	}
}

// 00404DBC: void fn00404DBC(Register Eq_2 eax, Register (ptr32 Eq_2827) ecx, Register Eq_2 edx, Register Eq_2 ebx)
void fn00404DBC(Eq_2 eax, struct Eq_2827 * ecx, Eq_2 edx, Eq_2 ebx)
{
	struct Eq_3028 * edi_192 = ecx + ((uint32) ((uint8) ecx->b0001) + 0x0A) / 0x02;
	word32 ebp_128;
	word32 eax_191 = 0x00;
	word32 ecx_30 = (edi_192 - (struct Eq_3046 *) 0x08)->ptr0000;
	do
	{
		Eq_2 ecx_37 = edi_192->dw0004 - eax_191;
		word24 ecx_24_8_96 = SLICE(ecx_37, word24, 8);
		if (ecx_37 > 0x00)
			ecx_24_8_96 = SLICE(fn00402C1C((word32) edx + eax_191, ecx_37, (word32) eax + eax_191), word24, 8);
		word32 eax_107;
		Eq_2636 (* eax_55)[] = edi_192->dw0004;
		struct Eq_2827 * edx_57 = *edi_192->ptr0000;
		word24 eax_24_8_235 = SLICE(eax_55, word24, 8);
		Eq_2 cl_58 = edx_57->t0000;
		if (cl_58 != 0x0A)
		{
			if (cl_58 != 11)
			{
				Eq_2 ecx_99 = SEQ(ecx_24_8_96, cl_58);
				if (cl_58 != 0x0C)
				{
					if (cl_58 != 0x0D)
					{
						if (cl_58 != 0x0E)
						{
							if (cl_58 != 0x0F)
							{
								Eq_2 ecx_237 = SEQ(ecx_24_8_96, cl_58);
								if (cl_58 != 0x11)
								{
									ui32 eax_236 = SEQ(eax_24_8_235, 0x02);
									fn00402B7C(eax_236, ecx_237, ebx);
								}
								fn004054B8(eax_55 + eax, edx_57, Mem34[eax_55 + edx:word32]);
								eax_107 = 0x04;
							}
							else
							{
								fn00405BE0(eax_55 + eax, Mem34[eax_55 + edx:word32]);
								eax_107 = 0x04;
							}
						}
						else
						{
							word32 ecx_146 = Mem34[(uint32) (uint8) Mem34[edx_57 + 0x01:byte] + 0x02 + edx_57:word32];
							fn00404DBC(eax_55 + eax, edx_57, eax_55 + edx, eax);
							eax_107 = ecx_146;
						}
					}
					else
					{
						// Failed to bind call argument.
						// Please report this issue at https://github.com/uxmal/reko
						Eq_3105 ecx_113 = (uint32) (uint8) edx_57->b0001;
						Eq_2 stackArg0 = <invalid>;
						fn00404ED8(eax_55 + eax, Mem121[Mem121[ecx_113 + 0x0A + edx_57:word32] + 0x00:word32], eax_55 + edx, stackArg0, Mem118[ecx_113 + 0x06 + edx_57:word32]);
						eax_107 = ecx_30;
					}
				}
				else
				{
					fn00404DA4(SLICE(eax_55 + eax, word24, 8), ecx_99);
					eax_107 = 0x10;
				}
			}
			else
			{
				fn0040493C(eax_55 + eax, Mem34[eax_55 + edx:word32]);
				eax_107 = 0x04;
			}
		}
		else
		{
			fn00404294(eax_55 + eax, Mem34[eax_55 + edx:word32]);
			eax_107 = 0x04;
		}
		eax_191 = eax_107 + edi_192->dw0004;
		edi_192 += 0x08;
		--ebp_128;
	} while (ebp_128 != 0x00);
	Eq_2 ecx_201 = ecx_30 - eax_191;
	if (ecx_201 > 0x00)
		fn00402C1C((word32) edx + eax_191, ecx_201, (word32) eax + eax_191);
}

// 00404ED8: void fn00404ED8(Register Eq_2 eax, Register (ptr32 Eq_2827) ecx, Register Eq_2 edx, Stack Eq_2 dwArg00, Stack Eq_2 dwArg04)
void fn00404ED8(Eq_2 eax, struct Eq_2827 * ecx, Eq_2 edx, Eq_2 dwArg00, Eq_2 dwArg04)
{
	word24 eax_24_8_226 = SLICE(eax, word24, 8);
	word24 ecx_24_8_228 = SLICE(ecx, word24, 8);
	ptr32 esp_109 = fp - 0x0010;
	Eq_2 ebx_101 = eax;
	Eq_2 esi_103 = edx;
	Eq_2 ebp_112 = dwArg04;
	Eq_2 cl_23 = ecx->t0000;
	if (cl_23 == 0x0A)
	{
		do
		{
			fn00404294(ebx_101, *esi_103);
			ebx_101 = (word32) ebx_101 + 0x04;
			esi_103 = (word32) esi_103 + 0x04;
			--ebp_112;
		} while (ebp_112 != 0x00);
	}
	else if (cl_23 == 11)
	{
		do
		{
			fn0040493C(ebx_101, *esi_103);
			ebx_101 = (word32) ebx_101 + 0x04;
			esi_103 = (word32) esi_103 + 0x04;
			--ebp_112;
		} while (ebp_112 != 0x00);
	}
	else
	{
		Eq_2 ecx_231 = SEQ(ecx_24_8_228, cl_23);
		if (cl_23 == 0x0C)
		{
			do
			{
				ecx_231 = fn00404DA4(SLICE(ebx_101, word24, 8), ecx_231);
				ebx_101 = (word32) ebx_101 + 0x0010;
				--ebp_112;
			} while (ebp_112 != 0x00);
		}
		else if (cl_23 == 0x0D)
		{
			struct Eq_3265 * edi_100 = ecx + ((uint32) ((uint8) ecx->b0001) + 0x02) / 0x02;
			do
			{
				struct Eq_2827 * ecx_107 = edi_100->ptr0008;
				word32 * esp_110 = esp_109 - 0x04;
				*esp_110 = edi_100->dw0004;
				// Failed to bind call argument.
				// Please report this issue at https://github.com/uxmal/reko
				Eq_2 stackArg0 = <invalid>;
				fn00404ED8(ebx_101, ecx_107, esi_103, stackArg0, dwArg00);
				esp_109 = esp_110 + 0x02;
				ebx_101 = (word32) ebx_101 + edi_100->dw0000;
				esi_103 = (word32) esi_103 + edi_100->dw0000;
				--ebp_112;
			} while (ebp_112 != 0x00);
		}
		else if (cl_23 == 0x0E)
		{
			do
			{
				fn00404DBC(ebx_101, ecx, esi_103, ebx_101);
				struct Eq_3278 * eax_149 = (uint32) (uint8) ecx->b0001;
				ebx_101 += Mem15[eax_149 + 0x02 + ecx:word32];
				esi_103 += Mem15[eax_149 + 0x02 + ecx:word32];
				--ebp_112;
			} while (ebp_112 != 0x00);
		}
		else if (cl_23 == 0x0F)
		{
			do
			{
				fn00405BE0(ebx_101, *esi_103);
				ebx_101 = (word32) ebx_101 + 0x04;
				esi_103 = (word32) esi_103 + 0x04;
				--ebp_112;
			} while (ebp_112 != 0x00);
		}
		else
		{
			Eq_2 ecx_229 = SEQ(ecx_24_8_228, cl_23);
			if (cl_23 == 0x11)
			{
				do
				{
					fn004054B8(ebx_101, ecx, *esi_103);
					ebx_101 = (word32) ebx_101 + 0x04;
					esi_103 = (word32) esi_103 + 0x04;
					--ebp_112;
				} while (ebp_112 != 0x00);
			}
			else
			{
				ui32 eax_227 = SEQ(eax_24_8_226, 0x02);
				fn00402B7C(eax_227, ecx_229, dwArg00);
			}
		}
	}
}

// 00405294: Register ptr32 fn00405294(Register ptr32 eax)
ptr32 fn00405294(ptr32 eax)
{
	if (eax != 0x00)
		eax = *(eax - 0x04);
	return eax;
}

// 0040529C: Register ptr32 fn0040529C(Register ptr32 eax)
ptr32 fn0040529C(ptr32 eax)
{
	return fn00405294(eax) - 0x01;
}

// 004052A4: Register word32 fn004052A4(Register Eq_2 eax, Register (ptr32 Eq_2827) ecx, Register Eq_2 edx, Stack Eq_2 dwArg04)
word32 fn004052A4(Eq_2 eax, struct Eq_2827 * ecx, Eq_2 edx, Eq_2 dwArg04)
{
	fn00404ED8(eax, ecx, edx, dwLoc0C, dwArg04);
	return dwArg00;
}

// 004052B4: Register word32 fn004052B4(Register Eq_2 eax, Register Eq_2 ecx, Register (ptr32 Eq_2827) edx, Stack Eq_2 dwArg00)
word32 fn004052B4(Eq_2 eax, Eq_2 ecx, struct Eq_2827 * edx, Eq_2 dwArg00)
{
	word32 ebp_12;
	word32 ecx_18;
	fn00404CAC(eax, ecx, edx, dwArg00, out ecx_18, out ebp_12);
	return ebp_12;
}

// 004052BC: Register Eq_2 fn004052BC(Register Eq_2 eax, Register (ptr32 Eq_2827) edx)
Eq_2 fn004052BC(Eq_2 eax, struct Eq_2827 * edx)
{
	return fn0040547C(eax, edx);
}

// 004052C4: Register Eq_2 fn004052C4(Register Eq_2 eax, Register Eq_2 ecx, Register (ptr32 Eq_2827) edx, Stack Eq_2 dwArg04, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_2 fn004052C4(Eq_2 eax, Eq_2 ecx, struct Eq_2827 * edx, Eq_2 dwArg04, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_2 ecx_237;
	Eq_2 eax_25 = *eax;
	struct Eq_3417 * ebp_156 = fp - 0x04;
	struct Eq_3421 * esp_15 = fp + ~0x2B;
	Eq_2 dwLoc1C_329 = eax_25;
	word24 eax_24_8_291 = SLICE(dwArg04, word24, 8);
	Eq_2 ebx_28 = *dwArg04;
	if (ebx_28 <= 0x00)
	{
		if (ebx_28 < 0x00)
			fn00402B7C(SEQ(eax_24_8_291, 0x04), ecx, dwLoc30);
		ecx_237 = fn004052BC(eax, edx);
	}
	else
	{
		Eq_2 edi_108 = 0x00;
		if (eax_25 != 0x00)
		{
			edi_108 = *(eax_25 - 0x04);
			dwLoc1C_329 = eax_25 - 0x08;
		}
		struct Eq_2827 * dwLoc0C_335;
		struct Eq_3448 * v18_45 = edx + (word32) edx->b0001 / 0x02;
		int32 esi_48 = v18_45->dw0002;
		struct Eq_2827 ** edx_49 = v18_45->ptr0006;
		if (edx_49 != null)
			dwLoc0C_335 = (struct Eq_2827 *) *edx_49;
		else
			dwLoc0C_335 = null;
		word32 eax_64 = (word32) (esi_48 *s ebx_28);
		int32 eax_73 = (int32) ((word64) eax_64 / ebx_28);
		word24 eax_24_8_77 = SLICE(eax_73, word24, 8);
		if (esi_48 != eax_73)
			fn00402B7C(SEQ(eax_24_8_77, 0x04), ecx, dwLoc30);
		if (dwLoc1C_329 != 0x00 && *dwLoc1C_329 != 0x01)
		{
			--*dwLoc1C_329;
			struct Eq_707 * eax_98 = fn00402A28(eax_64 + 0x08, ecx);
			Eq_2 dwLoc14_342 = edi_108;
			if (ebx_28 < edi_108)
				dwLoc14_342 = ebx_28;
			if (dwLoc0C_335 != null)
			{
				fn00403020(&eax_98->t0008, 0x00, dwLoc14_342 *s esi_48);
				Eq_2 esp_159 = <invalid>;
				ebp_156 = fn004052A4(&eax_98->t0008, dwLoc0C_335, *eax, dwLoc14_342);
				esp_15 = (word32) esp_159 + 0x04;
			}
			else
				fn00402C1C(*eax, dwLoc14_342 *s esi_48, &eax_98->t0008);
		}
		else
		{
			if (edi_108 > ebx_28 && dwLoc0C_335 != null)
			{
				ebp_156 = fn004052B4((word32) dwLoc1C_329 + 0x08 + ebx_28 *s esi_48, edi_108 - ebx_28, dwLoc0C_335, dwLoc30);
				esp_15 = fp + ~0x2F;
			}
			fn00402A78(ebp_156 - 0x1C, *(ebp_156 - 0x14), esp_15->tFFFFFFFC);
			*(ebp_156 - 0x18) = *(ebp_156 - 0x1C);
		}
		**(ebp_156 - 0x18) = 0x01;
		*(ebp_156 - 0x18) += 0x04;
		**(ebp_156 - 0x18) = (union Eq_2 **) ebx_28;
		*(ebp_156 - 0x18) += 0x04;
		ecx_237 = fn00403020(esi_48 *s edi_108 + *(ebp_156 - 0x18), 0x00, (ebx_28 - edi_108) *s esi_48);
		if (*(ebp_156 - 0x0C) > 0x01)
		{
			ebp_156->dw0008 += 0x04;
			--*(ebp_156 - 0x0C);
			if (ebx_28 >= 0x01)
			{
				Eq_2 ebx_252;
				ui32 esi_253 = 0x00;
				do
				{
					*(esp_15 - 0x04) = ebp_156->dw0008;
					// Failed to bind call argument.
					// Please report this issue at https://github.com/uxmal/reko
					Eq_2 stackArg4 = <invalid>;
					Eq_2 esp_271 = <invalid>;
					word32 ebx_409;
					word32 ebp_410;
					word32 esi_411;
					word32 edi_412;
					ecx_237 = fn004052C4(*(ebp_156 - 0x18) + esi_253 * 0x04, *(ebp_156 - 0x0C), *(ebp_156 - 0x08), stackArg4, out ebx_409, out ebp_410, out esi_411, out edi_412);
					esp_15 = (word32) esp_271 + 0x04;
					++esi_253;
					--ebx_252;
				} while (ebx_252 != 0x00);
			}
		}
		**(ebp_156 - 0x04) = *(ebp_156 - 0x18);
	}
	struct Eq_3485 * esp_307 = &esp_15->ptr0000 + 0x01;
	ptr32 edi_306 = esp_15->ptr0000;
	ptr32 esi_308 = esp_307->ptr0000;
	ptr32 ebp_313 = ebp_156->ptr0000;
	ebxOut = esp_307->ptr0004;
	ebpOut = ebp_313;
	esiOut = esi_308;
	ediOut = edi_306;
	return ecx_237;
}

// 00405470: Register Eq_2 fn00405470(Register Eq_2 eax, Register Eq_2 ecx, Register (ptr32 Eq_2827) edx, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_2 fn00405470(Eq_2 eax, Eq_2 ecx, struct Eq_2827 * edx, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	ptr32 ebx_14;
	ptr32 esi_17;
	ptr32 edi_19;
	ptr32 ebp_21;
	Eq_2 ecx_15 = fn004052C4(eax, ecx, edx, fp + 0x04, out ebx_14, out ebp_21, out esi_17, out edi_19);
	ebxOut = ebx_14;
	ebpOut = ebp_21;
	esiOut = esi_17;
	ediOut = edi_19;
	return ecx_15;
}

// 0040547C: Register Eq_2 fn0040547C(Register Eq_2 eax, Register (ptr32 Eq_2827) edx)
Eq_2 fn0040547C(Eq_2 eax, struct Eq_2827 * edx)
{
	Eq_2 ecx_46 = *eax;
	if (ecx_46 != 0x00)
	{
		eax->u0 = 0x00;
		__lock();
		word32 v8_11 = *(ecx_46 - 0x08) - 0x01;
		*(ecx_46 - 0x08) = v8_11;
		if (v8_11 == 0x00)
		{
			Eq_2 ecx_22 = (uint32) (uint8) edx->b0001;
			Eq_2 eax_17 = ecx_46;
			struct Eq_2827 ** edx_23 = edx[((word32) ecx_22 + 0x06) / 0x02];
			if (edx_23 != null)
			{
				ecx_22 = *(ecx_46 - 0x04);
				if (ecx_22 != 0x00)
				{
					// Failed to bind call argument.
					// Please report this issue at https://github.com/uxmal/reko
					Eq_2 stackArg0 = <invalid>;
					word32 ebp_74;
					eax_17 = fn00404CAC(ecx_46, ecx, *edx_23, stackArg0, out ecx_22, out ebp_74);
				}
			}
			fn00402A58(eax_17 - 0x08, ecx_22, out ecx_46);
		}
	}
	return ecx_46;
}

// 004054B8: void fn004054B8(Register Eq_2 eax, Register (ptr32 Eq_2827) ecx, Register Eq_2636 edx)
void fn004054B8(Eq_2 eax, struct Eq_2827 * ecx, Eq_2636 edx)
{
	Eq_2636 ebx_8 = *eax;
	if (edx != 0x00)
	{
		__lock();
		++*(edx - 0x08);
	}
	if (ebx_8 != 0x00)
	{
		__lock();
		word32 v10_21 = *(ebx_8 - 0x08) - 0x01;
		*(ebx_8 - 0x08) = v10_21;
		if (v10_21 == 0x00)
		{
			++*(ebx_8 - 0x08);
			fn0040547C(eax, ecx);
		}
	}
	*eax = edx;
}

// 00405508: Register Eq_2 fn00405508(Register Eq_2 eax, Register out ptr32 ebpOut)
Eq_2 fn00405508(Eq_2 eax, ptr32 & ebpOut)
{
	Eq_2 ebx_12 = eax;
	if (*((word32) eax + 0x0010) == 0x00)
	{
		GetModuleFileNameA(*((word32) eax + 0x04), fp + ~0x010F, 0x0105);
		Eq_2 eax_27 = fn0040579C(fp + ~0x011B, out ebx_12, out ebp);
		*((word32) ebx_12 + 0x0010) = eax_27;
		if (eax_27 == 0x00)
			*((word32) ebx_12 + 0x0010) = *((word32) ebx_12 + 0x04);
	}
	Eq_2 eax_48 = *((word32) ebx_12 + 0x0010);
	ebpOut = ebp;
	return eax_48;
}

// 00405550: Register Eq_2 fn00405550(Register Eq_2 eax, Register out ptr32 ebpOut)
Eq_2 fn00405550(Eq_2 eax, ptr32 & ebpOut)
{
	Eq_2 edi_41;
	Eq_2 eax_19 = globals->t428038;
	Eq_2 dwLoc10_78 = eax_19;
	if (eax_19 != 0x00)
	{
		do
		{
			if (eax == *((word32) dwLoc10_78 + 0x04) || (eax == *((word32) dwLoc10_78 + 0x08) || eax == *((word32) dwLoc10_78 + 0x0C)))
			{
				edi_41 = fn00405508(dwLoc10_78, out ebp);
				goto l00405591;
			}
			Eq_2 eax_36 = *dwLoc10_78;
			dwLoc10_78 = eax_36;
		} while (eax_36 != 0x00);
	}
	edi_41 = eax;
l00405591:
	ebpOut = ebp;
	return edi_41;
}

// 00405598: Register Eq_2 fn00405598(Register Eq_2 eax)
Eq_2 fn00405598(Eq_2 eax)
{
	Eq_2 dwLoc08_51 = eax;
	while (true)
	{
		byte bl_23 = *dwLoc08_51;
		if (bl_23 == 0x00 || bl_23 == 0x5C)
			break;
		dwLoc08_51 = CharNextA(dwLoc08_51);
	}
	return dwLoc08_51;
}

// 004055C4: Register word32 fn004055C4(Register Eq_2 eax, Register Eq_2 edx)
word32 fn004055C4(Eq_2 eax, Eq_2 edx)
{
	struct Eq_3974 * esp_100 = fp + -0x0270;
	Eq_2 eax_26 = GetModuleHandleA(4216696);
	if (eax_26 != 0x00)
	{
		esp_100 = (struct Eq_3974 *) (fp + -0x0278);
		Eq_3994 eax_35 = GetProcAddress(eax_26, 0x00405788);
		if (eax_35 != null)
		{
			esp_100 = (struct Eq_3974 *) (fp + -644);
			if (eax_35() != 0x00)
			{
				lstrcpynA(eax, fp - 0x025F, edx);
				esp_100 = (struct Eq_3974 *) (fp + -656);
				return esp_100->dw0008;
			}
		}
	}
	Eq_3986 dwLoc14_239;
	if (*eax == 0x5C)
	{
		if (*((word32) eax + 0x01) != 0x5C)
			return esp_100->dw0008;
		word32 eax_70 = fn00405598(eax + 0x02);
		if (*eax_70 == 0x00)
			return esp_100->dw0008;
		Eq_3986 eax_83 = fn00405598((word32) eax_70 + 0x01);
		dwLoc14_239 = eax_83;
		if (*eax_83 == 0x00)
			return esp_100->dw0008;
	}
	else
		dwLoc14_239 = eax + 0x02;
	Eq_4049 ebx_128 = dwLoc14_239 - eax;
	union Eq_2 * esp_101 = esp_100 - 0x04;
	Mem102[esp_101 + 0x00:word32] = ebx_128 + 0x01;
	*(esp_101 - 0x04) = (union Eq_2 *) eax;
	*(esp_101 - 0x08) = fp - 0x025F;
	lstrcpynA(*(esp_101 - 0x08), *(esp_101 - 0x04), *esp_101);
	esp_100 = esp_101 - 0x08;
	while (*dwLoc14_239 != 0x00)
	{
		word32 eax_118 = fn00405598(dwLoc14_239 + 0x01);
		word32 edi_126 = eax_118 - dwLoc14_239;
		if ((word32) ebx_128 + edi_126 > 0x0104)
			return esp_100->dw0008;
		union Eq_2 * esp_135 = esp_100 - 0x04;
		*esp_135 = (union Eq_2 *) (edi_126 + 0x01);
		*(esp_135 - 0x04) = (union Eq_3986 *) dwLoc14_239;
		Mem143[esp_135 - 0x08 + 0x00:word32] = fp - 0x025F + ebx_128;
		lstrcpynA(*(esp_135 - 0x08), *(esp_135 - 0x04), *esp_135);
		*(esp_135 - 0x0C) = (byte **) (fp - (byte *) 0x015A);
		*(esp_135 - 0x0010) = (byte **) (fp - (byte *) 0x025F);
		esp_100 = esp_135 - 0x0010;
		Eq_2 eax_151 = FindFirstFileA(*(esp_135 - 0x0010), *(esp_135 - 0x0C));
		if (eax_151 == ~0x00)
			return esp_100->dw0008;
		*(esp_135 - 0x0014) = (union Eq_2 *) eax_151;
		FindClose(*(esp_135 - 0x0014));
		*(esp_135 - 0x0018) = (byte **) (fp - (byte *) 0x012E);
		esp_100 = esp_135 - 0x0018;
		if (lstrlenA(*(esp_135 - 0x0018)) + (ebx_128 + 0x01) > 0x0104)
			return esp_100->dw0008;
		Mem167[fp - 0x025F + ebx_128:byte] = 0x5C;
		*(esp_135 - 0x001C) = 0x0105 - ebx_128 - 0x01;
		*(esp_135 - 0x0020) = (byte **) (fp - (byte *) 0x012E);
		Mem180[esp_135 - 0x0024 + 0x00:word32] = fp - 0x025F + ebx_128 + 0x01;
		lstrcpynA(*(esp_135 - 0x0024), *(esp_135 - 0x0020), *(esp_135 - 0x001C));
		*(esp_135 - 0x0028) = (byte **) (fp - (byte *) 0x012E);
		esp_100 = esp_135 - 0x0028;
		ebx_128 += lstrlenA(*(esp_135 - 0x0028)) + 0x01;
		dwLoc14_239 = eax_118;
	}
	union Eq_2 * esp_192 = esp_100 - 0x04;
	*esp_192 = (union Eq_2 *) edx;
	*(esp_192 - 0x04) = fp - 0x025F;
	*(esp_192 - 0x08) = (union Eq_2 *) eax;
	lstrcpynA(*(esp_192 - 0x08), *(esp_192 - 0x04), *esp_192);
	esp_100 = esp_192 - 0x08;
	return esp_100->dw0008;
}

// 0040579C: Register Eq_2 fn0040579C(Register Eq_2 eax, Register out Eq_2 ebxOut, Register out ptr32 ebpOut)
Eq_2 fn0040579C(Eq_2 eax, union Eq_2 & ebxOut, ptr32 & ebpOut)
{
	GetModuleFileNameA(0x00, fp - 0x0125, 0x0105);
	ptr32 esp_225 = (word32) fp - 332;
	if (RegOpenKeyExA((struct HKEY__ *) 0x80000001, 0x004059E0, 0x00, 0x000F0019, fp - 0x0C) != 0x00)
	{
		esp_225 = (word32) fp - 0x0160;
		if (RegOpenKeyExA((struct HKEY__ *) 0x80000002, 0x004059E0, 0x00, 0x000F0019, fp - 0x0C) != 0x00)
		{
			esp_225 = (word32) fp - 0x0174;
			if (RegOpenKeyExA((struct HKEY__ *) 0x80000001, 0x004059FC, 0x00, 0x000F0019, fp - 0x0C) != 0x00)
			{
				lstrcpynA(fp - 0x0125, eax, 0x0105);
				GetLocaleInfoA(GetThreadLocale(), 0x03, fp - 0x11, 0x05);
				Eq_4481 esp_146 = (word32) fp - 400;
				Eq_2 ebx_149 = 0x00;
				if (bLoc0125 != 0x00 && (bLoc11 != 0x00 || 0x00 != 0x00))
				{
					esp_146 = (word32) fp - 404;
					byte * dwLoc20_341 = (word32) lstrlenA(fp - 0x0125) + (fp - 0x0125);
					while (*dwLoc20_341 != 0x2E && fp - 0x0125 != dwLoc20_341)
						--dwLoc20_341;
					if (fp - 0x0125 != dwLoc20_341)
					{
						Eq_2 v14_121 = dwLoc20_341 + 0x01;
						if (0x00 != 0x00)
						{
							lstrcpynA(v14_121, fp - 22, 0x0105 - (v14_121 - (fp - (union Eq_2 *) 0x0125)));
							esp_146 = fp + ~0x01AB;
							ebx_149 = LoadLibraryExA(fp - 0x0125, 0x00, 0x02);
						}
						if (ebx_149 == 0x00 && bLoc11 != 0x00)
						{
							Eq_4647 esp_167 = esp_146 - 0x04;
							*esp_167 = 0x0105 - (v14_121 - (fp - 0x0125));
							*(esp_167 - 0x04) = fp - 0x11;
							*(esp_167 - 0x08) = v14_121;
							lstrcpynA(*(esp_167 - (union Eq_2 *) 0x08), *(esp_167 - 0x04), *esp_167);
							*(esp_167 - 0x0C) = 0x02;
							*(esp_167 - 0x0010) = 0x00;
							*(esp_167 - 0x0014) = fp - 0x0125;
							Eq_2 eax_183 = LoadLibraryExA(*(esp_167 - (union Eq_2 *) 0x0014), *(esp_167 - 0x0010), *(esp_167 - 0x0C));
							esp_146 = esp_167 - (union Eq_2 *) 0x0014;
							ebx_149 = eax_183;
							if (eax_183 == 0x00)
							{
								*(esp_167 - 0x0018) = 0x0105 - (v14_121 - (fp - 0x0125));
								*(esp_167 - 0x001C) = fp - 0x11;
								*(esp_167 - 0x0020) = v14_121;
								lstrcpynA(*(esp_167 - (union Eq_2 *) 0x0020), *(esp_167 - 0x001C), *(esp_167 - 0x0018));
								*(esp_167 - 0x0024) = 0x02;
								*(esp_167 - 0x0028) = 0x00;
								*(esp_167 - 44) = fp - 0x0125;
								esp_146 = esp_167 - (union Eq_2 *) 44;
								ebx_149 = LoadLibraryExA(*(esp_167 - (union Eq_2 *) 44), *(esp_167 - 0x0028), *(esp_167 - 0x0024));
							}
						}
					}
				}
				ebxOut = *esp_146;
				ebpOut = ebp;
				return ebx_149;
			}
		}
	}
	ptr32 * esp_226 = esp_225 - 0x04;
	*esp_226 = fp - 0x04;
	*(esp_226 - 0x04) = 0x004058A0;
	*(esp_226 - 0x08) = fs->ptr0000;
	fs->ptr0000 = esp_226 - 0x08;
	Eq_2 ebx_240 = fn004055C4(fp - 0x0125, 0x0105);
	*(esp_226 - 0x0C) = fp - 0x1C;
	*(esp_226 - 0x0010) = fp - 22;
	*(esp_226 - 0x0014) = 0x00;
	*(esp_226 - 0x0018) = 0x00;
	*(esp_226 - 0x001C) = fp - 0x0125;
	*(esp_226 - 0x0020) = (HKEY *) dwLoc0C;
	ptr32 * esp_263 = esp_226 - 0x0020;
	if (RegQueryValueExA(*(esp_226 - 0x0020), *(esp_226 - 0x001C), *(esp_226 - 0x0018), *(esp_226 - 0x0014), *(esp_226 - 0x0010), *(esp_226 - 0x0C)) != 0x00)
	{
		*(esp_226 - 0x0024) = fp - 0x1C;
		*(esp_226 - 0x0028) = fp - 22;
		*(esp_226 - 44) = 0x00;
		*(esp_226 - 0x0030) = 0x00;
		*(esp_226 - 0x0034) = 4217372;
		*(esp_226 - 0x0038) = (HKEY *) dwLoc0C;
		esp_263 = esp_226 - 0x0038;
		RegQueryValueExA(*(esp_226 - 0x0038), *(esp_226 - 0x0034), *(esp_226 - 0x0030), *(esp_226 - 44), *(esp_226 - 0x0028), *(esp_226 - 0x0024)) == 0x00;
	}
	fs->ptr0000 = *esp_263;
	struct Eq_4494 * esp_296 = esp_263 + 0x01;
	esp_296->dw0004 = 4216999;
	esp_296->t0000 = dwLoc0C;
	Eq_2 eax_308 = RegCloseKey(esp_296->t0000);
	ebxOut = ebx_240;
	ebpOut = fp - 0x04;
	return eax_308;
}

// 00405AD8: void fn00405AD8(Register Eq_2 eax)
void fn00405AD8(Eq_2 eax)
{
	struct Eq_4798 * eax_20 = globals->ptr42803C;
	ptr32 esp_15 = fp + ~0x17;
	struct Eq_4798 * dwLoc0C_84 = eax_20;
	if (eax_20 != null)
	{
		do
		{
			ptr32 * esp_28 = esp_15 - 0x04;
			*esp_28 = fp - 0x04;
			*(esp_28 - 0x04) = 0x00405B13;
			*(esp_28 - 0x08) = fs->ptr0000;
			fs->ptr0000 = esp_28 - 0x08;
			ptr32 * esp_43;
			dwLoc0C_84->ptr0004();
			ptr32 edx_52 = *esp_43;
			fs->ptr0000 = edx_52;
			esp_15 = esp_43 + 0x03;
			struct Eq_4798 * eax_60 = dwLoc0C_84->ptr0000;
			dwLoc0C_84 = eax_60;
		} while (eax_60 != null);
	}
}

// 00405B34: void fn00405B34(Register Eq_2 eax)
void fn00405B34(Eq_2 eax)
{
	*eax = globals->t428038;
	globals->t428038 = eax;
}

// 00405B44: void fn00405B44(Register Eq_2 eax)
void fn00405B44(Eq_2 eax)
{
	ptr32 v9_19 = fs->ptr0000;
	fs->ptr0000 = fp + ~0x17;
	fn00405AD8(*((word32) eax + 0x04));
	fs->ptr0000 = v9_19;
	if (eax == globals->t428038)
		globals->t428038 = *eax;
	else
	{
		Eq_2 eax_46 = globals->t428038;
		Eq_2 dwLoc0C_74 = eax_46;
		if (eax_46 != 0x00)
		{
			do
			{
				if (*dwLoc0C_74 == eax)
				{
					*dwLoc0C_74 = *eax;
					return;
				}
				Eq_2 eax_57 = *dwLoc0C_74;
				dwLoc0C_74 = eax_57;
			} while (eax_57 != 0x00);
		}
	}
}

// 00405BC8: void fn00405BC8(Register Eq_2 eax)
void fn00405BC8(Eq_2 eax)
{
	struct Eq_4916 ** edx_6 = *eax;
	if (edx_6 != null)
	{
		*eax = null;
		struct Eq_4916 * eax_15 = *edx_6;
		eax_15->ptr0008();
	}
}

// 00405BE0: void fn00405BE0(Register Eq_2 eax, Register Eq_2636 edx)
void fn00405BE0(Eq_2 eax, Eq_2636 edx)
{
	if (edx == 0x00)
	{
		Eq_2636 ecx_10 = *eax;
		*eax = edx;
		if (ecx_10 != 0x00)
		{
			struct Eq_4934 * eax_15 = *ecx_10;
			eax_15->ptr0008();
		}
	}
	else
	{
		struct Eq_4934 * eax_28 = *edx;
		word32 edx_32;
		eax_28->ptr0004();
		Eq_2636 ecx_39 = *eax;
		*eax = edx;
		if (ecx_39 == 0x00)
			return;
		struct Eq_4934 * eax_45 = *ecx_39;
		eax_45->ptr0008();
	}
}

// 00406050: Register Eq_2 fn00406050(Register Eq_2 eax, Register Eq_2 edx, Register out Eq_2 edxOut, Register out ptr32 ebpOut)
Eq_2 fn00406050(Eq_2 eax, Eq_2 edx, union Eq_2 & edxOut, ptr32 & ebpOut)
{
	if (eax != 0x00)
	{
		if (*((word32) eax + 0x04) < 0x00010000)
			ecx = fn00404330(edx, LoadStringA(fn00405550(**eax, out ebp), *((word32) eax + 0x04), fp + ~0x1007, 0x1000), fp + ~0x1017, out edx);
		else
			ecx = fn00404438(edx, *((word32) eax + 0x04), out edx);
	}
	edxOut = edx;
	ebpOut = ebp;
	return ecx;
}

// 00406264: Register Eq_5014 fn00406264(Register Eq_5014 eax)
Eq_5014 fn00406264(Eq_5014 eax)
{
	return LocalAlloc(0x40, eax);
}

// 00406270: Register word32 fn00406270()
word32 fn00406270()
{
	return 0x0C;
}

// 00406278: void fn00406278(Register Eq_2 ecx)
void fn00406278(Eq_2 ecx)
{
	Eq_5014 eax_7 = fn00406270();
	if (eax_7 == 0x00)
		return;
	if (globals->t4280A0 != ~0x00)
	{
		word32 eax_18 = fn00406264(eax_7);
		Eq_2 esp_19 = <invalid>;
		if (eax_18 != 0x00)
		{
			*(esp_19 - 0x04) = eax_18;
			*(esp_19 - 0x08) = (union Eq_2 *) globals->t4280A0;
			TlsSetValue(*(esp_19 - 0x08), *(esp_19 - 0x04));
		}
		else
			fn00404234(226, ecx, *((word32) esp_19 - 0x04));
	}
	else
		fn00404234(226, ecx, dwLoc08);
}

// 004062BC: Register Eq_2 fn004062BC(Register Eq_134 ecx, Register out Eq_2 ecxOut, Register out (ptr32 (arr Eq_2)) edxOut)
Eq_2 fn004062BC(Eq_134 ecx, union Eq_2 & ecxOut, Eq_2 (& edxOut)
{
	byte cl_5 = globals->b42B664;
	Eq_2 eax_6 = globals->t4280A0;
	Eq_2 ecx_17 = SEQ(ecx_24_8, cl_5);
	if (cl_5 != 0x00)
	{
		Eq_2 eax_12 = TlsGetValue(eax_6);
		if (eax_12 == 0x00)
		{
			fn00406278(ecx_17);
			Eq_2 eax_27 = TlsGetValue(globals->t4280A0);
			if (eax_27 == 0x00)
			{
				Eq_2 eax_31 = globals->t42B670;
				ecxOut.u0 = <invalid>;
				edxOut = edx;
				return eax_31;
			}
			else
			{
				ecxOut.u0 = <invalid>;
				edxOut = edx;
				return eax_27;
			}
		}
		else
		{
			ecxOut.u0 = <invalid>;
			edxOut = edx;
			return eax_12;
		}
	}
	else
	{
		Eq_2 edx_32[] = fs->ptr002C;
		Eq_2 eax_33 = edx_32[eax_6];
		ecxOut.u0 = <invalid>;
		edxOut = edx_32;
		return eax_33;
	}
}

// 004062FC: void fn004062FC()
void fn004062FC()
{
	fn00405B34(0x004280A4);
}

// 00406308: void fn00406308(Register (ptr32 Eq_1089) eax, Register ptr32 ebp)
void fn00406308(struct Eq_1089 * eax, ptr32 ebp)
{
	globals->t4280A0.u0 = 0x00;
	globals->t42B668 = GetModuleHandleA(0x00);
	globals->t4280A8 = globals->t42B668;
	globals->dw4280AC = 0x00;
	globals->dw4280B0 = 0x00;
	fn004062FC();
	fn00403F88(eax, &globals->t4280A4, ebp);
}

// 00406384: void fn00406384(Register word32 eax, Register Eq_2 ecx, Register word32 edx, Stack (ptr32 Eq_5152) dwArg04, Stack ptr32 dwArg08)
void fn00406384(word32 eax, Eq_2 ecx, word32 edx, struct Eq_5152 * dwArg04, ptr32 dwArg08)
{
	dwArg04->dw0000 = eax;
	dwArg04->dw0004 = edx;
	dwArg04->ptr000C = dwArg08;
	dwArg04->t0008 = ecx;
}

// 0040772C: Register Eq_2 fn0040772C(Register ptr32 edx, Register out Eq_2 clOut)
Eq_2 fn0040772C(ptr32 edx, union Eq_2 & clOut)
{
	word24 edx_24_8_26 = SLICE(edx, word24, 8);
	Eq_2 ecx_29;
	word32 ecx_35;
	Eq_2 eax_34 = fn00403C5C(fn0040B100(globals->ptr407178, eax, SEQ(edx_24_8_26, 0x01), out ecx_29), ecx_29, edx, out ecx_35);
	clOut.u0 = <invalid>;
	return eax_34;
}

// 004077C0: void fn004077C0(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn004077C0(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	Eq_2 eax_20 = fn00404500(eax);
	fn00404830(edx, ecx, eax_20);
	Eq_2 ebx_25 = eax_20;
	Eq_2 dwLoc14_84 = eax;
	byte * dwLoc10_85 = *edx;
	if (eax_20 != 0x00)
	{
		do
		{
			cu8 al_47 = *dwLoc14_84;
			if (al_47 >= 0x41 && al_47 <= 0x5A)
				al_47 += 0x20;
			*dwLoc10_85 = al_47;
			dwLoc14_84 = (word32) dwLoc14_84 + 0x01;
			++dwLoc10_85;
			--ebx_25;
		} while (ebx_25 != 0x00);
	}
}

// 00407810: Register byte fn00407810(Register (ptr32 Eq_5229) eax, Register int32 ecx, Register Eq_2 edx, Register out Eq_5232 ecxOut)
byte fn00407810(struct Eq_5229 * eax, int32 ecx, Eq_2 edx, union Eq_5232 & ecxOut)
{
	struct Eq_5229 * esi_11 = eax;
	Eq_2 edi_129 = edx;
	word32 eax_16 = 0x00;
	Eq_5232 ecx_18 = ecx >> 0x02;
	bool Z_29 = SLICE(cond(ecx >> 0x02), bool, 2);
	if (ecx >> 0x02 < 0x00)
	{
l0040782C:
		eax_16 = 0x01;
		goto l0040782D;
	}
	else
	{
		while (ecx_18 != 0x00)
		{
			Z_29 = SLICE(cond(esi_11->dw0000 - *edi_129), bool, 2);
			esi_11 += 0x04;
			edi_129 = (word32) edi_129 + 0x04;
			--ecx_18;
			if (esi_11->dw0000 == *edi_129)
				break;
		}
		if (!Z_29)
		{
			ecx_18 = ecx & 0x03;
			while (ecx_18 != 0x00)
			{
				Z_29 = SLICE(cond(esi_130->dw0000 - *edi_131), bool, 2);
				esi_11 = esi_130 + 0x01;
				edi_129 = (word32) edi_131 + 0x01;
				--ecx_18;
				esi_130 = esi_11;
				edi_131 = edi_129;
				if (esi_130->dw0000 == *edi_131)
					break;
			}
			if (!Z_29)
				goto l0040782C;
		}
l0040782D:
		ecxOut = ecx_18;
		return (byte) eax_16;
	}
}

// 004078A8: void fn004078A8(Register Eq_2 eax, Register Eq_2 edx)
void fn004078A8(Eq_2 eax, Eq_2 edx)
{
	Eq_2 eax_18 = fn00404500(eax);
	word32 edx_76;
	fn00404330(edx, eax_18, fn00404700(eax), out edx_76);
	if (eax_18 > 0x00)
		CharUpperBuffA(*edx, eax_18);
}

// 00407914: Register Eq_2 fn00407914(Register Eq_2 eax, Register Eq_2 edx, Register out ptr32 ebxOut, Register out ptr32 esiOut)
Eq_2 fn00407914(Eq_2 eax, Eq_2 edx, ptr32 & ebxOut, ptr32 & esiOut)
{
	Eq_2 eax_51 = CompareStringA(0x0400, 0x01, fn00404700(eax), fn00404500(eax), fn00404700(edx), fn00404500(edx)) - 0x02;
	ebxOut = 0x01;
	esiOut = 0x0400;
	return eax_51;
}

// 00407A54: Register uint32 fn00407A54(Register (ptr32 Eq_5352) eax, Register up32 edx, Register (ptr32 byte) esi, Register out (ptr32 byte) esiOut)
uint32 fn00407A54(struct Eq_5352 * eax, up32 edx, byte * esi, byte & esiOut)
{
	uint16 wLoc06_105 = __fstcw();
	__fldcw(__fstcw() | 0x0F00);
	(eax->dw0004 & 0x80000000) == 0x00;
	struct Eq_5375 * Top_50 = (struct Eq_5375 *) -0x04;
	esi_141 = esi;
	do
	{
		byte * esi_141;
		struct Eq_5375 * Top_55 = &Top_50->t0001;
		Top_55->r0000 = (real64) (Top_55->r0000 % Top_55->t0001);
		cu8 bLoc08_126 = (byte) (int16) Top_55->r0000;
		Top_55->t0001 = Top_55->t0002 / Top_55->t0001;
		--esi_141;
		byte al_63 = bLoc08_126 + 0x30;
		if (bLoc08_126 >= 0x0A)
			al_63 = bLoc08_126 + 55;
		*esi_141 = al_63;
		Top_55->r0000 = (real64) Top_55->t0001;
		__wait();
		Top_50 = Top_55;
	} while (Top_55->r0000 >= Top_55->r0000);
	__fldcw(wLoc06_105);
	__ffree(Top_55->t0003);
	__ffree(Top_55->t0002);
	__ffree(Top_55->t0001);
	__ffree(Top_55->r0000);
	uint32 ecx_138 = esi - esi_141;
	Eq_5460 edx_88 = edx - ecx_138;
	if (edx_88 > 0x00)
	{
		esi_141 -= edx_88;
		ecx_138 = (word32) edx_88 + ecx_138;
		while (true)
		{
			--edx_88;
			if (edx_88 == 0x00)
				break;
			Mem101[edx_88 + esi_141:byte] = 0x30;
		}
		*esi_141 = 0x30;
	}
	esiOut = esi_141;
	return ecx_138;
}

// 00407E64: Register Eq_2 fn00407E64(Register Eq_2 eax, Register out ptr32 ecxOut)
Eq_2 fn00407E64(Eq_2 eax, ptr32 & ecxOut)
{
	Eq_5479 esp_10 = fp + ~0x0F;
	do
	{
		Eq_2 esi_33;
		if ((*((word32) eax + 0x0018) & *((word32) eax + 0x0010)) == 0x00)
		{
			LPFILETIME * esp_35 = esp_10 - 0x04;
			*esp_35 = (LPFILETIME *) esp_10;
			*(esp_35 - 0x04) = (word32) eax + 44;
			FileTimeToLocalFileTime(*(esp_35 - 0x04), *esp_35);
			*(esp_35 - 0x08) = (union Eq_2 *) eax;
			*(esp_35 - 0x0C) = (word32) eax + 0x02;
			*(esp_35 - 0x0010) = esp_35 - 0x04;
			FileTimeToDosDateTime(*(esp_35 - 0x0010), *(esp_35 - 0x0C), *(esp_35 - 0x08));
			*((word32) eax + 0x04) = *((word32) eax + 0x0038);
			*((word32) eax + 0x08) = *((word32) eax + 0x0018);
			fn004044B0((word32) eax + 0x0C, 0x0104, (word32) eax + 0x0044);
			esi_33.u0 = 0x00;
			goto l00407EC6;
		}
		union Eq_4188 * esp_23 = esp_10 - 0x04;
		*esp_23 = (word32) eax + 0x0018;
		*(esp_23 - 0x04) = (word32) *((word32) eax + 0x0014);
		esp_10 = esp_23 - 0x04;
	} while (FindNextFileA(*(esp_23 - 0x04), *esp_23) != 0x00);
	esi_33 = GetLastError();
l00407EC6:
	ecxOut = dwLoc10;
	return esi_33;
}

// 00407ED0: Register Eq_2 fn00407ED0(Register Eq_2 eax, Register Eq_2 ecx, Register word32 edx)
Eq_2 fn00407ED0(Eq_2 eax, Eq_2 ecx, word32 edx)
{
	Eq_2 esi_40;
	*((word32) ecx + 0x0010) = ~edx & 0x1E;
	Eq_2 eax_34 = FindFirstFileA(fn00404700(eax), (word32) ecx + 0x0018);
	*((word32) ecx + 0x0014) = eax_34;
	if (eax_34 != ~0x00)
	{
		word32 ecx_43;
		Eq_2 eax_46 = fn00407E64(ecx, out ecx_43);
		esi_40 = eax_46;
		if (eax_46 != 0x00)
			fn00407F44(ecx);
	}
	else
		esi_40 = GetLastError();
	return esi_40;
}

// 00407F20: Register Eq_2 fn00407F20(Register Eq_2 eax, Register out ptr32 ecxOut)
Eq_2 fn00407F20(Eq_2 eax, ptr32 & ecxOut)
{
	if (FindNextFileA(*((word32) eax + 0x0014), (word32) eax + 0x0018) == 0x00)
	{
		Eq_2 eax_19 = GetLastError();
		ecxOut = ecx;
		return eax_19;
	}
	else
	{
		ptr32 ecx_24;
		Eq_2 eax_27 = fn00407E64(eax, out ecx_24);
		ecxOut = ecx_24;
		return eax_27;
	}
}

// 00407F44: void fn00407F44(Register Eq_2 eax)
void fn00407F44(Eq_2 eax)
{
	Eq_2 eax_9 = *((word32) eax + 0x0014);
	if (eax_9 != ~0x00)
	{
		FindClose(eax_9);
		((word32) eax + 0x0014)->u0 = ~0x00;
	}
}

// 00407F98: Register Eq_2 fn00407F98(Register Eq_2 eax, Register Eq_2 edx)
Eq_2 fn00407F98(Eq_2 eax, Eq_2 edx)
{
	Eq_2 eax_21 = fn00404500(edx);
	Eq_2 edi_26 = eax_21;
	Eq_2 eax_28 = fn00404700(eax);
	if (eax_21 > 0x00)
	{
		do
		{
			Eq_5692 bl_39 = *((word32) edi_26 + (edx - 0x01));
			if (bl_39 != 0x00)
			{
				Eq_2 ecx_50;
				if (fn004081FC(eax_28, bl_39, out ecx_50) != 0x00)
				{
					if ((byte) (uint32) (uint8) fn0040B920(edx, ecx_50, edi_26) != 0x02)
						return edi_26;
					--edi_26;
				}
			}
			--edi_26;
		} while (edi_26 > 0x00);
	}
	return edi_26;
}

// 00407FE8: void fn00407FE8(Register Eq_2 eax, Register Eq_2 edx)
void fn00407FE8(Eq_2 eax, Eq_2 edx)
{
	Eq_2 eax_20 = fn00407F98(0x00408038, eax);
	Eq_2 ebx_26 = eax_20;
	if (eax_20 > 0x01 && (Mem12[(eax - 0x01) + eax_20:byte] == 0x5C && (byte) ((uint32) ((uint8) fn0040BBE0(0x00408038, eax_20 - 0x01, eax))) == 0x00))
		ebx_26 = eax_20 - 0x01;
	fn00404760(eax, ebx_26, 0x01, edx);
}

// 0040803C: Register word32 fn0040803C(Register Eq_2 eax, Register Eq_2 edx)
word32 fn0040803C(Eq_2 eax, Eq_2 edx)
{
	return fn00404760(eax, 0x7FFFFFFF, (word32) fn00407F98(0x00408070, eax) + 0x01, edx);
}

// 00408148: void fn00408148(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn00408148(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	fn00402C1C(edx, ecx, eax);
}

// 00408158: void fn00408158(Register (ptr32 Eq_5778) eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn00408158(union Eq_5778 * eax, Eq_2 ecx, Eq_2 edx)
{
	Eq_2 ecx_23;
	Eq_2 edi_16 = edx;
	bool Z_22 = SLICE(cond(ecx), bool, 2);
	ecx_23 = ecx;
	ecx_23 = ecx;
	if (ecx != 0x00)
	{
		while (ecx_23 != 0x00)
		{
			Z_22 = SLICE(cond(0x00 - *edi_127), bool, 2);
			edi_16 = (word32) edi_127 + 0x01;
			--ecx_23;
			edi_127 = edi_16;
			if (*edi_127 != 0x00)
				break;
		}
		if (!Z_22)
			ecx_23 = (word32) ecx_23 + 0x01;
	}
	uint32 ebx_40 = ecx - ecx_23;
	union Eq_5778 * edi_44 = eax;
	Eq_2 esi_48 = edx;
	uint32 ecx_51;
	for (ecx_51 = ebx_40 >> 0x02; ecx_51 != 0x00; --ecx_51)
	{
		*edi_44 = (union Eq_5778 *) *esi_48;
		esi_48 = (word32) esi_48 + 0x04;
		edi_44 = (union Eq_5778 *) ((char *) edi_44 + 0x04);
	}
	ui32 ecx_56;
	for (ecx_56 = ebx_40 & 0x03; ecx_56 != 0x00; --ecx_56)
	{
		*edi_44 = (union Eq_5778 *) *esi_48;
		esi_48 = (word32) esi_48 + 0x01;
		edi_44 = (union Eq_5778 *) ((char *) edi_44 + 0x01);
	}
	*edi_44 = (union Eq_5778 *) 0x00;
}

// 0040818C: void fn0040818C(Register (ptr32 Eq_5778) eax, Register Eq_2 edx)
void fn0040818C(union Eq_5778 * eax, Eq_2 edx)
{
	fn00408158(eax, fn00404500(edx), fn00404700(edx));
}

// 004081FC: Register Eq_2 fn004081FC(Register Eq_2 eax, Register Eq_5692 dl, Register out ptr32 ecxOut)
Eq_2 fn004081FC(Eq_2 eax, Eq_5692 dl, ptr32 & ecxOut)
{
	Eq_2 dwLoc04_36 = eax;
	while (true)
	{
		Eq_5692 al_13 = *dwLoc04_36;
		if (dl == al_13)
			break;
		if (al_13 == 0x00)
		{
			dwLoc04_36.u0 = 0x00;
			break;
		}
		dwLoc04_36 = (word32) dwLoc04_36 + 0x01;
	}
	ecxOut = fp - 0x04;
	return dwLoc04_36;
}

// 004082B8: Register word32 fn004082B8(Register Eq_2 ecx, Register Eq_2 edx, Register out Eq_2 clOut)
word32 fn004082B8(Eq_2 ecx, Eq_2 edx, union Eq_2 & clOut)
{
	Eq_2 ebx_15 = ecx;
	if (ecx > 0x1F)
		ebx_15.u0 = 0x1F;
	if ((byte) (uint32) (uint8) fn0040B944(edx, ebx_15 - 0x01) == 0x01)
		--ebx_15;
	fn00408148(fp + ~0x33, ebx_15, edx);
	((byte) ebx_15.u0 + (fp + ~0x33))->u0 = 0x00;
	byte cl_100;
	word32 eax_71 = fn0040772C(fp + ~0x13, out cl_100);
	clOut.u0 = <invalid>;
	return eax_71;
}

// 00408334: void fn00408334(Register Eq_2 eax)
void fn00408334(Eq_2 eax)
{
	word32 edx_21;
	fn00404240(eax, out edx_21);
}

// 00408340: Register (ptr32 byte) fn00408340(Register (ptr32 byte) eax, Register Eq_2 ecx, Register Eq_2 edx, Stack Eq_2 dwArg0C, Register out ptr32 ecxOut)
byte * fn00408340(byte * eax, Eq_2 ecx, Eq_2 edx, Eq_2 dwArg0C, ptr32 & ecxOut)
{
	struct Eq_5923 * ebp_104 = fp - 0x04;
	ptr32 esp_151 = fp + ~0x7F;
	byte * edi_112 = eax;
	Eq_2 esi_108 = ecx;
	word32 ecx_109 = ecx + dwArg0C;
	word24 eax_24_8_368 = 0x00;
l00408369:
	Eq_2 edx_337 = edx;
	if (edx == 0x00)
	{
		ptr32 ecx_47;
		word32 edx_453;
		word32 esi_456;
		word32 edi_457;
		word32 ebx_454;
		word32 ebp_455;
		byte * eax_44 = fn0040837A(ebp_104, edi_112, out ecx_47, out edx_453, out ebx_454, out ebp_455, out esi_456, out edi_457);
		ecxOut = ecx_47;
		return eax_44;
	}
	else
	{
		while (esi_108 != ecx_109)
		{
			byte al_332 = *esi_108;
			esi_108 = (word32) esi_108 + 0x01;
			if (al_332 == 0x25)
			{
				if (esi_108 == ecx_109)
				{
					ptr32 ecx_87;
					word32 edi_472;
					word32 esi_471;
					word32 ebp_470;
					word32 ebx_469;
					word32 edx_468;
					byte * eax_84 = fn0040837A(ebp_104, edi_112, out ecx_87, out edx_468, out ebx_469, out ebp_470, out esi_471, out edi_472);
					ecxOut = ecx_87;
					return eax_84;
				}
				al_332 = (byte) *esi_108;
				esi_108 = (word32) esi_108 + 0x01;
				if (al_332 != 0x25)
				{
					*(ebp_104 - 0x18) = esi_108 - 0x01;
					Eq_5970 eax_449 = SEQ(eax_24_8_368, al_332);
					while (true)
					{
						byte al_103 = (byte) eax_449;
						*(ebp_104 - 0x19) = al_103;
						word24 eax_24_8_130 = SLICE(eax_449, word24, 8);
						Eq_5970 eax_129 = eax_449;
						if (al_103 == 0x2D)
						{
							if (esi_108 == ecx_109)
							{
								ptr32 ecx_117;
								word32 edi_477;
								word32 esi_476;
								word32 ebp_475;
								word32 ebx_474;
								word32 edx_473;
								byte * eax_114 = fn0040837A(ebp_104, edi_112, out ecx_117, out edx_473, out ebx_474, out ebp_475, out esi_476, out edi_477);
								ecxOut = ecx_117;
								return eax_114;
							}
							esi_108 = (word32) esi_108 + 0x01;
							eax_129 = SEQ(eax_24_8_130, *esi_108);
						}
						word32 ebx_140;
						word32 edx_143;
						Eq_2 esi_144;
						word32 eax_138 = fn00408422(eax_129, ecx_109, ebp_104, esi_108, edi_112, out ecx_109, out edx_143, out ebx_140, out ebp_104, out esi_144, out edi_112);
						byte al_153 = (byte) eax_138;
						word24 eax_24_8_177 = SLICE(eax_138, word24, 8);
						esp_151 += 0x04;
						if (al_153 != 0x3A)
							break;
						*(ebp_104 - 0x0C) = ebx_140;
						if (esi_144 == ecx_109)
						{
							word32 edi_482;
							word32 esi_481;
							word32 ebp_480;
							word32 ebx_479;
							word32 edx_478;
							ptr32 ecx_320;
							byte * eax_317 = fn0040837A(ebp_104, edi_112, out ecx_320, out edx_478, out ebx_479, out ebp_480, out esi_481, out edi_482);
							ecxOut = ecx_320;
							return eax_317;
						}
						esi_108 = (word32) esi_144 + 0x01;
						eax_449 = SEQ(eax_24_8_177, *esi_144);
					}
					*(ebp_104 - 0x20) = ebx_140;
					word32 ebx_157 = ~0x00;
					if (al_153 == 0x2E)
					{
						if (esi_144 == ecx_109)
						{
							word32 ebx_484;
							word32 edx_483;
							ptr32 ecx_165;
							word32 ebp_485;
							word32 esi_486;
							word32 edi_487;
							byte * eax_162 = fn0040837A(ebp_104, edi_112, out ecx_165, out edx_483, out ebx_484, out ebp_485, out esi_486, out edi_487);
							ecxOut = ecx_165;
							return eax_162;
						}
						fn00408422(SEQ(eax_24_8_177, *esi_144), ecx_109, ebp_104, (word32) esi_144 + 0x01, edi_112, out ecx_109, out edx_143, out ebx_157, out ebp_104, out esi_144, out edi_112);
						esp_151 += 0x04;
					}
					*(ebp_104 - 0x24) = ebx_157;
					*(ebp_104 - 0x28) = (union Eq_2 *) esi_144;
					struct Eq_6153 * esp_198 = esp_151 - 0x04;
					esp_198->t0000 = ecx_109;
					*(esp_198 - 0x04) = edx_143;
					up32 ecx_210;
					eax_24_8_368 = SLICE(fn0040846A(ebp_104, out ecx_210), word24, 8);
					Eq_2 edx_215 = esp_198->t0000;
					up32 ebx_218 = *(ebp_104 - 0x20) - ecx_210;
					if (ebx_218 < 0x00)
						ebx_218 = 0x00;
					if (*(ebp_104 - 0x19) == 0x2D)
					{
						edx_215 -= ecx_210;
						if (edx_215 < 0x00)
						{
							ecx_210 = (word32) edx_215 + ecx_210;
							edx_215.u0 = 0x00;
						}
						for (; ecx_210 != 0x00; --ecx_210)
						{
							*edi_112 = (byte) *esi_144;
							esi_144 = (word32) esi_144 + 0x01;
							++edi_112;
						}
					}
					up32 ecx_243 = ebx_218;
					up32 edx_247 = edx_215 - ebx_218;
					if (edx_247 < 0x00)
					{
						ecx_243 = ebx_218 + edx_247;
						edx_247 = 0x00;
					}
					for (; ecx_243 != 0x00; --ecx_243)
					{
						*edi_112 = 0x20;
						++edi_112;
					}
					up32 ecx_258 = ecx_210;
					edx = edx_247 - ecx_210;
					if (edx < 0x00)
					{
						ecx_258 = (word32) edx + ecx_210;
						edx.u0 = 0x00;
					}
					for (; ecx_258 != 0x00; --ecx_258)
					{
						*edi_112 = (byte) *esi_144;
						esi_144 = (word32) esi_144 + 0x01;
						++edi_112;
					}
					if (*(ebp_104 - 0x10) != 0x00)
					{
						esp_198->t0000 = edx;
						Eq_2 eax_277 = ebp_104 - 0x10;
						fn00408334(eax_277);
						eax_24_8_368 = SLICE(eax_277, word24, 8);
						edx = esp_198->t0000;
					}
					ecx_109 = esp_198->t0004;
					esp_151 = (char *) &esp_198->t0004 + 0x04;
					esi_108 = *(ebp_104 - 0x28);
					goto l00408369;
				}
			}
			*edi_112 = al_332;
			++edi_112;
			--edx_337;
			if (edx_337 == 0x00)
			{
				word32 edi_467;
				word32 esi_466;
				word32 ebp_465;
				word32 ebx_464;
				ptr32 ecx_346;
				word32 edx_463;
				byte * eax_343 = fn0040837A(ebp_104, edi_112, out ecx_346, out edx_463, out ebx_464, out ebp_465, out esi_466, out edi_467);
				ecxOut = ecx_346;
				return eax_343;
			}
		}
		ptr32 ecx_67;
		word32 edx_458;
		word32 ebx_459;
		word32 ebp_460;
		word32 edi_462;
		word32 esi_461;
		byte * eax_64 = fn0040837A(ebp_104, edi_112, out ecx_67, out edx_458, out ebx_459, out ebp_460, out esi_461, out edi_462);
		ecxOut = ecx_67;
		return eax_64;
	}
}

// 0040837A: Register word32 fn0040837A(Register (ptr32 Eq_5923) ebp, Register (ptr32 byte) edi, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn0040837A(struct Eq_5923 * ebp, byte * edi, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	word32 eax_8 = edi - *(ebp - 0x08);
	ptr32 edx_12;
	ptr32 ecx_11 = fn00408697(ebp, out edx_12);
	ptr32 ebp_26 = ebp->ptr0000;
	ecxOut = ecx_11;
	edxOut = edx_12;
	ebxOut = dwArg0C;
	ebpOut = ebp_26;
	esiOut = dwArg04;
	ediOut = dwArg00;
	return eax_8;
}

// 00408422: Register (ptr32 byte) fn00408422(Register Eq_5970 al, Register Eq_2 ecx, Register (ptr32 Eq_5923) ebp, Register Eq_2 esi, Register (ptr32 byte) edi, Register out Eq_2 ecxOut, Register out ptr32 edxOut, Register out Eq_5985 ebxOut, Register out (ptr32 Eq_5923) ebpOut, Register out Eq_2 esiOut, Register out (ptr32 byte) ediOut)
byte * fn00408422(Eq_5970 al, Eq_2 ecx, struct Eq_5923 * ebp, Eq_2 esi, byte * edi, union Eq_2 & ecxOut, ptr32 & edxOut, union Eq_5985 & ebxOut, struct Eq_5923 & ebpOut, union Eq_2 & esiOut, byte & ediOut)
{
	Eq_5970 al = (byte) eax;
	byte * eax_87;
	Eq_5985 ebx_100 = 0x00;
	byte * eax_133 = eax;
	if (al != 0x2A)
	{
		while (true)
		{
			cu8 al_31 = (byte) eax_133;
			eax_87 = eax_133;
			if (al_31 < 0x30)
				break;
			eax_87 = eax_133;
			if (al_31 > 0x39)
				break;
			word32 eax_39 = (word32) (al_31 - 0x30);
			word24 eax_24_8_90 = SLICE(eax_39, word24, 8);
			ebx_100 = ebx_100 *s 0x0A + eax_39;
			if (esi == ecx)
				goto l00408444;
			esi = (word32) esi + 0x01;
			eax_133 = SEQ(eax_24_8_90, *esi);
		}
	}
	else
	{
		int32 eax_10 = *(ebp - 0x0C);
		word24 eax_24_8_93 = SLICE(eax_10, word24, 8);
		eax_24_8_93 = SLICE(eax_10, word24, 8);
		if (eax_10 <= ebp->dw0008)
		{
			++*(ebp - 0x0C);
			Eq_19696 ebx_15[] = ebp->ptr000C;
			ebx_100 = ebx_15[eax_10].t0000;
			if (ebx_15[eax_10].b0004 != 0x00)
				ebx_100.u0 = 0x00;
		}
		if (esi == ecx)
		{
l00408444:
			struct Eq_5923 * ebp_64;
			Eq_5985 ebx_65;
			Eq_2 ecx_66;
			byte * edi_67;
			ptr32 edx_68;
			Eq_2 esi_69;
			byte * eax_63 = fn0040837A(ebp, edi, out ecx_66, out edx_68, out ebx_65, out ebp_64, out esi_69, out edi_67);
			ecxOut = ecx_66;
			edxOut = edx_68;
			ebxOut = ebx_65;
			ebpOut = ebp_64;
			esiOut = esi_69;
			ediOut = edi_67;
			return eax_63;
		}
		esi = (word32) esi + 0x01;
		eax_87 = SEQ(eax_24_8_93, *esi);
	}
	ecxOut = ecx;
	edxOut = edx;
	ebxOut = ebx_100;
	ebpOut = ebp;
	esiOut = esi;
	ediOut = edi;
	return eax_87;
}

// 0040846A: Register word32 fn0040846A(Register (ptr32 Eq_5923) ebp, Register out ptr32 ecxOut)
word32 fn0040846A(struct Eq_5923 * ebp, ptr32 & ecxOut)
{
	int32 ebx_10 = *(ebp - 0x0C);
	if (ebx_10 > ebp->dw0008)
	{
		do
		{
			word32 edx_200;
			fn00408697(ebp, out edx_200);
			Eq_2 edx_23 = *(ebp - 0x18);
			Eq_2 ecx_32 = <invalid>;
			byte cl_201;
			struct Eq_5352 * eax_31 = fn004082B8(*(ebp - 0x28) - edx_23, edx_23, out cl_201);
			byte cl_45 = (byte) ecx_32;
			byte ch_66 = SLICE(ecx_32, byte, 8);
			word24 eax_24_8_159 = SLICE(eax_31, word24, 8);
			word24 eax_24_8_161 = SLICE(eax_31, word24, 8);
			up32 edx_37 = *(ebp - 0x24);
			if (edx_37 > 0x20)
				edx_37 = 0x00;
			byte bl_50 = (byte) ecx_32;
			cui16 cx_195 = SEQ(ch_66, cl_45 - 0x44);
			if (cl_45 == 0x44)
				break;
			cx_195 = 0x10;
			if (bl_50 == 88)
				break;
			cx_195 = 0x0A;
		} while (bl_50 != 0x55);
		if ((byte) cx_195 != 0x00)
		{
			word32 esi_202;
			ecxOut = fn00407A54(eax_31, edx_37, ebp - 0x49, out esi_202);
			return SEQ(eax_24_8_159, al_74);
		}
		else if ((eax_31->dw0004 & 0x80000000) == 0x00)
		{
			word32 esi_203;
			ecxOut = fn00407A54(eax_31, edx_37, ebp - 0x49, out esi_203);
			return SEQ(eax_24_8_161, al_91);
		}
		else
		{
			ptr32 esi_122;
			ptr32 ecx_120 = fn00407A54(fp - 0x08, edx_37, ebp - 0x49, out esi_122);
			*(esi_122 - 0x01) = 0x2D;
			ecxOut = ecx_120 + 0x01;
			return SEQ(SLICE(fp - 0x08, word24, 8), al_119);
		}
	}
	else
	{
		++*(ebp - 0x0C);
		struct Eq_6491 * esi_141 = &(ebp->ptr000C + ebx_10)->t0000;
		ui32 edx_143 = (word32) esi_141->b0004;
		word32 eax_145;
		ptr32 ecx_146;
		(*((char *) globals->a408491 + edx_143 * 0x04))();
		ecxOut = ecx_146;
		return eax_145;
	}
}

// 00408697: Register Eq_2 fn00408697(Register (ptr32 Eq_5923) ebp, Register out ptr32 edxOut)
Eq_2 fn00408697(struct Eq_5923 * ebp, ptr32 & edxOut)
{
	ptr32 edx_14;
	Eq_2 ecx_16 = fn00404240(ebp - 0x14, out edx_14);
	edxOut = edx_14;
	return ecx_16;
}

// 00408704: void fn00408704()
void fn00408704()
{
	fn00408718(dwArg04, edx, eax);
}

// 00408718: void fn00408718(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn00408718(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	Eq_2 edi_147;
	Eq_2 ebx_28 = 0x1000;
	if (fn00404500(edx) < 0x0C00)
		edi_147 = fn00408340(fp + ~0x100B, edx, 0x0FFF, fn00404500(edx), out ecx);
	else
	{
		Eq_2 eax_38 = fn00404500(edx);
		ebx_28 = eax_38;
		edi_147 = eax_38;
	}
	if (edi_147 >= ebx_28 - 0x01)
	{
		while (edi_147 >= ebx_28 - 0x01)
		{
			ebx_28 *= 0x02;
			word32 edx_215;
			fn00404830(eax, fn00404240(eax, out edx_215), ebx_28);
			edi_147 = fn00408340(*eax, edx, ebx_28 - 0x01, fn00404500(edx), out ecx);
		}
		fn00404830(eax, ecx, edi_147);
	}
	else
	{
		word32 edx_84;
		fn00404330(eax, edi_147, fp + ~0x100B, out edx_84);
	}
}

// 0040B008: Register (ptr32 Eq_707) fn0040B008(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out ptr32 ecxOut)
struct Eq_707 * fn0040B008(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, ptr32 & ecxOut)
{
	byte dl = (byte) edx;
	word32 * esp_10 = fp - 0x0C;
	if (dl != 0x00)
	{
		esp_10 = fp + ~0x1B;
		eax = fn00403990(eax, ecx, edx);
	}
	ptr32 ecx_41 = fn00404294(&eax->t0004, ecx);
	if (dl != 0x00)
	{
		fn004039E8(eax);
		fs->dw0000 = *esp_10;
	}
	ecxOut = ecx_41;
	return eax;
}

// 0040B044: Register (ptr32 Eq_707) fn0040B044(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out Eq_2 ecxOut, Register out Eq_724 ebxOut, Register out ptr32 ebpOut, Register out Eq_2 esiOut, Register out (ptr32 Eq_707) ediOut)
struct Eq_707 * fn0040B044(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, union Eq_2 & ecxOut, union Eq_724 & ebxOut, ptr32 & ebpOut, union Eq_2 & esiOut, struct Eq_707 & ediOut)
{
	byte dl = (byte) edx;
	ptr32 esp_16 = fp - 0x0014;
	if (dl != 0x00)
	{
		esp_16 = fp - 0x24;
		eax = fn00403990(eax, ecx, edx);
	}
	ptr32 * esp_46 = esp_16 - 0x04;
	*esp_46 = fp - 0x04;
	*(esp_46 - 0x04) = 0x0040B09E;
	*(esp_46 - 0x08) = fs->ptr0000;
	fs->ptr0000 = esp_46 - 0x08;
	*(esp_46 - 0x0C) = fp - 0x08;
	fn00408704();
	fn00404294(&eax->t0004, 0x00);
	fs->ptr0000 = *(esp_46 - 0x08);
	*esp_46 = 0x0040B0A5;
	word32 edx_113;
	ecxOut = fn00404240(fp - 0x08, out edx_113);
	ebxOut = edx;
	ebpOut = fp - 0x04;
	esiOut = ecx;
	ediOut = eax;
	return fp - 0x08;
}

// 0040B0C4: Register (ptr32 Eq_707) fn0040B0C4(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out ptr32 ecxOut, Register out ptr32 ebpOut)
struct Eq_707 * fn0040B0C4(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, ptr32 & ecxOut, ptr32 & ebpOut)
{
	byte dl = (byte) edx;
	word32 * esp_10 = fp - 0x0C;
	if (dl != 0x00)
	{
		esp_10 = fp + ~0x1B;
		eax = fn00403990(eax, ecx, edx);
	}
	word32 edx_42;
	ptr32 ebp_43;
	ptr32 ecx_41 = fn00406050(ecx, &eax->t0004, out edx_42, out ebp_43);
	if (dl != 0x00)
	{
		fn004039E8(eax);
		fs->dw0000 = *esp_10;
	}
	ecxOut = ecx_41;
	ebpOut = ebp_43;
	return eax;
}

// 0040B100: Register (ptr32 Eq_707) fn0040B100(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out ptr32 ecxOut)
struct Eq_707 * fn0040B100(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, ptr32 & ecxOut)
{
	byte dl = (byte) edx;
	ptr32 esp_18 = fp - 0x0018;
	if (dl != 0x00)
	{
		esp_18 = fp - 0x28;
		eax = fn00403990(eax, ecx, edx);
	}
	ptr32 * esp_48 = esp_18 - 0x04;
	*esp_48 = fp - 0x04;
	*(esp_48 - 0x04) = 4239724;
	*(esp_48 - 0x08) = fs->ptr0000;
	fs->ptr0000 = esp_48 - 0x08;
	*(esp_48 - 0x0C) = fp - 0x08;
	ptr32 ebp_67;
	word32 edx_124;
	fn00406050(ecx, fp - 0x0C, out edx_124, out ebp_67);
	fn00408704();
	fn00404294(&eax->t0004, *(ebp_67 - 0x04));
	fs->ptr0000 = 0x00;
	fn00404264(ebp_67 - 0x08, 0x02);
	ecxOut = dwArg00;
	return ebp_67 - 0x08;
}

// 0040B8A8: Register byte fn0040B8A8(Register Eq_2 eax, Register Eq_2 ecx, Register int32 edx)
byte fn0040B8A8(Eq_2 eax, Eq_2 ecx, int32 edx)
{
	word24 ecx_24_8 = SLICE(ecx, word24, 8);
	ui24 eax_24_8_71 = SLICE(eax, word24, 8);
	uip32 edx_12 = 0x00;
	if (eax != 0x00 && *((word32) eax + edx) != 0x00)
	{
		if (edx == 0x00)
		{
			if (!__bt(globals->dw42810C, SEQ(eax_24_8_71, *eax) & 0xFF))
				edx_12 = 0x01;
		}
		else
		{
			int32 esi_23 = edx - 0x01;
			while (true)
			{
				ui24 eax_24_8_63 = SLICE(eax, word24, 8);
				if (esi_23 < 0x00)
					break;
				ui32 ecx_33 = SEQ(ecx_24_8, *((word32) eax + esi_23));
				ecx_24_8 = SLICE(ecx_33 & 0xFF, word24, 8);
				if (!__bt(globals->dw42810C, ecx_33 & 0xFF))
					break;
				--esi_23;
			}
			int32 ecx_43 = edx - esi_23;
			ui32 ecx_44 = ecx_43 & 0x80000001;
			if ((ecx_43 & 0x80000001) < 0x00)
				ecx_44 = ((ecx_43 & 0x80000001) - 0x01 | ~0x01) + 0x01;
			edx_12 = 0x00;
			if (ecx_44 == 0x00)
				edx_12 = 0x02;
			else if (!__bt(globals->dw42810C, SEQ(eax_24_8_63, *((word32) eax + edx)) & 0xFF))
				edx_12 = 0x01;
		}
	}
	return (byte) edx_12;
}

// 0040B920: Register byte fn0040B920(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
byte fn0040B920(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	uint32 eax_14 = 0x00;
	if (globals->b42B750 != 0x00)
		eax_14 = (uint32) (uint8) fn0040B8A8(fn00404700(eax), ecx, edx - 0x01);
	return (byte) eax_14;
}

// 0040B944: Register byte fn0040B944(Register Eq_2 eax, Register int32 edx)
byte fn0040B944(Eq_2 eax, int32 edx)
{
	uint32 ecx_17 = 0x00;
	if (globals->b42B750 != 0x00)
		ecx_17 = (uint32) (uint8) fn0040B8A8(eax, 0x00, edx);
	return (byte) ecx_17;
}

// 0040BBE0: Register byte fn0040BBE0(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
byte fn0040BBE0(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	uint32 ebx_22 = 0x00;
	if (ecx > 0x00 && (ecx <= fn00404500(edx) && (byte) ((uint32) ((uint8) fn0040B920(edx, ecx, ecx))) == 0x00))
	{
		word32 ecx_104;
		ebx_22 = (uint32) (uint8) (fn004081FC(fn00404700(eax), Mem15[edx - 0x01 + ecx:byte], out ecx_104) != 0x00);
	}
	return (byte) ebx_22;
}

// 0040C940: Register word32 fn0040C940(Register (ptr32 (ptr32 Eq_707)) eax)
word32 fn0040C940(struct Eq_707 ** eax)
{
	struct Eq_707 * edx_6 = *eax;
	*eax = (struct Eq_707 **) null;
	word32 ecx_22;
	fn00403720(edx_6, out ecx_22);
	return SEQ(SLICE(edx_6, word24, 8), dl_13);
}

// 00413CD0: void fn00413CD0(Register word32 eax, Register Eq_2 ecx, Register word32 edx, Stack (ptr32 Eq_5152) dwArg04, Stack ptr32 dwArg08)
void fn00413CD0(word32 eax, Eq_2 ecx, word32 edx, struct Eq_5152 * dwArg04, ptr32 dwArg08)
{
	fn00406384(eax, ecx, edx, dwArg04, dwArg08);
}

// 0041420C: void fn0041420C(Register (ptr32 Eq_7028) eax, Register word32 edx)
void fn0041420C(struct Eq_7028 * eax, word32 edx)
{
	struct Eq_7028 * esi_17 = eax->ptr0008;
	if (esi_17 == eax->ptr000C)
	{
		struct Eq_7054 * edx_21 = eax->ptr0000;
		word32 ecx_25;
		edx_21->ptr0000();
	}
	eax->ptr0004[esi_17 * 0x04 / 33] = (struct Eq_7028) edx;
	eax->ptr0008 = (struct Eq_7028 *) ((char *) &eax->ptr0008->ptr0000 + 0x01);
	if (edx != 0x00)
		eax->ptr0000->ptr0004();
}

// 00414258: Register word32 fn00414258(Register (ptr32 Eq_7028) eax, Register (ptr32 Eq_7028) edx)
word32 fn00414258(struct Eq_7028 * eax, struct Eq_7028 * edx)
{
	struct Eq_7028 * esi_14 = edx;
	struct Eq_7028 * ebx_16 = eax;
	if (edx < null || edx >= eax->ptr0008)
	{
		word32 ebp_149;
		word32 edi_150;
		fn004142F4(globals->t42A8E0, out ebx_16, out ebp_149, out esi_14, out edi_150);
	}
	word32 ebp_49;
	word32 ecx_50;
	word32 edi_151;
	Eq_2 eax_48 = fn00414348(ebx_16, esi_14, out ecx_50, out ebp_49, out edi_151);
	--ebx_16->ptr0008;
	struct Eq_7028 * eax_62 = ebx_16->ptr0008;
	if (esi_14 < eax_62)
		fn00402C1C(&ebx_16->ptr0004->ptr0004 + (esi_14 * 0x04) / 33, eax_62 - esi_14 << 0x02, ebx_16->ptr0004 + (esi_14 * 0x04) / 33);
	if (eax_48 != 0x00)
		ebx_16->ptr0000->ptr0004();
	return ebp_49;
}

// 004142B8: void fn004142B8()
void fn004142B8()
{
}

// 004142BC: Register word32 fn004142BC(Register Eq_2 edx, Stack ptr32 dwArg00, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn004142BC(Eq_2 edx, ptr32 dwArg00, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	word24 edx_24_8_30 = SLICE(edx, word24, 8);
	fn004142B8();
	ptr32 ebp_34;
	word32 ebx_35;
	Eq_2 ecx_36;
	ptr32 edi_37;
	ptr32 esi_39;
	word32 eax_33 = fn0040B044(globals->ptr413404, edx, SEQ(edx_24_8_30, 0x01), out ecx_36, out ebx_35, out ebp_34, out esi_39, out edi_37);
	word32 ecx_65;
	fn00403C5C(eax_33, ecx_36, dwArg00, out ecx_65);
	ebpOut = ebp_34;
	esiOut = esi_39;
	ediOut = edi_37;
	return ebx_35;
}

// 004142F4: Register Eq_2 fn004142F4(Register Eq_2 edx, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_2 fn004142F4(Eq_2 edx, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	ptr32 v12_28 = fs->ptr0000;
	fs->ptr0000 = fp - 0x001C;
	ptr32 ebp_38;
	word32 edx_91;
	fn00406050(edx, fp - 0x08, out edx_91, out ebp_38);
	ptr32 ebp_47;
	ptr32 edi_50;
	ptr32 esi_52;
	ptr32 ebx_48 = fn004142BC(*(ebp_38 - 0x04), dwLoc20, out ebp_47, out esi_52, out edi_50);
	fs->ptr0000 = v12_28;
	word32 edx_92;
	Eq_2 ecx_73 = fn00404240(ebp_47 - 0x04, out edx_92);
	ebxOut = ebx_48;
	ebpOut = ebp_47;
	esiOut = esi_52;
	ediOut = edi_50;
	return ecx_73;
}

// 00414348: Register (ptr32 Eq_7028) fn00414348(Register (ptr32 Eq_7028) eax, Register (ptr32 Eq_7028) edx, Register out ptr32 ecxOut, Register out ptr32 ebpOut, Register out ptr32 ediOut)
struct Eq_7028 * fn00414348(struct Eq_7028 * eax, struct Eq_7028 * edx, ptr32 & ecxOut, ptr32 & ebpOut, ptr32 & ediOut)
{
	struct Eq_7028 * esi_11 = edx;
	struct Eq_7028 * ebx_13 = eax;
	if (edx < null || edx >= eax->ptr0008)
		ecx = fn004142F4(globals->t42A8E0, out ebx_13, out ebp, out esi_11, out edi);
	struct Eq_7028 * eax_44 = ebx_13->ptr0004[esi_11 * 0x04 / 33];
	ecxOut = ecx;
	ebpOut = ebp;
	ediOut = edi;
	return eax_44;
}

// 004143A4: Register (ptr32 Eq_7028) fn004143A4(Register (ptr32 Eq_7028) eax, Register word32 edx)
struct Eq_7028 * fn004143A4(struct Eq_7028 * eax, word32 edx)
{
	struct Eq_7028 * ecx_10 = null;
	while (ecx_10 < eax->ptr0008 && edx != (eax->ptr0004)[(ecx_10 * 0x04) / 33])
		ecx_10 = (struct Eq_7028 *) ((char *) &ecx_10->ptr0000 + 0x01);
	if (ecx_10 == eax->ptr0008)
		ecx_10 |= ~0x00;
	return ecx_10;
}

// 004143C4: Register word32 fn004143C4(Register (ptr32 Eq_7028) eax, Register word32 edx)
word32 fn004143C4(struct Eq_7028 * eax, word32 edx)
{
	struct Eq_7028 * eax_14 = fn004143A4(eax, edx);
	if (eax_14 >= null)
		ebp = fn00414258(eax, eax_14);
	return ebp;
}

// 00414564: Register word32 fn00414564(Register (ptr32 Eq_7028) eax, Register out ptr32 edxOut, Register out Eq_2 blOut, Register out ptr32 ebpOut, Register out ptr32 ediOut)
word32 fn00414564(struct Eq_7028 * eax, ptr32 & edxOut, union Eq_2 & blOut, ptr32 & ebpOut, ptr32 & ediOut)
{
	word32 ebx_20;
	fn004145EC(eax, out ebx_20);
	Eq_2 esp_21 = <invalid>;
	*(esp_21 - 0x04) = fp - 0x04;
	*(esp_21 - 0x08) = 4277728;
	*(esp_21 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_21 - 0x0C;
	ptr32 ebp_56 = fp - 0x04;
	Eq_2 esp_29 = esp_21 - 0x0C;
	if (eax->b0020 != 0x01 && fn004143A4(eax->ptr0004, ebx_20) != (struct Eq_7028 *) 0x01)
	{
		if (eax->b0020 == 0x02)
		{
			word32 ebx_57;
			word32 esi_124;
			fn004142F4(globals->t42A788, out ebx_57, out ebp_56, out esi_124, out edi);
			esp_29.u0 = <invalid>;
		}
	}
	else
		fn0041420C(eax->ptr0004, ebx_20);
	struct Eq_7353 * esp_89 = (word32) esp_29 + 0x04;
	ptr32 edx_88 = *esp_29;
	word32 ecx_92 = esp_89->dw0004;
	fs->ptr0000 = edx_88;
	esp_89->dw0004 = 4277735;
	fn00414650(*(ebp_56 - 0x04));
	edxOut = edx_88;
	blOut.u0 = <invalid>;
	ebpOut = ebp_56;
	ediOut = edi;
	return ecx_92;
}

// 004145EC: Register (ptr32 Eq_7028) fn004145EC(Register (ptr32 Eq_7028) eax, Register out ptr32 ebxOut)
struct Eq_7028 * fn004145EC(struct Eq_7028 * eax, ptr32 & ebxOut)
{
	EnterCriticalSection(&eax->ptr0008);
	struct Eq_7028 * eax_12 = eax->ptr0004;
	ebxOut = &eax->ptr0008;
	return eax_12;
}

// 00414600: Register ptr32 fn00414600(Register (ptr32 Eq_7028) eax)
ptr32 fn00414600(struct Eq_7028 * eax)
{
	word32 ebx_20;
	fn004145EC(eax, out ebx_20);
	Eq_2 esp_21 = <invalid>;
	*(esp_21 - 0x04) = fp - 0x04;
	*(esp_21 - 0x08) = 4277827;
	*(esp_21 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_21 - 0x0C;
	ptr32 ebp_39 = fn004143C4(eax->ptr0004, ebx_20);
	fs->ptr0000 = *(esp_21 - 0x0C);
	*(esp_21 - 0x04) = 0x0041464A;
	fn00414650(*(ebp_39 - 0x04));
	return ebp_39;
}

// 00414650: void fn00414650(Register (ptr32 Eq_7028) eax)
void fn00414650(struct Eq_7028 * eax)
{
	LeaveCriticalSection(&eax->ptr0008);
}

// 00414AAC: Register word32 fn00414AAC(Register (ptr32 Eq_707) eax)
word32 fn00414AAC(struct Eq_707 * eax)
{
	if (eax->t0008 == 0x00)
	{
		struct Eq_707 * ecx_13 = eax->t0000;
		ecx_13->ptr0030();
	}
	eax->t0008 = (word32) eax->t0008 + 0x01;
	return ecx;
}

// 00414B68: void fn00414B68(Register (ptr32 Eq_7487) eax)
void fn00414B68(struct Eq_7487 * eax)
{
	--eax->dw0008;
	if (eax->dw0008 == 0x00)
	{
		struct Eq_7501 * ecx_13 = eax->ptr0000;
		ecx_13->ptr0030();
	}
}

// 00415C9C: void fn00415C9C(Register (ptr32 (ptr32 Eq_7511)) eax, Stack word32 dwArg04, Stack word32 dwArg08)
void fn00415C9C(struct Eq_7511 ** eax, word32 dwArg04, word32 dwArg08)
{
	struct Eq_7511 * ecx_18 = *eax;
	ecx_18->ptr0018();
}

// 00417B7C: Register Eq_2 fn00417B7C(Register Eq_2 eax, Register ptr32 edx, Register out ptr32 ecxOut)
Eq_2 fn00417B7C(Eq_2 eax, ptr32 edx, ptr32 & ecxOut)
{
	ptr32 ecx_20 = edx;
	Eq_2 edx_15 = eax;
	word16 ax_11 = 0x00;
	do
	{
		ax_26 = SEQ(ah_25, al_17);
		word16 ax_13 = __rol(ax_11, 0x05);
		ui8 al_17 = (byte) ax_13 ^ *edx_15;
		byte ah_25 = SLICE(ax_13, byte, 8);
		edx_15 = (word32) edx_15 + 0x01;
		--ecx_20;
		Eq_2 eax_31 = SEQ(0x00, SLICE(ax_13, byte, 8), al_17);
		ax_11 = ax_26;
	} while (ecx_20 != 0x00);
	ecxOut = ecx_20;
	return eax_31;
}

// 00417BF0: void fn00417BF0(Register Eq_2 eax)
void fn00417BF0(Eq_2 eax)
{
	EnterCriticalSection((word32) eax + 0x08);
}

// 00417BFC: Register Eq_2 fn00417BFC(Register Eq_2 eax)
Eq_2 fn00417BFC(Eq_2 eax)
{
	LeaveCriticalSection((word32) eax + 0x08);
	return (word32) eax + 0x08;
}

// 00417C08: Register Eq_2 fn00417C08(Register Eq_2 eax, Register Eq_2 edx, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out Eq_2 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
Eq_2 fn00417C08(Eq_2 eax, Eq_2 edx, ptr32 & ecxOut, ptr32 & edxOut, union Eq_2 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	Eq_2 ecx_24;
	ptr32 eax_23 = fn00417B7C(edx, (word32) *((word32) eax + 0x0020), out ecx_24);
	fn00417BF0(eax);
	Eq_2 esp_33 = <invalid>;
	*(esp_33 - 0x04) = fp - 0x04;
	*(esp_33 - 0x08) = 0x00417CDC;
	*(esp_33 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_33 - 0x0C;
	Eq_7609 si_163 = (word16) eax_23;
	struct Eq_707 * dwLoc0C_170 = *((word32) eax + 0x04);
	while (dwLoc0C_170 != null && (si_163 != dwLoc0C_170->t000C || (byte) ((uint32) ((uint8) fn00407810(&dwLoc0C_170->t0010, (word32) (*((word32) eax + 0x0020)), edx, out ecx_24))) == 0x00))
		dwLoc0C_170 = (struct Eq_707 *) dwLoc0C_170->t0000;
	if (dwLoc0C_170 == null)
	{
		struct Eq_707 * eax_98 = fn00402A28((word32) *((word32) eax + 0x0020) + 0x10, ecx_24);
		eax_98->t0000 = (<anonymous>) *((word32) eax + 0x04);
		eax_98->t0004.u0 = 0x00;
		eax_98->t0008 = *edx;
		eax_98->t000C = si_163;
		fn00402C1C(edx, (word32) *((word32) eax + 0x0020), &eax_98->t0010);
		*((word32) eax + 0x04) = eax_98;
		dwLoc0C_170 = eax_98;
	}
	dwLoc0C_170->t0004 = (word32) dwLoc0C_170->t0004 + 0x01;
	ptr32 edx_146 = *(esp_33 - 0x0C);
	ptr32 ecx_150 = *(esp_33 - 0x04);
	fs->ptr0000 = edx_146;
	*(esp_33 - 0x04) = 4291811;
	Eq_2 eax_157 = fn00417BFC(eax);
	ecxOut = ecx_150;
	edxOut = edx_146;
	ebxOut = edx;
	ebpOut = fp - 0x04;
	esiOut = eax_23;
	return eax_157;
}

// 00417CEC: Register ptr32 fn00417CEC(Register Eq_2 eax, Register (ptr32 Eq_707) edx)
ptr32 fn00417CEC(Eq_2 eax, struct Eq_707 * edx)
{
	if (edx == null)
		return ebp;
	fn00417BF0(eax);
	Eq_2 esp_22 = <invalid>;
	*(esp_22 - 0x04) = fp - 0x04;
	*(esp_22 - 0x08) = 0x00417D7F;
	*(esp_22 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_22 - 0x0C;
	--edx->t0004;
	if (edx->t0004 == 0x00 != 0x00)
	{
		struct Eq_707 * eax_47 = *((word32) eax + 0x04);
		if (eax_47 == edx)
			*((word32) eax + 0x04) = edx->t0000;
		else
		{
			struct Eq_707 * dwLoc10_96 = eax_47;
			while (true)
			{
				struct Eq_707 * eax_54 = dwLoc10_96->t0000;
				if (eax_54 == edx)
					break;
				dwLoc10_96 = eax_54;
			}
			dwLoc10_96->t0000 = edx->t0000;
		}
	}
	fs->ptr0000 = *(esp_22 - 0x0C);
	*(esp_22 - 0x04) = 4291974;
	fn00417BFC(eax);
	return fp - 0x04;
}

// 00417DA8: Register ptr32 fn00417DA8(Register Eq_2 eax, Register Eq_2 ecx)
ptr32 fn00417DA8(Eq_2 eax, Eq_2 ecx)
{
	fn00417BF0(eax);
	Eq_2 esp_27 = <invalid>;
	*(esp_27 - 0x04) = fp - 0x04;
	*(esp_27 - 0x08) = 0x00417E14;
	*(esp_27 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_27 - 0x0C;
	ptr32 ebp_49;
	struct Eq_961 * ebx_50;
	word32 esi_120;
	word32 edx_119;
	word32 ecx_118;
	Eq_2 eax_48 = fn00417C08(eax, ecx, out ecx_118, out edx_119, out ebx_50, out ebp_49, out esi_120);
	ebx_50->t0010 = eax_48;
	struct Eq_7846 * esp_41 = esp_27 - 0x0C;
	word16 esi_16_16_65 = SLICE(eax_48, word16, 16);
	if (eax_48 != *(ebp_49 - 0x08))
	{
		fn00403928(ebx_50, SEQ(esi_16_16_65, ~0x02), *(esp_27 - 0x0010));
		esp_41 = esp_27 - 0x10;
	}
	ptr32 ebp_80 = fn00417CEC(*(ebp_49 - 0x04), *(ebp_49 - 0x08));
	fs->ptr0000 = esp_41->ptr0000;
	esp_41->dw0008 = 4292123;
	fn00417BFC(*(ebp_80 - 0x04));
	return ebp_80;
}

// 004182D4: Register Eq_2 fn004182D4(Register Eq_2 eax)
Eq_2 fn004182D4(Eq_2 eax)
{
	if (eax < 0x00)
		eax = GetSysColor(eax & 0xFF);
	return eax;
}

// 00418318: void fn00418318(Register (ptr32 Eq_7907) eax)
void fn00418318(struct Eq_7907 * eax)
{
	Eq_7392 edx_6 = eax->t0014;
	if (edx_6 != null)
		EnterCriticalSection(edx_6);
}

// 00418328: void fn00418328(Register (ptr32 Eq_7916) eax)
void fn00418328(struct Eq_7916 * eax)
{
	Eq_7392 edx_6 = eax->t0014;
	if (edx_6 != null)
		LeaveCriticalSection(edx_6);
}

// 0041850C: Register (ptr32 Eq_707) fn0041850C(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out ptr32 ecxOut, Register out Eq_724 edxOut)
struct Eq_707 * fn0041850C(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, ptr32 & ecxOut, union Eq_724 & edxOut)
{
	byte dl = (byte) edx;
	word32 * esp_14 = fp - 0x08;
	if (dl != 0x00)
	{
		fn00403990(eax, ecx, edx);
		esp_14 = fp + ~0x17;
	}
	globals->dw4283AC = 0x00;
	word32 ebx_40;
	ptr32 ecx_41;
	struct Eq_707 * esi_43;
	word32 ebp_96;
	Eq_724 edx_42;
	esi_43->t0010 = fn00417C08(globals->t42B8D0, 4359084, out ecx_41, out edx_42, out ebx_40, out ebp_96, out esi_43);
	esi_43->t0018.u1 = 0xFF000008;
	esi_43->dw001C = globals->dw42B88C;
	if ((byte) ebx_40 != 0x00)
	{
		edx_42 = fn004039E8(esi_43);
		fs->dw0000 = *esp_14;
	}
	ecxOut = ecx_41;
	edxOut = edx_42;
	return esi_43;
}

// 004186F4: Register Eq_2 fn004186F4(Register Eq_2 eax, Register out ptr32 ecxOut, Register out Eq_2 ebxOut, Register out Eq_2 ebpOut, Register out ptr32 esiOut)
Eq_2 fn004186F4(Eq_2 eax, ptr32 & ecxOut, union Eq_2 & ebxOut, union Eq_2 & ebpOut, ptr32 & esiOut)
{
	ptr32 v11_24 = fs->ptr0000;
	fs->ptr0000 = fp + ~0x5F;
	Eq_2 ebx_125 = eax;
	struct Eq_7998 * eax_28 = *((word32) eax + 0x0010);
	if (eax_28->t0008 != 0x00)
	{
		Eq_2 ebx_34 = eax_28->t0008;
		fs->ptr0000 = v11_24;
		fn00404264(fp - 0x50, 0x03);
		ecxOut = fp - 0x04;
		ebxOut = ebx_34;
		ebpOut.u0 = <invalid>;
		esiOut = esi;
		return fp - 0x50;
	}
	else
	{
		fn00417BF0(globals->t42B8D0);
		Eq_2 esp_56 = <invalid>;
		*(esp_56 - 0x04) = fp - 0x04;
		*(esp_56 - 0x08) = 4294741;
		*(esp_56 - 0x0C) = fs->ptr0000;
		fs->ptr0000 = esp_56 - 0x0C;
		ptr32 * esp_194 = esp_56 - 0x0C;
		if (eax_28->t0008 == 0x00)
		{
			(eax_28->b0019 & 0x01) == 0x00;
			fn004044A4(fp - 0x48, &eax_28->b0019 + 0x02);
			Eq_2 esp_127 = <invalid>;
			if (fn00407914(0x00, 4294804, out ebx_125, out esi) == 0x00)
			{
				fn004044A4(fp - 0x4C, &globals->b4283B7);
				fn0040818C(fp - 0x28, 0x00);
			}
			else
			{
				fn004044A4(fp - 0x50, &eax_28->b0019 + 0x02);
				fn0040818C(fp - 0x28, 0x00);
			}
			byte al_180 = (byte) (uint32) (uint8) fn004189B4(ebx_125);
			*(esp_127 - 0x08) = fp - 0x44;
			eax_28->t0008 = CreateFontIndirectA(*(esp_127 - 0x08));
			esp_194 = esp_127 - 0x08;
		}
		struct Eq_8056 * esp_205 = esp_194 + 0x01;
		ptr32 ecx_208 = esp_205->ptr0004;
		fs->ptr0000 = *esp_194;
		esp_205->ptr0004 = 4294748;
		Eq_2 eax_217 = fn00417BFC(globals->t42B8D0);
		ecxOut = ecx_208;
		ebxOut = ebx_125;
		ebpOut.u0 = <invalid>;
		esiOut = esi;
		return eax_217;
	}
}

// 004189B4: Register byte fn004189B4(Register Eq_2 eax)
byte fn004189B4(Eq_2 eax)
{
	struct Eq_7998 * eax_6 = *((word32) eax + 0x0010);
	return eax_6->b0018;
}

// 00418A14: Register (ptr32 Eq_707) fn00418A14(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out ptr32 ecxOut, Register out Eq_724 edxOut)
struct Eq_707 * fn00418A14(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, ptr32 & ecxOut, union Eq_724 & edxOut)
{
	byte dl = (byte) edx;
	word32 * esp_14 = fp - 0x08;
	if (dl != 0x00)
	{
		fn00403990(eax, ecx, edx);
		esp_14 = fp + ~0x17;
	}
	word32 ebx_37;
	ptr32 ecx_38;
	struct Eq_707 * esi_40;
	word32 ebp_91;
	Eq_724 edx_39;
	esi_40->t0010 = fn00417C08(globals->t42B8D4, 0x0042860C, out ecx_38, out edx_39, out ebx_37, out ebp_91, out esi_40);
	esi_40->t0018.u0 = 0x04;
	if ((byte) ebx_37 != 0x00)
	{
		edx_39 = fn004039E8(esi_40);
		fs->dw0000 = *esp_14;
	}
	ecxOut = ecx_38;
	edxOut = edx_39;
	return esi_40;
}

// 00418BD0: Register Eq_2 fn00418BD0(Register Eq_2 eax, Register out ptr32 ecxOut, Register out ptr32 ebpOut)
Eq_2 fn00418BD0(Eq_2 eax, ptr32 & ecxOut, ptr32 & ebpOut)
{
	struct Eq_7998 * eax_10 = *((word32) eax + 0x0010);
	if (eax_10->t0008 != 0x00)
	{
		Eq_2 eax_16 = eax_10->t0008;
		ecxOut = ecx;
		ebpOut = ebp;
		return eax_16;
	}
	else
	{
		fn00417BF0(globals->t42B8D4);
		Eq_2 esp_22 = <invalid>;
		*(esp_22 - 0x04) = fp - 0x04;
		*(esp_22 - 0x08) = 4295766;
		*(esp_22 - 0x0C) = fs->ptr0000;
		fs->ptr0000 = esp_22 - 0x0C;
		ptr32 * esp_34 = esp_22 - 0x0C;
		if (eax_10->t0008 == 0x00)
		{
			fn004182D4(eax_10->t0014);
			Eq_2 esp_50 = <invalid>;
			*(esp_50 - 0x04) = fp - 0x18;
			eax_10->t0008 = CreatePenIndirect(*(esp_50 - 0x04));
			esp_34 = esp_50 - 0x04;
		}
		struct Eq_8267 * esp_68 = esp_34 + 0x01;
		ptr32 ecx_71 = esp_68->ptr0004;
		fs->ptr0000 = *esp_34;
		esp_68->ptr0004 = 4295773;
		Eq_2 eax_78 = fn00417BFC(globals->t42B8D4);
		ecxOut = ecx_71;
		ebpOut = fp - 0x04;
		return eax_78;
	}
}

// 00418CE0: Register (ptr32 Eq_707) fn00418CE0(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx)
struct Eq_707 * fn00418CE0(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx)
{
	byte dl = (byte) edx;
	word32 * esp_14 = fp - 0x08;
	if (dl != 0x00)
	{
		fn00403990(eax, ecx, edx);
		esp_14 = fp + ~0x17;
	}
	word32 ebx_37;
	word32 edx_39;
	struct Eq_707 * esi_40;
	word32 ebp_89;
	word32 ecx_88;
	esi_40->t0010 = fn00417C08(globals->t42B8D8, 0x0042862C, out ecx_88, out edx_39, out ebx_37, out ebp_89, out esi_40);
	if ((byte) ebx_37 != 0x00)
	{
		fn004039E8(esi_40);
		fs->dw0000 = *esp_14;
	}
	return esi_40;
}

// 00418DF0: void fn00418DF0(Register (ptr32 Eq_7907) eax, Register (ptr32 Eq_8360) edx)
void fn00418DF0(struct Eq_7907 * eax, struct Eq_8360 * edx)
{
	struct Eq_8361 * eax_11 = eax->ptr0010;
	edx->dw0000 = eax_11->dw0010;
	edx->dw0004 = eax_11->dw0014;
	edx->dw0008 = eax_11->dw0018;
	edx->dw000C = eax_11->dw001C;
	edx->dw0000 = 0x00;
	edx->dw0008 = 0x00;
}

// 00418E0C: Register word32 fn00418E0C(Register (ptr32 Eq_7907) eax, Register Eq_2 edx, Register out ptr32 ebpOut)
word32 fn00418E0C(struct Eq_7907 * eax, Eq_2 edx, ptr32 & ebpOut)
{
	fn00418318(eax);
	Eq_2 esp_20 = <invalid>;
	*(esp_20 - 0x04) = fp - 0x04;
	*(esp_20 - 0x08) = 0x00418E51;
	*(esp_20 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_20 - 0x0C;
	ptr32 ebp_41 = fn00417DA8(globals->t42B8D8, edx);
	word32 ecx_59 = *(esp_20 - 0x04);
	fs->ptr0000 = *(esp_20 - 0x0C);
	*(esp_20 - 0x04) = 0x00418E58;
	fn00418328(*(ebp_41 - 0x04));
	ebpOut = ebp_41;
	return ecx_59;
}

// 00418E5C: Register Eq_2 fn00418E5C(Register Eq_2 eax)
Eq_2 fn00418E5C(Eq_2 eax)
{
	return *((word32) *((word32) eax + 0x0010) + 0x0014);
}

// 00418E64: Register word32 fn00418E64(Register (ptr32 Eq_7907) eax, Register out ptr32 ebpOut)
word32 fn00418E64(struct Eq_7907 * eax, ptr32 & ebpOut)
{
	fn00418DF0(eax, fp + ~0x17);
	ptr32 ebp_34;
	word32 ecx_36 = fn00418E0C(eax, fp + ~0x17, out ebp_34);
	ebpOut = ebp_34;
	return ecx_36;
}

// 00418E98: Register Eq_2 fn00418E98(Register Eq_2 eax, Register out ptr32 ecxOut, Register out (ptr32 Eq_8490) ebpOut)
Eq_2 fn00418E98(Eq_2 eax, ptr32 & ecxOut, struct Eq_8490 & ebpOut)
{
	struct Eq_8465 * eax_10 = *((word32) eax + 0x0010);
	if (eax_10->t0008 != 0x00)
	{
		Eq_2 eax_16 = eax_10->t0008;
		ecxOut = ecx;
		ebpOut = ebp;
		return eax_16;
	}
	else
	{
		fn00417BF0(globals->t42B8D8);
		Eq_2 esp_22 = <invalid>;
		*(esp_22 - 0x04) = fp - 0x04;
		*(esp_22 - 0x08) = 4296549;
		*(esp_22 - 0x0C) = fs->ptr0000;
		fs->ptr0000 = esp_22 - 0x0C;
		ptr32 * esp_106 = esp_22 - 0x0C;
		if (eax_10->t0008 == 0x00)
		{
			struct Eq_8577 ** eax_41 = eax_10->ptr0018;
			if (eax_41 != null)
			{
				struct Eq_8577 * ecx_69 = *eax_41;
				ecx_69->ptr006C();
				struct Eq_8577 ** eax_77 = eax_10->ptr0018;
				struct Eq_8577 * edx_78 = *eax_77;
				word32 edx_81;
				word32 ecx_82;
				edx_78->ptr0064();
			}
			else
			{
				cu8 al_48 = eax_10->b001C;
			}
			fn004182D4(eax_10->t0014);
			Eq_2 esp_91 = <invalid>;
			*(esp_91 - 0x04) = fp - 0x14;
			eax_10->t0008 = CreateBrushIndirect(*(esp_91 - 0x04));
			esp_106 = esp_91 - 0x04;
		}
		struct Eq_8543 * esp_109 = esp_106 + 0x01;
		ptr32 ecx_112 = esp_109->ptr0004;
		fs->ptr0000 = *esp_106;
		esp_109->ptr0004 = 4296556;
		Eq_2 eax_120 = fn00417BFC(globals->t42B8D8);
		ecxOut = ecx_112;
		ebpOut = fp - 0x04;
		return eax_120;
	}
}

// 00418F78: Register cu8 fn00418F78(Register Eq_2 eax)
cu8 fn00418F78(Eq_2 eax)
{
	struct Eq_8465 * eax_6 = *((word32) eax + 0x0010);
	return eax_6->b001C;
}

// 00418F80: Register word32 fn00418F80(Register (ptr32 Eq_7907) eax, Register Eq_8634 dl)
word32 fn00418F80(struct Eq_7907 * eax, Eq_8634 dl)
{
	fn00418DF0(eax, fp + ~0x17);
	word32 ebp_36;
	fn00418E0C(eax, fp + ~0x17, out ebp_36);
	return ebp_36;
}

// 00418FB4: Register Eq_2 fn00418FB4(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out Eq_724 edxOut, Register out ptr32 ebpOut)
Eq_2 fn00418FB4(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, union Eq_724 & edxOut, ptr32 & ebpOut)
{
	byte dl = (byte) edx;
	struct Eq_8656 * esp_10 = fp - 0x0C;
	if (dl != 0x00)
	{
		esp_10 = fp + ~0x1B;
		eax = fn00403990(eax, ecx, edx);
	}
	word24 edx_24_8_53 = SLICE(fn004036F0(eax, ecx, 0x00, esp_10->tFFFFFFFC), word24, 8);
	LPCRITICAL_SECTION * esp_49 = esp_10 - 0x04;
	*esp_49 = (LPCRITICAL_SECTION *) (&eax->dw0034 + 0x01);
	InitializeCriticalSection(*esp_49);
	Eq_2 ecx_57;
	word32 edx_58;
	Eq_7609 eax_55 = fn0041850C(globals->ptr4173B4, ecx, SEQ(edx_24_8_53, 0x01), out ecx_57, out edx_58);
	eax->t000C = eax_55;
	*((word32) eax_55 + 0x0C) = eax;
	*((word32) eax_55 + 0x08) = 0x00419504;
	*((word32) eax_55 + 0x0014) = &eax->dw0034 + 0x01;
	Eq_2 ecx_76;
	word32 edx_77;
	Eq_2 eax_74 = fn00418A14(globals->ptr417530, ecx_57, SEQ(SLICE(edx_58, word24, 8), 0x01), out ecx_76, out edx_77);
	eax->t0010 = eax_74;
	*((word32) eax_74 + 0x0C) = eax;
	((word32) eax_74 + 0x08)->u0 = 4298020;
	*((word32) eax_74 + 0x0014) = &eax->dw0034 + 0x01;
	Eq_7469 eax_93 = fn00418CE0(globals->ptr417630, ecx_76, SEQ(SLICE(edx_77, word24, 8), 0x01));
	eax->t0014 = eax_93;
	*((word32) eax_93 + 0x0C) = eax;
	*((word32) eax_93 + 0x08) = 0x00419544;
	*((word32) eax_93 + 0x0014) = &eax->dw0034 + 0x01;
	eax->dw0020 = 0x00CC0020;
	eax->t0008 = globals->t419074;
	Eq_2 ebx_115 = <invalid>;
	ptr32 ebp_114;
	struct Eq_707 * edi_119;
	byte bl_172;
	Eq_724 edx_117;
	Eq_2 ecx_116 = fn00414564(globals->ptr42B8DC, out edx_117, out bl_172, out ebp_114, out edi_119);
	if ((byte) ebx_115 != 0x00)
	{
		edx_117 = fn004039E8(edi_119);
		fs->t0000 = (Eq_7392) *esp_49;
	}
	edxOut = edx_117;
	ebpOut = ebp_114;
	return ecx_116;
}

// 004190D4: Register Eq_2 fn004190D4(Register Eq_2 eax, Register Eq_2 ecx, Register word32 edx, Register out ptr32 ebpOut)
Eq_2 fn004190D4(Eq_2 eax, Eq_2 ecx, word32 edx, ptr32 & ebpOut)
{
	struct Eq_8808 * edx_15 = *eax;
	ptr32 esp_16;
	Eq_2 ecx_65;
	edx_15->ptr0010();
	word32 ebp_73;
	fn00419390(eax, ecx, globals->b41910C, eax, out ebp_73);
	ptr32 ebp_35;
	word32 ecx_37;
	*(esp_16 - 0x04) = (union Eq_2 *) fn00418E98(*((word32) eax + 0x0014), out ecx_37, out ebp_35);
	*(esp_16 - 0x08) = edx;
	*(esp_16 - 0x0C) = (union Eq_2 *) *((word32) eax + 0x04);
	FillRect(*(esp_16 - 0x0C), *(esp_16 - 0x08), *(esp_16 - 0x04));
	struct Eq_8808 * edx_52 = *eax;
	word32 ecx_57;
	edx_52->ptr000C();
	ebpOut = ebp_35;
	return ecx_65;
}

// 00419110: void fn00419110(Register Eq_2 eax)
void fn00419110(Eq_2 eax)
{
	EnterCriticalSection(&globals->t42B8B8);
	*((word32) eax + 0x0050) = (word32) *((word32) eax + 0x0050) + 0x01;
	LeaveCriticalSection(&globals->t42B8B8);
	EnterCriticalSection((word32) eax + 0x0038);
}

// 00419138: void fn00419138(Register Eq_2 eax, Register Eq_2 ecx, Register int32 edx)
void fn00419138(Eq_2 eax, Eq_2 ecx, int32 edx)
{
	word32 ebp_54;
	fn00419390(eax, ecx, globals->b419160, eax, out ebp_54);
	MoveToEx(*((word32) eax + 0x04), edx, ecx, null);
}

// 00419164: Register word32 fn00419164(Register Eq_2 eax, Register (ptr32 (ptr32 Eq_8946)) ecx, Register ptr32 edx)
word32 fn00419164(Eq_2 eax, struct Eq_8946 ** ecx, ptr32 edx)
{
	if (ecx != null)
	{
		struct Eq_8808 * edx_23 = *eax;
		Eq_2 ecx_25;
		edx_23->ptr0010();
		fn00419390(eax, ecx_25, globals->b41919C, eax, out ebp);
		word32 ecx_47;
		(*((char *) *ecx + 0x0014))();
		struct Eq_8808 * edx_53 = *eax;
		edx_53->ptr000C();
	}
	return ebp;
}

// 004191FC: Register word32 fn004191FC(Register (ptr32 Eq_8958) eax)
word32 fn004191FC(struct Eq_8958 * eax)
{
	LeaveCriticalSection((char *) eax + 0x0038);
	EnterCriticalSection(&globals->t42B8B8);
	--eax->dw0050;
	LeaveCriticalSection(&globals->t42B8B8);
	return 0x0042B8B8;
}

// 0041924C: Register Eq_8918 fn0041924C(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_8918 edx, Register out Eq_2 esiOut)
Eq_8918 fn0041924C(Eq_2 eax, Eq_2 ecx, Eq_8918 edx, union Eq_2 & esiOut)
{
	word32 ebp_42;
	fn00419390(eax, ecx, globals->b41926C, eax, out ebp_42);
	Eq_2 eax_29 = *((word32) eax + 0x04);
	GetCurrentPositionEx(eax_29, edx);
	esiOut = eax_29;
	return edx;
}

// 00419270: void fn00419270(Register Eq_2 eax, Register (ptr32 Eq_8999) edx)
void fn00419270(Eq_2 eax, struct Eq_8999 * edx)
{
	fn00419138(eax, edx->t0004, edx->dw0000);
}

// 00419290: Register Eq_2 fn00419290(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_9011 edx, Register out ptr32 ebpOut, Register out Eq_9011 esiOut)
Eq_2 fn00419290(Eq_2 eax, Eq_2 ecx, Eq_9011 edx, ptr32 & ebpOut, union Eq_9011 & esiOut)
{
	ptr32 ebp_25;
	fn00419390(eax, ecx, globals->b4192B8, eax, out ebp_25);
	Eq_2 eax_38 = GetPixel(*((word32) eax + 0x04), edx, ecx);
	ebpOut = ebp_25;
	esiOut = edx;
	return eax_38;
}

// 004192BC: Register Eq_2 fn004192BC(Register Eq_2 eax, Register Eq_2 ecx, Register out ptr32 ecxOut, Register out ptr32 ebpOut)
Eq_2 fn004192BC(Eq_2 eax, Eq_2 ecx, ptr32 & ecxOut, ptr32 & ebpOut)
{
	struct Eq_8808 * edx_10 = *eax;
	ptr32 ecx_32;
	edx_10->ptr0010();
	ptr32 ebp_22;
	word32 ecx_23 = fn00419390(eax, ecx, globals->b4192D8, eax, out ebp_22);
	Eq_2 eax_28 = *((word32) eax + 0x04);
	ecxOut = ecx_32;
	ebpOut = ebp_22;
	return eax_28;
}

// 004192DC: void fn004192DC(Register Eq_2 eax)
void fn004192DC(Eq_2 eax)
{
	word24 eax_24_8_17 = SLICE(eax, word24, 8);
	Eq_2 esi_12 = *((word32) eax + 0x04);
	if (esi_12 != 0x00 && *((word32) eax + 0x08) != ((byte) (~SEQ(eax_24_8_17, globals->b419334)) & *((word32) eax + 0x08)))
	{
		SelectObject(esi_12, globals->t42B890);
		SelectObject(*((word32) eax + 0x04), globals->t42B894);
		((word32) eax + 0x08)->u0 = (byte) ~SEQ(SLICE(SelectObject(*((word32) eax + 0x04), globals->t42B898), word24, 8), globals->b419334) & *((word32) eax + 0x08);
	}
}

// 0041933C: void fn0041933C(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
void fn0041933C(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	Eq_2 esi_12 = edx;
	Eq_2 ebx_14 = eax;
	Eq_2 eax_15 = *((word32) eax + 0x04);
	if (edx != eax_15)
	{
		if (eax_15 != 0x00)
		{
			fn004192DC(eax);
			ebx_14 = fn0041924C(eax, ecx, fp + ~0x0F, out esi_12);
			Eq_2 esp_38 = <invalid>;
			*((word32) ebx_14 + 0x0018) = *esp_38;
			*((word32) ebx_14 + 0x001C) = *((word32) esp_38 + 0x04);
			((word32) ebx_14 + 0x04)->u0 = 0x00;
			((word32) ebx_14 + 0x08)->u0 = *((word32) ebx_14 + 0x08) & ~0x01;
		}
		if (esi_12 != 0x00)
		{
			((word32) ebx_14 + 0x08)->u0 = *((word32) ebx_14 + 0x08) | 0x01;
			*((word32) ebx_14 + 0x04) = esi_12;
			fn00419270(ebx_14, (word32) ebx_14 + 0x0018);
		}
	}
}

// 00419390: Register Eq_2 fn00419390(Register Eq_2 eax, Register Eq_2 ecx, Register byte dl, Register Eq_2 ebx, Register out ptr32 ebpOut)
Eq_2 fn00419390(Eq_2 eax, Eq_2 ecx, byte dl, Eq_2 ebx, ptr32 & ebpOut)
{
	word24 ebx_24_8_18 = SLICE(ebx, word24, 8);
	Eq_2 esi_16 = eax;
	byte bl_22 = (byte) ~SEQ(ebx_24_8_18, *((word32) eax + 0x08)) & dl;
	if (globals->b419400 != bl_22)
	{
		if ((bl_22 & 0x01) != 0x00)
		{
			struct Eq_8808 * edx_30 = *eax;
			struct Eq_9202 * esp_33;
			word32 edx_35;
			edx_30->ptr0014();
			word24 edx_24_8_44 = SLICE(edx_35, word24, 8);
			if (*((word32) eax + 0x04) == 0x00)
			{
				Eq_2 ecx_48;
				fn00403C5C(fn0040B0C4(globals->ptr413518, globals->t42A754, SEQ(edx_24_8_44, 0x01), out ecx_48, out ebp), ecx_48, esp_33->ptrFFFFFFFC, out ecx);
			}
		}
		byte bl_101 = bl_22;
		if ((bl_22 & 0x02) != 0x00)
		{
			Eq_2 ebx_74 = <invalid>;
			byte bl_197;
			ecx = fn0041942C(eax, out bl_197, out ebp, out esi_16);
			bl_101 = (byte) ebx_74;
		}
		if ((bl_101 & 0x04) != 0x00)
		{
			Eq_2 ebx_93 = <invalid>;
			byte bl_198;
			ecx = fn00419458(esi_16, out bl_198, out ebp);
			bl_101 = (byte) ebx_93;
		}
		if ((bl_101 & 0x08) != 0x00)
		{
			Eq_2 ebx_111 = <invalid>;
			byte bl_199;
			ecx = fn00419488(esi_16, out bl_199, out ebp);
			bl_101 = (byte) ebx_111;
		}
		((word32) esi_16 + 0x08)->u0 = bl_101 | *((word32) esi_16 + 0x08);
	}
	ebpOut = ebp;
	return ecx;
}

// 0041942C: Register word32 fn0041942C(Register Eq_2 eax, Register out Eq_2 blOut, Register out ptr32 ebpOut, Register out ptr32 esiOut)
word32 fn0041942C(Eq_2 eax, union Eq_2 & blOut, ptr32 & ebpOut, ptr32 & esiOut)
{
	Eq_2 esp_16 = <invalid>;
	ptr32 ebp_12;
	struct Eq_9285 * ebx_13;
	word32 ecx_14;
	ptr32 esi_18;
	*(esp_16 - 0x04) = fn004186F4(*((word32) eax + 0x0C), out ecx_14, out ebx_13, out ebp_12, out esi_18);
	*(esp_16 - 0x08) = (union Eq_2 *) ebx_13->t0004;
	SelectObject(*(esp_16 - 0x08), *(esp_16 - 0x04));
	SetTextColor(ebx_13->t0004, fn004182D4(ebx_13->ptr000C->t0018));
	blOut.u0 = <invalid>;
	ebpOut = ebp_12;
	esiOut = esi_18;
	return ecx_14;
}

// 00419458: Register word32 fn00419458(Register Eq_2 eax, Register out Eq_2 blOut, Register out ptr32 ebpOut)
word32 fn00419458(Eq_2 eax, union Eq_2 & blOut, ptr32 & ebpOut)
{
	ptr32 ebp_12;
	word32 ecx_13;
	SelectObject(*((word32) eax + 0x04), fn00418BD0(*((word32) eax + 0x0010), out ecx_13, out ebp_12));
	SetROP2(*((word32) eax + 0x04), (word32) globals->a42863C[(word32) *((word32) *((word32) eax + 0x0010) + 0x0018) * 0x02]);
	blOut.u0 = <invalid>;
	ebpOut = ebp_12;
	return ecx_13;
}

// 00419488: Register Eq_2 fn00419488(Register Eq_2 eax, Register out Eq_2 blOut, Register out Eq_2 ebpOut)
Eq_2 fn00419488(Eq_2 eax, union Eq_2 & blOut, union Eq_2 & ebpOut)
{
	word32 ecx_115;
	word32 ebp_116;
	UnrealizeObject(fn00418E98(*((word32) eax + 0x0014), out ecx_115, out ebp_116));
	word32 ebp_25;
	word32 ecx_27;
	SelectObject(*((word32) eax + 0x04), fn00418E98(*((word32) eax + 0x0014), out ecx_27, out ebp_25));
	if ((byte) (uint32) (uint8) fn00418F78(*((word32) eax + 0x0014)) != 0x00)
	{
		SetBkColor(*((word32) eax + 0x04), ~fn004182D4(fn00418E5C(*((word32) eax + 0x0014))));
		SetBkMode(*((word32) eax + 0x04), 0x01);
		blOut.u0 = <invalid>;
		ebpOut.u0 = <invalid>;
		return <invalid>;
	}
	else
	{
		SetBkColor(*((word32) eax + 0x04), fn004182D4(fn00418E5C(*((word32) eax + 0x0014))));
		SetBkMode(*((word32) eax + 0x04), 0x02);
		blOut.u0 = <invalid>;
		ebpOut.u0 = <invalid>;
		return <invalid>;
	}
}

// 00419564: void fn00419564(Register Eq_2 eax, Register Eq_9458 edx)
void fn00419564(Eq_2 eax, Eq_9458 edx)
{
	Eq_2 ecx_16;
	word32 ebp_36;
	word32 ecx_37;
	fn00403C5C(fn0040B0C4(globals->ptr417000, eax, SEQ(edx_24_8, 0x01), out ecx_16, out ebp_36), ecx_16, dwLoc08, out ecx_37);
}

// 0041957C: Register word32 fn0041957C(Register Eq_2 eax, Register Eq_9477 edx, Register out (ptr32 (ptr32 Eq_10315)) ebpOut)
word32 fn0041957C(Eq_2 eax, Eq_9477 edx, struct Eq_10315 & ebpOut)
{
	struct Eq_10315 ** ebp_15;
	Eq_2 ecx_16;
	word32 ecx_25;
	fn00403C5C(fn0040B0C4(globals->ptr416FA4, eax, SEQ(edx_24_8, 0x01), out ecx_16, out ebp_15), ecx_16, dwLoc08, out ecx_25);
	ebpOut = ebp_15;
	return ecx_25;
}

// 00419594: void fn00419594(Register Eq_9495 edx)
void fn00419594(Eq_9495 edx)
{
	word32 ebp_17;
	fn0041957C(globals->t42A734, edx_24_8, out ebp_17);
}

// 004195A0: Register ptr32 fn004195A0()
ptr32 fn004195A0()
{
	ptr32 v8_18 = fs->ptr0000;
	fs->ptr0000 = fp - 0x0014;
	word32 edx_27;
	ptr32 ebp_28;
	fn00406050(globals->t42A67C, fp - 0x08, out edx_27, out ebp_28);
	Eq_2 ecx_38;
	word32 ecx_81;
	fn00403C5C(fn0040B008(globals->ptr4134BC, *(ebp_28 - 0x04), SEQ(SLICE(edx_27, word24, 8), 0x01), out ecx_38), ecx_38, dwLoc18, out ecx_81);
	fs->ptr0000 = v8_18;
	word32 edx_82;
	fn00404240(ebp_28 - 0x04, out edx_82);
	return ebp_28;
}

// 004195F4: Register Eq_2 fn004195F4(Register out Eq_2 ebxOut, Register out (ptr32 (ptr32 Eq_10315)) ebpOut)
Eq_2 fn004195F4(union Eq_2 & ebxOut, struct Eq_10315 & ebpOut)
{
	fs->ptr0000 = fp + ~0x0117;
	Eq_2 eax_24 = GetLastError();
	struct Eq_10315 ** ebp_107 = fp - 0x04;
	if (eax_24 != 0x00 && FormatMessageA(0x1000, null, eax_24, 0x0400, fp - 0x0104, 0x0100, null) != 0x00)
	{
		Eq_2 ecx_75;
		word32 ecx_143;
		fn00403C5C(fn0040B008(globals->ptr4134BC, 0x00, SEQ(SLICE(fn004044B0(fp - 0x0108, 0x0100, fp - 0x0104), word24, 8), 0x01), out ecx_75), ecx_75, dwLoc013C, out ecx_143);
	}
	else
		ebp_107 = fn004195A0();
	fs->ptr0000 = dwLoc08;
	word32 edx_144;
	Eq_2 ecx_111 = fn00404240(ebp_107 - 0x0104, out edx_144);
	ebxOut = eax_24;
	ebpOut = ebp_107;
	return ecx_111;
}

// 0041969C: Register Eq_2 fn0041969C(Register Eq_2 eax, Register out ptr32 ecxOut, Register out (ptr32 (ptr32 Eq_10315)) ebpOut)
Eq_2 fn0041969C(Eq_2 eax, ptr32 & ecxOut, struct Eq_10315 & ebpOut)
{
	Eq_2 ebx_15 = eax;
	if (eax == 0x00)
		ecx = fn004195F4(out ebx_15, out ebp);
	ecxOut = ecx;
	ebpOut = ebp;
	return ebx_15;
}

// 004196CC: Register int32 fn004196CC(Register int32 eax, Register word32 ecx, Register int32 edx)
int32 fn004196CC(int32 eax, word32 ecx, int32 edx)
{
	int32 eax_12 = (word32) (edx *s eax) + (ecx - 0x01) & ~(ecx - 0x01);
	if (eax_12 < 0x00)
		eax_12 += 0x07;
	return eax_12 >> 0x03;
}

// 00419A30: void fn00419A30(Register Eq_9654 eax, Register Eq_2 edx)
void fn00419A30(Eq_9654 eax, Eq_2 edx)
{
	GetSystemInfo(fp - 0x30);
	int32 ecx_19 = edx - 0x01;
	if (edx >= 0x01)
	{
		if (wLoc10 != 0x03)
		{
			do
			{
				eax[ecx_19] = (struct tagPALETTEENTRY) (__bswap(eax[ecx_19]) >> 0x08);
				--ecx_19;
			} while (ecx_19 >= 0x00);
		}
		else
		{
			do
			{
				uint32 eax_32 = eax[ecx_19];
				eax[ecx_19] = (struct tagPALETTEENTRY) SEQ(SEQ(0x00, (byte) eax_32, SLICE(eax_32, byte, 8)), (byte) (eax_32 >> 0x10));
				--ecx_19;
			} while (ecx_19 >= 0x00);
		}
	}
}

// 00419BA0: Register byte fn00419BA0(Register (ptr32 Eq_9706) eax, Stack ptr32 dwArg00, Register out ptr32 ebpOut)
byte fn00419BA0(LOGPALETTE * eax, ptr32 dwArg00, ptr32 & ebpOut)
{
	if (globals->t42B884 == 0x00)
	{
		ebpOut = ebp;
		return 0x00;
	}
	else
	{
		Eq_2 eax_28 = GetDC(null);
		fs->ptr0000 = fp + ~0x1F;
		if (GetDeviceCaps(eax_28, 0x68) >= 0x10)
		{
			GetPaletteEntries(globals->t42B884, 0x00, 0x08, eax + 0x04);
			GetPaletteEntries(globals->t42B884, 0x08, 0x08, eax - 0x1C + (word32) eax->palNumEntries * 0x04);
		}
		fs->ptr0000 = dwArg00;
		int32 eax_93 = ReleaseDC(null, eax_28);
		ebpOut = fp - 0x04;
		return (byte) eax_93;
	}
}

// 00419C38: Register Eq_2 fn00419C38(Register Eq_2 eax, Register ui32 ecx, Register Eq_2 edx, Register out ptr32 ebpOut)
Eq_2 fn00419C38(Eq_2 eax, ui32 ecx, Eq_2 edx, ptr32 & ebpOut)
{
	LOGPALETTE * esp_13 = fp + ~0x040F;
	Eq_2 esi_105 = 0x00;
	if (eax != 0x00)
	{
		Eq_2 eax_39 = CreateCompatibleDC(0x00);
		Eq_2 eax_45 = SelectObject(eax_39, eax);
		GetDIBColorTable(eax_39, 0x00, 0x0100, fp + ~0x0417);
		SelectObject(eax_39, eax_45);
		DeleteDC(eax_39);
		esp_13 = fp + ~0x0437;
	}
	else
		fn00402C1C(edx, ecx << 0x02, fp + ~0x040B);
	if (esp_13->palNumEntries != 0x00)
	{
		if (esp_13->palNumEntries != 0x10 || (byte) ((uint32) ((uint8) fn00419BA0(esp_13, esp_13->ptrFFFFFFFC, out ebp))) == 0x00)
			fn00419A30(esp_13 + 0x04, (word32) Mem68[esp_13 + 0x02:word16]);
		LOGPALETTE ** esp_102 = esp_13 - 0x04;
		*esp_102 = (LOGPALETTE **) esp_13;
		esi_105 = CreatePalette(*esp_102);
	}
	ebpOut = ebp;
	return esi_105;
}

// 00419CDC: void fn00419CDC(Register Eq_2 eax, Register word32 ecx, Register Eq_9654 edx)
void fn00419CDC(Eq_2 eax, word32 ecx, Eq_9654 edx)
{
	if (eax != 0x00)
	{
		Eq_2 dwLoc1C_83 = eax;
		if (GetObjectA(eax, 0x04, fp - 0x0010) != 0x00 && eax != 0x00)
		{
			if (ecx + 0x01 < eax)
				dwLoc1C_83 = ecx + 0x01;
			GetPaletteEntries(eax, 0x00, dwLoc1C_83, edx);
			fn00419A30(edx, eax);
		}
	}
}

// 00419E78: Register Eq_724 fn00419E78(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx)
Eq_724 fn00419E78(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx)
{
	byte dl = (byte) edx;
	struct Eq_9900 * esp_14 = fp - 0x08;
	if (dl != 0x00)
	{
		esp_14 = fp + ~0x17;
		eax = fn00403990(eax, ecx, edx);
	}
	Eq_724 edx_39 = fn004036F0(eax, ecx, 0x00, esp_14->tFFFFFFFC);
	if (dl != 0x00)
	{
		edx_39 = fn004039E8(eax);
		fs->dw0000 = esp_14->dw0000;
	}
	return edx_39;
}

// 0041A304: Register ptr32 fn0041A304(Register Eq_2 eax, Register out (ptr32 Eq_7028) ebxOut, Register out (ptr32 Eq_9930) ebpOut, Register out ptr32 ediOut)
ptr32 fn0041A304(Eq_2 eax, struct Eq_7028 & ebxOut, struct Eq_9930 & ebpOut, ptr32 & ediOut)
{
	struct Eq_9930 * ebp_122 = fp - 0x04;
	if (eax == 0x00)
	{
		ebxOut = ebx;
		ebpOut = ebp;
		ediOut = edi;
		return edx;
	}
	else
	{
		word32 ebx_147;
		struct Eq_7028 * eax_30 = fn004145EC(globals->ptr428664, out ebx_147);
		Eq_2 esp_32 = <invalid>;
		*(esp_32 - 0x04) = fp - 0x04;
		*(esp_32 - 0x08) = 0x0041A374;
		*(esp_32 - 0x0C) = fs->ptr0000;
		fs->ptr0000 = esp_32 - 0x0C;
		struct Eq_7028 * ebx_44 = eax_30->ptr0008;
		struct Eq_7028 * ebx_125 = ebx_44 - (struct Eq_7028 *) 0x01;
		if (ebx_44 >= (struct Eq_7028 *) 0x01)
		{
			do
			{
				Eq_2 ecx_55;
				Eq_2 eax_53 = fn00414348(eax_30, ebx_125, out ecx_55, out ebp_122, out edi);
				struct Eq_10004 * edx_64 = *((word32) eax_53 + 88);
				if (edx_64 != null && (edx_64->ptr0028)->dw0008 == *(ebp_122 - 0x04))
					ebx_125 = fn0041A3E8(eax_53, ecx_55, out ebp_122);
				--ebx_125;
			} while (ebx_125 != (struct Eq_7028 *) ~0x00);
		}
		ptr32 edx_94 = *(esp_32 - 0x0C);
		fs->ptr0000 = edx_94;
		*(esp_32 - 0x04) = 4301691;
		fn00414650(globals->ptr428664);
		ebxOut = ebx_125;
		ebpOut = ebp_122;
		ediOut = edi;
		return edx_94;
	}
}

// 0041A380: Register (ptr32 Eq_707) fn0041A380(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out ptr32 ecxOut, Register out Eq_724 edxOut, Register out ptr32 ebpOut)
struct Eq_707 * fn0041A380(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, ptr32 & ecxOut, union Eq_724 & edxOut, ptr32 & ebpOut)
{
	byte dl = (byte) edx;
	word32 * esp_10 = fp - 0x0C;
	if (dl != 0x00)
	{
		esp_10 = fp + ~0x1B;
		eax = fn00403990(eax, ecx, edx);
	}
	ptr32 ebp_42;
	Eq_724 edx_44;
	ptr32 ecx_43 = fn00418FB4(eax, ecx, 0x00, out edx_44, out ebp_42);
	eax->t0058 = ecx;
	if (dl != 0x00)
	{
		edx_44 = fn004039E8(eax);
		fs->dw0000 = *esp_10;
	}
	ecxOut = ecx_43;
	edxOut = edx_44;
	ebpOut = ebp_42;
	return eax;
}

// 0041A3E8: Register word32 fn0041A3E8(Register Eq_2 eax, Register Eq_2 ecx, Register out ptr32 ebpOut)
word32 fn0041A3E8(Eq_2 eax, Eq_2 ecx, ptr32 & ebpOut)
{
	if (*((word32) eax + 0x04) == 0x00)
	{
		ebpOut = ebp;
		return ebx;
	}
	else
	{
		fn00419110(eax);
		Eq_2 esp_28 = <invalid>;
		*(esp_28 - 0x04) = fp - 0x04;
		*(esp_28 - 0x08) = 0x0041A47C;
		*(esp_28 - 0x0C) = (union Eq_2 *) fs->t0000;
		fs->t0000 = esp_28 - 0x0C;
		ptr32 esp_39 = esp_28 - 0x0C;
		word32 eax_43 = *((word32) eax + 0x005C);
		if (eax_43 != 0x00)
		{
			*(esp_28 - 0x0010) = eax_43;
			*(esp_28 - 0x0014) = (union Eq_2 *) *((word32) eax + 0x04);
			SelectObject(*(esp_28 - 0x0014), *(esp_28 - 0x0010));
			esp_39 = esp_28 - 0x0014;
		}
		word32 eax_57 = *((word32) eax + 0x0060);
		if (eax_57 != 0x00)
		{
			union Eq_2 * esp_62 = esp_39 - 0x04;
			*esp_62 = (union Eq_2 *) ~0x00;
			*(esp_62 - 0x04) = eax_57;
			*(esp_62 - 0x08) = (union Eq_2 *) *((word32) eax + 0x04);
			SelectPalette(*(esp_62 - 0x08), *(esp_62 - 0x04), *esp_62);
			esp_39 = esp_62 - 0x08;
		}
		Eq_2 ebx_74 = *((word32) eax + 0x04);
		fn0041933C(eax, ecx, 0x00);
		struct Eq_10156 * esp_93 = esp_39 - 0x04;
		esp_93->t0000 = ebx_74;
		DeleteDC(esp_93->t0000);
		ptr32 ebp_99 = fn00414600(globals->ptr428664);
		fs->t0000 = esp_93->t0000;
		esp_93->dw0008 = 0x0041A483;
		word32 ebx_122 = fn004191FC(*(ebp_99 - 0x04));
		ebpOut = ebp_99;
		return ebx_122;
	}
}

// 0041A574: void fn0041A574(Register (ptr32 Eq_707) eax)
void fn0041A574(struct Eq_707 * eax)
{
	eax->t0004 = (word32) eax->t0004 + 0x01;
}

// 0041A578: void fn0041A578(Register (ptr32 Eq_707) eax)
void fn0041A578(struct Eq_707 * eax)
{
	if (eax != null)
	{
		--eax->t0004;
		if (eax->t0004 == 0x00)
		{
			struct Eq_707 * edx_17 = eax->t0000;
			word32 ecx_37;
			edx_17->t0000();
			word32 ecx_56;
			fn00403720(eax, out ecx_56);
		}
	}
}

// 0041A6FC: void fn0041A6FC(Register (ptr32 Eq_10267) eax)
void fn0041A6FC(struct Eq_10267 * eax)
{
	if ((eax->b0028 & 0x03) != 0x00 && eax->dw0040 == 0x00)
	{
		Eq_10280 dx_11 = eax->t0026;
		if (dx_11 == 0x10)
		{
			eax->dw0040 = 0xF800;
			eax->dw0044 = 0x07E0;
			eax->dw0048 = 0x1F;
		}
		else if (dx_11 == 0x20)
		{
			eax->dw0040 = 0x00FF0000;
			eax->dw0044 = 0xFF00;
			eax->dw0048 = 0xFF;
		}
	}
}

// 0041A748: Register Eq_2 fn0041A748(Register Eq_2 eax, Stack (ptr32 Eq_10313) dwArg08, Register out Eq_2 ebxOut, Register out (ptr32 Eq_10315) ebpOut, Register out (ptr32 word32) ediOut)
Eq_2 fn0041A748(Eq_2 eax, struct Eq_10313 * dwArg08, union Eq_2 & ebxOut, struct Eq_10315 & ebpOut, word32 & ediOut)
{
	struct Eq_10315 * ebp_360 = fp - 0x04;
	struct Eq_10321 * esp_15 = fp + ~0xA7;
	if ((dwArg08->dw0018 == 0x00 || dwArg08->dw001C != 0x00 && dwArg08->dw0020 != 0x00) && (dwArg08->dw0018 != 0x00 || dwArg08->dw0004 != 0x00 && dwArg08->dw0008 != 0x00))
	{
		ptr32 ebp_55;
		word32 * edi_59;
		Eq_2 ebx_1002;
		Eq_9495 edx_24_8_81 = SLICE(fn0041A304(eax, out ebx_1002, out ebp_55, out edi_59), word24, 8);
		*(ebp_55 - 0x70) = 0x00;
		if (*(ebp_55 - 0x04) != 0x00)
		{
			esp_15 = fp + ~0xB3;
			if (GetObjectA(*(ebp_55 - 0x04), 0x54, ebp_55 - 0x88) < 0x18)
				fn00419594(edx_24_8_81);
		}
		HWND * esp_92 = esp_15 - 0x04;
		*esp_92 = (HWND *) null;
		ptr32 ebp_98;
		word32 ecx_1100;
		*(ebp_98 - 0x18) = (union Eq_2 *) fn0041969C(GetDC(*esp_92), out ecx_1100, out ebp_98);
		*(esp_92 - 0x04) = *(ebp_98 - 0x18);
		struct Eq_10429 * ebp_112;
		Eq_2 ecx_113;
		*(ebp_112 - 0x1C) = (union Eq_2 *) fn0041969C(CreateCompatibleDC(*(esp_92 - 0x04)), out ecx_113, out ebp_112);
		*(esp_92 - 0x08) = (struct Eq_10429 **) ebp_112;
		*(esp_92 - 0x0C) = 4304278;
		*(esp_92 - 0x0010) = (union Eq_2 *) fs->t0000;
		fs->t0000 = esp_92 - 0x0010;
		if (ebp_112->ptr000C->dw0018 < 0x28)
		{
			ptr32 esp_500;
			ptr32 ebp_505;
			if ((ebp_112->ptr000C->w0010 | (ebp_112->ptr000C)->w0012) == 0x01)
			{
				*(esp_92 - 0x0014) = 0x00;
				*(esp_92 - 0x0018) = 0x01;
				*(esp_92 - 0x001C) = 0x01;
				*(esp_92 - 0x0020) = ebp_112->ptr000C->dw0008;
				*(esp_92 - 0x0024) = ebp_112->ptr000C->dw0004;
				word32 ecx_1102;
				*(ebp_505 - 0x10) = (union Eq_2 *) fn0041969C(CreateBitmap(*(esp_92 - 0x0024), *(esp_92 - 0x0020), *(esp_92 - 0x001C), *(esp_92 - 0x0018), *(esp_92 - 0x0014)), out ecx_1102, out ebp_505);
				esp_500 = esp_92 - 0x0024;
			}
			else
			{
				*(esp_92 - 0x0014) = ebp_112->ptr000C->dw0008;
				*(esp_92 - 0x0018) = ebp_112->ptr000C->dw0004;
				*(esp_92 - 0x001C) = *(ebp_112 - 0x18);
				word32 ecx_1101;
				*(ebp_505 - 0x10) = (union Eq_2 *) fn0041969C(CreateCompatibleBitmap(*(esp_92 - 0x001C), *(esp_92 - 0x0018), *(esp_92 - 0x0014)), out ecx_1101, out ebp_505);
				esp_500 = esp_92 - 0x001C;
			}
			ptr32 ebp_544;
			word32 ecx_1103;
			fn0041969C(*(ebp_505 - 0x10), out ecx_1103, out ebp_544);
			union Eq_2 * esp_553 = esp_500 - 0x04;
			*esp_553 = *(ebp_544 - 0x10);
			*(esp_553 - 0x04) = *(ebp_544 - 0x1C);
			word32 ecx_1104;
			struct Eq_10315 * ebp_561;
			*(ebp_561 - 0x14) = (union Eq_2 *) fn0041969C(SelectObject(*(esp_553 - 0x04), *esp_553), out ecx_1104, out ebp_561);
			*(esp_553 - 0x08) = (struct Eq_10315 **) ebp_561;
			*(esp_553 - 0x0C) = 4304199;
			*(esp_553 - 0x0010) = (union Eq_2 *) fs->t0000;
			fs->t0000 = esp_553 - 0x0010;
			*(esp_553 - 0x0014) = (struct Eq_10315 **) ebp_561;
			*(esp_553 - 0x0018) = 4304182;
			*(esp_553 - 0x001C) = (union Eq_2 *) fs->t0000;
			fs->t0000 = esp_553 - 0x001C;
			*(ebp_561 - 0x34) = 0x00;
			ptr32 esp_584 = esp_553 - 0x001C;
			Eq_2 ebx_589 = 0x00;
			if (*(ebp_561 - 0x0C) != 0x00)
			{
				*(esp_553 - 0x0020) = 0x00;
				*(esp_553 - 0x0024) = *(ebp_561 - 0x0C);
				*(esp_553 - 0x0028) = *(ebp_561 - 0x1C);
				*(ebp_561 - 0x34) = (union Eq_2 *) SelectPalette(*(esp_553 - 0x0028), *(esp_553 - 0x0024), *(esp_553 - 0x0020));
				*(esp_553 - 44) = *(ebp_561 - 0x1C);
				RealizePalette(*(esp_553 - 44));
				esp_584 = esp_553 - 44;
			}
			union Eq_2 * esp_635;
			struct Eq_10315 ** esp_608 = esp_584 - 0x04;
			*esp_608 = (struct Eq_10315 **) ebp_561;
			*(esp_608 - 0x04) = 4304148;
			*(esp_608 - 0x08) = (union Eq_2 *) fs->t0000;
			fs->t0000 = esp_608 - 0x08;
			if (ebp_561->ptr0008 != null)
			{
				word32 ecx_1105;
				*(esp_608 - 0x0C) = (union Eq_2 *) fn00418E98(ebp_561->ptr0008->t0014, out ecx_1105, out ebp_561);
				*(esp_608 - 0x0010) = ebp_561->ptr000C->dw0008;
				*(esp_608 - 0x0014) = ebp_561 - 0x98;
				fn00413CD0(0x00, ebp_561->ptr000C->t0004, 0x00, *(esp_608 - 0x0014), *(esp_608 - 0x0010));
				*(esp_608 - 0x10) = ebp_561 - 0x98;
				*(esp_608 - 0x14) = *(ebp_561 - 0x1C);
				FillRect(*(esp_608 - 0x14), *(esp_608 - 0x10), *(esp_608 - 0x0C));
				Eq_2 esp_677 = <invalid>;
				*(esp_677 - 0x04) = (union Eq_2 *) fn004182D4(ebp_561->ptr0008->ptr000C->t0018);
				*(esp_677 - 0x08) = *(ebp_561 - 0x1C);
				SetTextColor(*(esp_677 - 0x08), *(esp_677 - 0x04));
				Eq_2 esp_692 = <invalid>;
				*(esp_692 - 0x04) = (union Eq_2 *) fn004182D4(fn00418E5C(ebp_561->ptr0008->t0014));
				*(esp_692 - 0x08) = *(ebp_561 - 0x1C);
				SetBkColor(*(esp_692 - 0x08), *(esp_692 - 0x04));
				esp_635 = esp_692 - 0x08;
				if (ebp_561->ptr000C->w0026 == 0x01 && (ebp_561->ptr000C)->dw0014 != 0x00)
				{
					*(ebp_561 - 0x30) = (union Eq_2 *) fn004182D4(ebp_561->ptr0008->ptr000C->t0018);
					*(ebp_561 - 44) = (union Eq_2 *) fn004182D4(fn00418E5C(ebp_561->ptr0008->t0014));
					Eq_2 esp_723 = <invalid>;
					*(esp_723 - 0x04) = ebp_561 - 0x30;
					*(esp_723 - 0x08) = 0x02;
					*(esp_723 - 0x0C) = 0x00;
					*(esp_723 - 0x0010) = *(ebp_561 - 0x1C);
					SetDIBColorTable(*(esp_723 - 0x0010), *(esp_723 - 0x0C), *(esp_723 - 0x08), *(esp_723 - 0x04));
					esp_635 = esp_723 - 0x0010;
				}
			}
			else
			{
				*(esp_608 - 0x0C) = 0x00FF0062;
				*(esp_608 - 0x0010) = ebp_561->ptr000C->dw0008;
				*(esp_608 - 0x0014) = (union Eq_2 *) ebp_561->ptr000C->t0004;
				*(esp_608 - 0x0018) = 0x00;
				*(esp_608 - 0x001C) = 0x00;
				*(esp_608 - 0x0020) = *(ebp_561 - 0x1C);
				PatBlt(*(esp_608 - 0x0020), *(esp_608 - 0x001C), *(esp_608 - 0x0018), *(esp_608 - 0x0014), *(esp_608 - 0x0010), *(esp_608 - 0x0C));
				esp_635 = esp_608 - 0x0020;
			}
			if (*(ebp_561 - 0x04) == 0x00)
			{
				fs->t0000 = *esp_635;
				struct Eq_11410 * esp_747 = (char *) esp_635 + 0x04;
				esp_747->dw0004 = 4304155;
				Eq_2 eax_744 = 0x00;
				if (*(ebp_561 - 0x0C) != 0x00)
				{
					esp_747->t0000.u0 = ~0x00;
					*(esp_747 - 0x04) = *(ebp_561 - 0x34);
					*(esp_747 - 0x08) = *(ebp_561 - 0x1C);
					eax_744 = SelectPalette(*(esp_747 - 0x08), *(esp_747 - 0x04), esp_747->t0000);
				}
				ebxOut.u0 = 0x00;
				ebpOut = ebp_561;
				ediOut = edi_59;
				return eax_744;
			}
			else
			{
				union Eq_2 * esp_768 = esp_635 - 0x04;
				*esp_768 = *(ebp_561 - 0x18);
				ptr32 ebp_773;
				word32 ecx_1106;
				*(ebp_773 - 0x20) = (union Eq_2 *) fn0041969C(CreateCompatibleDC(*esp_768), out ecx_1106, out ebp_773);
				*(esp_768 - 0x04) = ebp_773;
				*(esp_768 - 0x08) = 4304106;
				*(esp_768 - 0x0C) = (union Eq_2 *) fs->t0000;
				fs->t0000 = esp_768 - 0x0C;
				*(esp_768 - 0x0010) = *(ebp_773 - 0x04);
				*(esp_768 - 0x0014) = *(ebp_773 - 0x20);
				ptr32 esp_796 = esp_768 - 0x0014;
				struct Eq_11496 * ebp_801;
				word32 ecx_1107;
				Eq_2 eax_800 = fn0041969C(SelectObject(*(esp_768 - 0x0014), *(esp_768 - 0x0010)), out ecx_1107, out ebp_801);
				if (*(ebp_801 - 0x08) != 0x00)
				{
					*(esp_768 - 0x0018) = 0x00;
					*(esp_768 - 0x001C) = *(ebp_801 - 0x08);
					*(esp_768 - 0x0020) = *(ebp_801 - 0x20);
					ebx_589 = SelectPalette(*(esp_768 - 0x0020), *(esp_768 - 0x001C), *(esp_768 - 0x0018));
					*(esp_768 - 0x0024) = *(ebp_801 - 0x20);
					RealizePalette(*(esp_768 - 0x0024));
					esp_796 = esp_768 - 0x0024;
				}
				if (ebp_801->ptr0008 != null)
				{
					Eq_2 esp_833 = <invalid>;
					*(esp_833 - 0x04) = (union Eq_2 *) fn004182D4(ebp_801->ptr0008->ptr000C->t0018);
					*(esp_833 - 0x08) = *(ebp_801 - 0x20);
					SetTextColor(*(esp_833 - 0x08), *(esp_833 - 0x04));
					Eq_2 esp_848 = <invalid>;
					*(esp_848 - 0x04) = (union Eq_2 *) fn004182D4(fn00418E5C(ebp_801->ptr0008->t0014));
					*(esp_848 - 0x08) = *(ebp_801 - 0x20);
					SetBkColor(*(esp_848 - 0x08), *(esp_848 - 0x04));
					esp_796 = esp_848 - 0x08;
				}
				union Eq_2 * esp_861 = esp_796 - 0x04;
				*esp_861 = (union Eq_2 *) 0x00CC0020;
				*(esp_861 - 0x04) = 0x00;
				*(esp_861 - 0x08) = 0x00;
				*(esp_861 - 0x0C) = *(ebp_801 - 0x20);
				*(esp_861 - 0x0010) = ebp_801->ptr000C->dw0008;
				*(esp_861 - 0x0014) = ebp_801->ptr000C->dw0004;
				*(esp_861 - 0x0018) = 0x00;
				*(esp_861 - 0x001C) = 0x00;
				*(esp_861 - 0x0020) = *(ebp_801 - 0x1C);
				BitBlt(*(esp_861 - 0x0020), *(esp_861 - 0x001C), *(esp_861 - 0x0018), *(esp_861 - 0x0014), *(esp_861 - 0x0010), *(esp_861 - 0x0C), *(esp_861 - 0x08), *(esp_861 - 0x04), *esp_861);
				ptr32 esp_884 = esp_861 - 0x0020;
				if (*(ebp_801 - 0x08) != 0x00)
				{
					*(esp_861 - 0x0024) = ~0x00;
					*(esp_861 - 0x0028) = (union Eq_2 *) ebx_589;
					*(esp_861 - 44) = *(ebp_801 - 0x20);
					SelectPalette(*(esp_861 - 44), *(esp_861 - 0x0028), *(esp_861 - 0x0024));
					esp_884 = esp_861 - 44;
				}
				struct Eq_11906 * esp_902 = esp_884 - 0x04;
				esp_902->t0000 = eax_800;
				*(esp_902 - 0x04) = *(ebp_801 - 0x20);
				struct Eq_10315 * ebp_917;
				word32 ecx_1109;
				fn0041969C(SelectObject(*(esp_902 - 0x04), esp_902->t0000), out ecx_1109, out ebp_917);
				fs->t0000 = *(esp_902 - 0x04);
				esp_902->dw0004 = 4304113;
				esp_902->t0000 = *(ebp_917 - 0x20);
				Eq_2 eax_939 = DeleteDC(esp_902->t0000);
				ebxOut = ebx_589;
				ebpOut = ebp_917;
				ediOut = edi_59;
				return eax_939;
			}
		}
		*(ebp_112 - 0x24) = (struct Eq_707 **) fn00402A28(0x042C, ecx_113);
		*(esp_92 - 0x0014) = (struct Eq_10429 **) ebp_112;
		*(esp_92 - 0x0018) = 0x0041AAA0;
		*(esp_92 - 0x001C) = (union Eq_2 *) fs->t0000;
		fs->t0000 = esp_92 - 0x001C;
		ebp_112->ptr000C->dw0018 = 0x28;
		ebp_112->ptr000C->w0024 = 0x01;
		ptr32 esp_148 = esp_92 - 0x001C;
		if (ebp_112->ptr000C->t0026 == 0x00)
		{
			*(esp_92 - 0x0020) = 0x0C;
			*(esp_92 - 0x0024) = *(ebp_112 - 0x18);
			int32 eax_163 = GetDeviceCaps(*(esp_92 - 0x0024), *(esp_92 - 0x0020));
			*(esp_92 - 0x0028) = 0x0E;
			*(esp_92 - 44) = *(ebp_112 - 0x18);
			Eq_10280 bx_173 = (word16) eax_163 *s (word16) GetDeviceCaps(*(esp_92 - 44), *(esp_92 - 0x0028));
			ebp_112->ptr000C->t0026 = bx_173;
			esp_148 = esp_92 - 44;
			ebx_1002 = SEQ(SLICE(eax_163, word16, 16), bx_173);
		}
		up32 * esi_181 = &ebp_112->ptr000C->dw0018;
		word32 * edi_182 = *(ebp_112 - 0x24);
		word32 ecx_183;
		for (ecx_183 = 0x0A; ecx_183 != 0x00; --ecx_183)
		{
			*edi_182 = *esi_181;
			++esi_181;
			++edi_182;
		}
		ebp_112->ptr000C->dw0004 = ebp_112->ptr000C->dw001C;
		ebp_112->ptr000C->dw0008 = ebp_112->ptr000C->dw0020;
		if (ebp_112->ptr000C->t0026 <= 0x08)
		{
			if (ebp_112->ptr000C->t0026 == 0x01 && (*(ebp_112 - 0x04) == 0x00 || *(ebp_112 - 116) == 0x00))
			{
				*((char *) *(ebp_112 - 0x24) + 0x0028) = 0x00;
				*((char *) *(ebp_112 - 0x24) + 44) = 0x00FFFFFF;
			}
			else if (*(ebp_112 - 0x0C) != 0x00)
				fn00419CDC(*(ebp_112 - 0x0C), 0xFF, *(ebp_112 - 0x24) + 0x28);
			else if (*(ebp_112 - 0x04) != 0x00)
			{
				ptr32 esp_282;
				union Eq_2 * esp_246 = esp_148 - 0x04;
				*esp_246 = *(ebp_112 - 0x04);
				*(esp_246 - 0x04) = *(ebp_112 - 0x1C);
				*(ebp_112 - 0x14) = (union Eq_2 *) SelectObject(*(esp_246 - 0x04), *esp_246);
				if (*(ebp_112 - 0x70) > 0x00 && *(ebp_112 - 116) != 0x00)
				{
					*(esp_246 - 0x08) = *(ebp_112 - 0x24) + 0x28;
					*(esp_246 - 0x0C) = 0x0100;
					*(esp_246 - 0x0010) = 0x00;
					*(esp_246 - 0x0014) = *(ebp_112 - 0x1C);
					ebp_112->ptr000C->t0038 = GetDIBColorTable(*(esp_246 - 0x0014), *(esp_246 - 0x0010), *(esp_246 - 0x0C), *(esp_246 - 0x08));
					esp_282 = esp_246 - 0x0014;
				}
				else
				{
					*(esp_246 - 0x08) = 0x00;
					*(esp_246 - 0x0C) = *(ebp_112 - 0x24);
					*(esp_246 - 0x0010) = 0x00;
					int64 edx_eax_268 = (int64) ebp_112->ptr000C->dw0020;
					ui32 edx_270 = SLICE(edx_eax_268, word32, 32);
					*(esp_246 - 0x0014) = ((word32) edx_eax_268 ^ edx_270) - edx_270;
					*(esp_246 - 0x0018) = 0x00;
					*(esp_246 - 0x001C) = *(ebp_112 - 0x04);
					*(esp_246 - 0x0020) = *(ebp_112 - 0x1C);
					GetDIBits(*(esp_246 - 0x0020), *(esp_246 - 0x001C), *(esp_246 - 0x0018), *(esp_246 - 0x0014), *(esp_246 - 0x0010), *(esp_246 - 0x0C), *(esp_246 - 0x08));
					esp_282 = esp_246 - 0x0020;
				}
				union Eq_2 * esp_304 = esp_282 - 0x04;
				*esp_304 = *(ebp_112 - 0x14);
				*(esp_304 - 0x04) = *(ebp_112 - 0x1C);
				SelectObject(*(esp_304 - 0x04), *esp_304);
			}
		}
		else
		{
			Eq_10280 ax_199 = ebp_112->ptr000C->t0026;
			if ((ax_199 == 0x10 || ax_199 == 0x20) && ((ebp_112->ptr000C)->b0028 & 0x03) != 0x00)
			{
				fn0041A6FC(ebp_112->ptr000C);
				fn00402C1C(&ebp_112->ptr000C->dw0040, 0x0C, *(ebp_112 - 0x24) + 0x28);
			}
		}
		Eq_2 eax_347 = *(ebp_112 - 0x18);
		word32 ecx_1108;
		*(ebp_360 - 0x10) = (union Eq_2 *) fn0041969C(CreateDIBSection(eax_347, *(ebp_112 - 0x24), 0x00, ebp_112 - 0x28, 0x00, 0x00), out ecx_1108, out ebp_360);
		if (*(ebp_360 - 0x28) == 0x00)
			fn004195F4(out ebx_1002, out ebp_360);
		if (*(ebp_360 - 0x04) == 0x00 || ((ebp_360->ptr000C)->dw001C != *(ebp_360 - 0x84) || ((ebp_360->ptr000C)->dw0020 != *(ebp_360 - 0x80) || (ebp_360->ptr000C)->w0026 <= 0x08)))
		{
			fs->t0000 = eax_347;
			word32 ecx_1110;
			Eq_2 eax_414 = fn00402A58(*(ebp_360 - 0x24), 0x00, out ecx_1110);
			ebxOut = ebx_1002;
			ebpOut = ebp_360;
			ediOut = edi_182;
			return eax_414;
		}
		int64 edx_eax_431 = (int64) ebp_360->ptr000C->dw0020;
		ui32 edx_433 = SLICE(edx_eax_431, word32, 32);
		Eq_2 eax_426 = *(ebp_360 - 0x28);
		Eq_2 eax_435 = ((word32) edx_eax_431 ^ edx_433) - edx_433;
		Eq_2 eax_441 = *(ebp_360 - 0x04);
		Eq_2 eax_444 = *(ebp_360 - 0x1C);
		GetDIBits(eax_444, eax_441, 0x00, eax_435, eax_426, *(ebp_360 - 0x24), 0x00);
		fn00403D08(eax_444, eax_441);
		fn00403D08(eax_435, eax_426);
		esp_15 = fp - 0x0C;
	}
	Eq_2 eax_468 = *(ebp_360 - 0x10);
	word32 * edi_470 = esp_15->ptr0000;
	struct Eq_10315 * ebp_476 = ebp_360->ptr0000;
	ebxOut = esp_15->t0008;
	ebpOut = ebp_476;
	ediOut = edi_470;
	return eax_468;
}

// 0041ADAC: Register Eq_2 fn0041ADAC(Register Eq_2 eax)
Eq_2 fn0041ADAC(Eq_2 eax)
{
	Eq_2 esi_13 = 0x00;
	if (eax != 0x00 && (GetObjectA(eax, 0x04, fp + ~0x040F) != 0x00 && eax != 0x00))
	{
		GetPaletteEntries(eax, 0x00, eax, fp + ~0x0413);
		esi_13 = CreatePalette(fp + ~0x0427);
	}
	return esi_13;
}

// 0041B01C: Register (ptr32 Eq_707) fn0041B01C(Register (ptr32 Eq_707) eax, Register Eq_2 ecx, Register Eq_724 edx, Register out Eq_724 edxOut)
struct Eq_707 * fn0041B01C(struct Eq_707 * eax, Eq_2 ecx, Eq_724 edx, union Eq_724 & edxOut)
{
	byte dl = (byte) edx;
	struct Eq_12470 * esp_10 = fp - 0x0C;
	if (dl != 0x00)
	{
		esp_10 = fp + ~0x1B;
		eax = fn00403990(eax, ecx, edx);
	}
	word24 edx_24_8_50 = SLICE(fn00419E78(eax, ecx, 0x00), word24, 8);
	eax->dw0034 = 0x20000000;
	struct Eq_707 * eax_49 = globals->ptr4179C0;
	Eq_724 edx_111 = fn004036F0(eax_49, ecx, SEQ(edx_24_8_50, 0x01), esp_10->tFFFFFFFC);
	eax->ptr0028 = eax_49;
	fn0041A574(eax_49);
	word24 edx_24_8_70 = SLICE(edx_111, word24, 8);
	if (globals->b4283D8 != 0x00)
		fn83FFFEF1();
	if (dl != 0x00)
	{
		edx_111 = fn004039E8(eax);
		fs->dw0000 = esp_10->dw0000;
	}
	edxOut = edx_111;
	return eax;
}

// 0041B1B8: Register Eq_2 fn0041B1B8(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx, Stack (ptr32 word32) dwArg04, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
Eq_2 fn0041B1B8(Eq_2 eax, Eq_2 ecx, Eq_2 edx, word32 * dwArg04, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	word32 * esi_144 = dwArg04;
	word32 * edi_146 = fp - 0x60;
	word32 ecx_150;
	for (ecx_150 = 0x15; ecx_150 != 0x00; --ecx_150)
	{
		*edi_146 = *esi_144;
		++esi_144;
		++edi_146;
	}
	ptr32 ebp_40 = fn0041B814(eax, ecx);
	*(ebp_40 - 0x04) = 0x00;
	*(ebp_40 - 0x08) = 0x00;
	fs->ptr0000 = fp + ~0x77;
	if (ecx == globals->t42B884)
		*(ebp_40 - 0x08) = (union Eq_2 *) ecx;
	else
		*(ebp_40 - 0x08) = fn0041ADAC(ecx);
	ptr32 ebp_86;
	struct Eq_12594 * ebx_87;
	word32 edi_172;
	*(ebp_86 - 0x04) = fn0041A748(edx, ebp_40 - 0x5C, out ebx_87, out ebp_86, out edi_172);
	Eq_2 esp_93 = <invalid>;
	*(esp_93 - 0x04) = ebp_86 - 0x5C;
	struct Eq_707 * eax_102 = ebx_87->ptr0028;
	*(esp_93 - 0x08) = SEQ(SLICE(eax_102, word24, 8), eax_102->b0070);
	*(esp_93 - 0x0C) = 0x00;
	ptr32 * ebp_114 = fn0041BA84(ebx_87, *(ebp_86 - 0x08), *(ebp_86 - 0x04), *(esp_93 - 0x0C), *(esp_93 - 0x08), *(esp_93 - 0x04));
	Eq_2 esp_120 = <invalid>;
	fs->ptr0000 = (struct Eq_12559 *) *esp_120;
	ptr32 edi_136 = *((word32) esp_120 + 0x0C);
	ptr32 esi_138 = *((word32) esp_120 + 0x0010);
	Eq_2 ebx_140 = *((word32) esp_120 + 0x0014);
	ebpOut = *ebp_114;
	esiOut = esi_138;
	ediOut = edi_136;
	return ebx_140;
}

// 0041B278: Register word32 fn0041B278(Register Eq_2 eax, Register out ptr32 ediOut)
word32 fn0041B278(Eq_2 eax, ptr32 & ediOut)
{
	ptr32 edi_16 = fn0041B4F8(eax);
	struct Eq_12700 * eax_21 = *((word32) eax + 0x0028);
	eax_21->dw0050 = 0x00;
	eax_21->dw0054 = 0x00;
	word32 edx_30 = fn0040C940(&eax_21->ptr006C);
	ediOut = edi_16;
	return edx_30;
}

// 0041B4F8: Register word32 fn0041B4F8(Register Eq_2 eax)
word32 fn0041B4F8(Eq_2 eax)
{
	struct Eq_12700 * ebx_12 = *((word32) eax + 0x0028);
	if (ebx_12->dw0004 <= 0x01)
	{
		Eq_2 eax_15 = ebx_12->t0008;
		if (eax_15 != 0x00 && eax_15 != ebx_12->t0014)
		{
			Eq_2 esi_21 = ebx_12->t0014;
			if (esi_21 != 0x00 && DeleteObject(esi_21) == 0x00)
			{
				word32 ebp_155;
				fn004195F4(out ebx_12, out ebp_155);
			}
			ebx_12->t0014.u0 = 0x00;
			ebx_12->t002C.u0 = 0x00;
		}
		return edi;
	}
	else
	{
		Eq_2 eax_68;
		word32 ebp_152;
		word32 edx_151;
		fn0041B824(eax, out edx_151, out ebp_152);
		if (ebx_12->b0071 != 0x00)
			eax_68.u0 = 0x00;
		else
			eax_68 = ebx_12->t0010;
		word32 edi_87;
		word32 ebp_153;
		word32 esi_154;
		fn0041B1B8(eax, eax_68, ebx_12->t0008, (char *) &ebx_12->t0014 + 0x04, out ebp_153, out esi_154, out edi_87);
		return edi_87;
	}
}

// 0041B578: Register Eq_2 fn0041B578(Register Eq_2 eax, Register out ptr32 ecxOut, Register out ptr32 edxOut, Register out ptr32 ebpOut)
Eq_2 fn0041B578(Eq_2 eax, ptr32 & ecxOut, ptr32 & edxOut, ptr32 & ebpOut)
{
	if (*((word32) eax + 44) == 0x00)
	{
		ecx = fn0041B824(eax, out edx, out ebp);
		word24 edx_24_8_30 = SLICE(edx, word24, 8);
		if (*((word32) eax + 44) == 0x00)
		{
			Eq_2 eax_36 = fn0041A380(globals->ptr41A1BC, eax, SEQ(edx_24_8_30, 0x01), out ecx, out edx, out ebp);
			*((word32) eax + 44) = eax_36;
			*((word32) eax_36 + 44) = eax;
			*((word32) eax_36 + 0x0028) = *((word32) *eax + 0x0010);
			*((word32) eax_36 + 0x0034) = eax;
			*((word32) eax_36 + 0x0030) = 4305528;
		}
	}
	Eq_2 eax_51 = *((word32) eax + 44);
	ecxOut = ecx;
	edxOut = edx;
	ebpOut = ebp;
	return eax_51;
}

// 0041B5E4: Register byte fn0041B5E4(Register Eq_2 eax, Register out Eq_2 edxOut)
byte fn0041B5E4(Eq_2 eax, union Eq_2 & edxOut)
{
	word32 eax_23;
	struct Eq_12846 * eax_6 = *((word32) eax + 0x0028);
	word24 eax_24_8_33 = SLICE(eax_6, word24, 8);
	word24 eax_24_8_35 = SLICE(eax_6, word24, 8);
	Eq_2 edx_7 = eax_6->t0008;
	if (edx_7 != 0x00 && edx_7 != eax_6->t0014)
		eax_23 = SEQ(eax_24_8_35, 0x01);
	else
	{
		if (eax_6->t0014 != 0x00)
		{
			edxOut.u0 = <invalid>;
			return 0x00;
		}
		if (eax_6->dw0030 == 0x00)
			eax_23 = SEQ(eax_24_8_33, 0x01);
		else
			eax_23 = 0x00;
	}
	edxOut.u0 = <invalid>;
	return (byte) eax_23;
}

// 0041B664: Register Eq_2 fn0041B664(Register Eq_2 eax, Register out Eq_12897 ecxOut, Register out ptr32 edxOut)
Eq_2 fn0041B664(Eq_2 eax, union Eq_12897 & ecxOut, ptr32 & edxOut)
{
	word24 ebx_24_8_67 = SLICE(ebx, word24, 8);
	Eq_2 ebx_63 = SEQ(ebx_24_8_67, 0x08);
	ptr32 edx_105;
	if ((byte) (uint32) (uint8) fn0041B5E4(eax, out edx_105) == 0x01)
		ebx_63.u0 = 0x00;
	else
	{
		struct Eq_12846 * eax_23 = *((word32) eax + 0x0028);
		edx_105 = (char *) &eax_23->t0014 + 0x04;
		ecx = (word32) eax_23->w003E;
		if (ecx <= 0x10)
		{
			if (ecx != 0x10)
			{
				--ecx;
				if (ecx != 0x01)
				{
					ecx -= 0x04;
					if (ecx != 0x04)
					{
						ecx -= 0x08;
						if (ecx == 0x08)
							ebx_63 = SEQ(ebx_24_8_67, 0x03);
					}
					else
						ebx_63 = SEQ(ebx_24_8_67, 0x02);
				}
				else
					ebx_63 = SEQ(ebx_24_8_67, 0x01);
			}
			else
			{
				up32 eax_40 = eax_23->dw0040;
				if (eax_40 >= 0x01)
				{
					if (eax_40 == 0x03 && eax_23->dw005C == 0x07E0)
						ebx_63 = SEQ(ebx_24_8_67, 0x05);
				}
				else
					ebx_63 = SEQ(ebx_24_8_67, 0x04);
			}
		}
		else
		{
			ecx -= 0x18;
			if (ecx != 0x18)
			{
				ecx -= 0x20;
				if (ecx == 0x20 && eax_23->dw0040 == 0x00)
					ebx_63 = SEQ(ebx_24_8_67, 0x07);
			}
			else
				ebx_63 = SEQ(ebx_24_8_67, 0x06);
		}
	}
	ecxOut = ecx;
	edxOut = edx_105;
	return ebx_63;
}

// 0041B6E8: void fn0041B6E8(Register Eq_2 eax)
void fn0041B6E8(Eq_2 eax)
{
	int32 edi_26;
	Eq_9458 edx_24_8_45 = SLICE(fn0041B278(eax, out edi_26), word24, 8);
	struct Eq_12846 * eax_33 = *((word32) eax + 0x0028);
	if (edi_26 < 0x00 || edi_26 >= eax_33->dw0020)
		fn00419564(globals->t42A8DC, edx_24_8_45);
	word32 edi_64;
	fn0041B7A0(eax, out edi_64);
	GdiFlush();
	eax_33->dw0038 <= 0x00;
	fn004196CC(eax_33->dw0034, 0x20, (word32) eax_33->w003E);
}

// 0041B7A0: Register word32 fn0041B7A0(Register Eq_2 eax, Register out ptr32 ediOut)
word32 fn0041B7A0(Eq_2 eax, ptr32 & ediOut)
{
	ptr32 esp_33 = fp - 0x08;
	struct Eq_12846 * ebx_11 = *((word32) eax + 0x0028);
	if (ebx_11->t0008 != 0x00 && ebx_11->t0014 == 0x00)
	{
		fn0041B924(eax);
		if (ebx_11->dw0030 == 0x00)
		{
			GetObjectA(ebx_11->t0008, 0x54, (char *) &ebx_11->t0014 + 0x04);
			ebx_11->dw0030 = 0x28;
			ebx_11->dw0034 = ebx_11->dw001C;
			ebx_11->dw0038 = ebx_11->dw0020;
			ebx_11->w003C = 0x01;
			ebx_11->w003E = ebx_11->w0028 *s ebx_11->w002A;
			esp_33 = fp - 0x0014;
		}
		struct Eq_10313 ** esp_52 = esp_33 - 0x04;
		*esp_52 = (struct Eq_10313 **) ((char *) &ebx_11->t0014 + 0x04);
		*(esp_52 - 0x04) = 0x00;
		struct Eq_13069 * ebx_63;
		ebx_63->dw0014 = fn0041A748(ebx_11->t0008, *esp_52, out ebx_63, out ebp, out edi);
	}
	ediOut = edi;
	return ebp;
}

// 0041B814: Register word32 fn0041B814(Register Eq_2 eax, Register Eq_2 ecx)
word32 fn0041B814(Eq_2 eax, Eq_2 ecx)
{
	Eq_2 edx_6 = *((word32) eax + 44);
	if (edx_6 != 0x00)
		fn0041A3E8(edx_6, ecx, out ebp);
	return ebp;
}

// 0041B824: Register word32 fn0041B824(Register Eq_2 eax, Register out Eq_2 edxOut, Register out ptr32 ebpOut)
word32 fn0041B824(Eq_2 eax, union Eq_2 & edxOut, ptr32 & ebpOut)
{
	struct Eq_12700 * eax_12 = *((word32) eax + 0x0028);
	if (eax_12->t0008 != 0x00 || (eax_12->t0014 != 0x00 || eax_12->ptr006C == null))
	{
		struct Eq_12700 * eax_22 = *((word32) eax + 0x0028);
		if (eax_22->t0008 == 0x00)
		{
			edx = eax_22->t0014;
			eax_22->t0008 = edx;
		}
		edxOut = edx;
		ebpOut = ebp;
		return ecx;
	}
	else
	{
		fn00415C9C(eax_12->ptr006C, 0x00, 0x00);
		ptr32 edx_47 = *((word32) eax + 0x0010);
		Eq_2 edx_49 = *((word32) eax + 0x0014);
		Eq_2 v11_57 = fs->t0000;
		fs->t0000 = fp + ~0x1F;
		*((word32) eax + 0x0010) = 0x00;
		((word32) eax + 0x0014)->u0 = 0x00;
		struct Eq_12559 * ecx_71 = *eax;
		ecx_71->ptr0054();
		fs->t0000 = eax;
		*((word32) eax + 0x0010) = edx_47;
		*((word32) eax + 0x0014) = edx_49;
		edxOut = edx_49;
		ebpOut = fp - 0x04;
		return dwArg00;
	}
}

// 0041B924: void fn0041B924(Register Eq_2 eax)
void fn0041B924(Eq_2 eax)
{
	Eq_2 edi_132 = eax;
	struct Eq_13223 * ebp_18 = *((word32) eax + 0x0028);
	if (*((word32) eax + 0x0030) != 0x00 || (ebp_18->dw0010 != 0x00 || ebp_18->t0014 == 0x00))
		return;
	Eq_2 eax_25 = ebp_18->t0014;
	if (eax_25 == ebp_18->t0008)
	{
		word32 ebx_209;
		fn0041A304(eax_25, out ebx_209, out ebp_18, out edi_132);
	}
	struct Eq_13250 * ebp_56;
	word32 eax_53 = fn00419C38(ebp_18->t0014, 0x01 << ebp_18->b003E, 0x00, out ebp_56);
	ebp_56->dw0010 = eax_53;
	if (eax_53 != 0x00)
		return;
	byte bl_100;
	union Eq_2 * esp_112 = fp - 0x0014;
	struct Eq_13281 * ebp_72;
	word32 ecx_210;
	Eq_2 eax_71 = fn0041969C(GetDC(null), out ecx_210, out ebp_72);
	if (ebp_72->b0071 == 0x00)
	{
		esp_112 = fp - 0x0024;
		if (GetDeviceCaps(eax_71, 0x0C) *s GetDeviceCaps(eax_71, 0x0E) >= (word32) ((word32) ebp_72->w0028 *s (word32) ebp_72->w002A))
		{
			bl_100 = 0x00;
l0041B9B5:
			ebp_72->b0071 = bl_100;
			if (bl_100 != 0x00)
			{
				esp_112 -= 0x04;
				*esp_112 = (union Eq_2 *) eax_71;
				ebp_72->t0010 = CreateHalftonePalette(*esp_112);
			}
			union Eq_2 * esp_121 = esp_112 - 0x04;
			*esp_121 = (union Eq_2 *) eax_71;
			*(esp_121 - 0x04) = 0x00;
			ReleaseDC(*(esp_121 - 0x04), *esp_121);
			if (ebp_72->t0010 == 0x00)
				((word32) edi_132 + 0x0030)->u0 = 0x01;
			return;
		}
	}
	bl_100 = 0x01;
	goto l0041B9B5;
}

// 0041BA84: Register ptr32 fn0041BA84(Register (ptr32 Eq_12594) eax, Register Eq_2 ecx, Register Eq_7469 edx, Stack Eq_2 dwArg04, Stack byte bArg08, Stack (ptr32 word32) dwArg0C)
ptr32 fn0041BA84(struct Eq_12594 * eax, Eq_2 ecx, Eq_7469 edx, Eq_2 dwArg04, byte bArg08, word32 * dwArg0C)
{
	word24 edx_24_8_27 = SLICE(edx, word24, 8);
	struct Eq_707 * eax_26 = globals->ptr4179C0;
	fn004036F0(eax_26, ecx, SEQ(edx_24_8_27, 0x01), dwLoc1C);
	fs->ptr0000 = fp + ~0x23;
	eax_26->t0008 = edx;
	eax_26->t0010 = ecx;
	word32 * esi_140 = dwArg0C;
	word32 * edi_142 = &eax_26->t0018;
	word32 ecx_146;
	for (ecx_146 = 0x15; ecx_146 != 0x00; --ecx_146)
	{
		*edi_142 = *esi_140;
		++esi_140;
		++edi_142;
	}
	eax_26->b0070 = bArg08;
	if (eax_26->dw002C != 0x00)
		eax_26->t0014 = eax_26->t0008;
	eax_26->dw006C = fn004038DC(dwArg04, globals->t413C30, dwLoc28);
	fs->ptr0000 = 0x0041BB0B;
	EnterCriticalSection(&globals->t42B8A0);
	ptr32 v18_106 = fs->ptr0000;
	fs->ptr0000 = fp + ~0x23;
	fn0041A578(eax->ptr0028);
	eax->ptr0028 = eax_26;
	fn0041A574(eax_26);
	fs->ptr0000 = v18_106;
	LeaveCriticalSection(&globals->t42B8A0);
	return fp - 0x04;
}

// 0041C3E4: Register (ptr32 Eq_707) fn0041C3E4(Register Eq_2 eax, Register Eq_13467 dl, Register out ptr32 ebxOut, Register out (ptr32 Eq_10315) ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
struct Eq_707 * fn0041C3E4(Eq_2 eax, Eq_13467 dl, ptr32 & ebxOut, struct Eq_10315 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	struct Eq_10315 ** ebp_128 = fp - 0x04;
	ptr32 * esp_143 = fp + ~0x6F;
	byte bl_232 = (byte) edx;
	Eq_9477 edx_24_8_43 = SLICE(edx_26, word24, 8);
	word32 edx_26;
	struct Eq_707 * ecx_25;
	if ((byte) edx != (byte) fn0041B664(eax, out ecx_25, out edx_26))
	{
		cu8 al_36 = (byte) edx;
		if (al_36 >= 0x01)
		{
			if (al_36 != 0x08)
			{
				fn00403020(fp - 0x61, 0x00, 0x54);
				word32 * esi_177 = (word32) *((word32) eax + 0x0028) + 0x0018;
				word32 * edi_179 = fp - 0x61;
				word32 ecx_231;
				for (ecx_231 = 0x06; ecx_231 != 0x00; --ecx_231)
				{
					*edi_179 = *esi_177;
					++esi_177;
					++edi_179;
				}
				if (bl_232 != 0x02 && bl_232 == 0x03)
				{
					word32 ecx_310;
					Eq_2 eax_127 = fn0041969C(GetDC(null), out ecx_310, out ebp_128);
					*(ebp_128 - 0x08) = (union Eq_2 *) CreateHalftonePalette(eax_127);
					*(ebp_128 - 0x09) = 0x01;
					ReleaseDC(null, eax_127);
					esp_143 = fp + ~0x7F;
				}
				struct Eq_10315 *** esp_157 = esp_143 - 0x04;
				*esp_157 = (struct Eq_10315 ***) ebp_128;
				*(esp_157 - 0x04) = 4310321;
				*(esp_157 - 0x08) = fs->ptr0000;
				fs->ptr0000 = esp_157 - 0x08;
				*(esp_157 - 0x0C) = ebp_128 - 0x5D;
				struct Eq_13630 ** eax_170 = *(ebp_128 - 0x04);
				struct Eq_13630 * edx_171 = *eax_170;
				word32 ** esp_182;
				Eq_2 eax_184;
				edx_171->ptr0064();
				struct Eq_10315 * ebp_192;
				ptr32 edi_195;
				ptr32 esi_197;
				ptr32 ebx_193 = fn0041B1B8(*(ebp_128 - 0x04), *(ebp_128 - 0x08), eax_184, *esp_182, out ebp_192, out esi_197, out edi_195);
				*((char *) *(ebp_192 - 0x04) + 0x0022) = (struct Eq_13672 **) (*(ebp_192 - 0x08) != 0x00);
				Eq_2 esp_198 = <invalid>;
				struct Eq_707 * ecx_215 = *((word32) esp_198 + 0x0C);
				fs->ptr0000 = (ptr32) *((word32) esp_198 + 0x04);
				*((word32) esp_198 + 0x0C) = &globals->t41C538;
				if (*(ebp_192 - 0x09) != 0x00)
				{
					*((word32) esp_198 + 0x08) = *(ebp_192 - 0x08);
					DeleteObject(*((word32) esp_198 + 0x08));
				}
				ebxOut = ebx_193;
				ebpOut = ebp_192;
				esiOut = esi_197;
				ediOut = edi_195;
				return ecx_215;
			}
			ecx_25 = fn0041957C(globals->t42A724, edx_24_8_43, out ebp_128);
		}
		else
		{
			struct Eq_13516 * ecx_42 = *eax;
			ecx_42->ptr006C();
		}
	}
	struct Eq_13494 * esp_68 = esp_143 + 0x01;
	ptr32 edi_67 = *esp_143;
	ptr32 esi_69 = esp_68->ptr0000;
	struct Eq_10315 * ebp_74 = *ebp_128;
	ebxOut = esp_68->ptr0004;
	ebpOut = ebp_74;
	esiOut = esi_69;
	ediOut = edi_67;
	return ecx_25;
}

// 0041CE08: void fn0041CE08(Register Eq_2 eax, Register Eq_13710 edx)
void fn0041CE08(Eq_2 eax, Eq_13710 edx)
{
	Eq_2 ebx_27;
	union Eq_2 * edi_32;
	word32 ebp_222;
	word32 esi_223;
	fn0041C3E4(eax, SEQ(edx_24_8, 0x06), out ebx_27, out ebp_222, out esi_223, out edi_32);
	Eq_13725 edx_40 = *ebx_27;
	int32 eax_42;
	struct Eq_13730 * esp_41;
	(*((word32) edx_40 + 0x0020))();
	if (eax_42 >= 0x01)
	{
		esp_41->dw000C = eax_42;
		do
		{
			fn0041B6E8(ebx_27);
			esp_41->t0000 = ebx_27;
			fn0041B6E8(ebx_27);
			*edi_32 = (union Eq_2 *) ebx_27;
			Eq_13725 edx_82 = *ebx_27;
			ui32 eax_85;
			(*((word32) edx_82 + 44))();
			*edi_32 = (union Eq_2 *) ((char *) *edi_32 + ((eax_85 - 0x01) + (eax_85 - 0x01) * 0x02));
			Eq_13725 edx_96 = *ebx_27;
			int32 eax_98;
			(*((word32) edx_96 + 44))();
			Eq_13739 eax_104 = eax_98 - 0x01 >> 0x01;
			if (eax_104 < 0x00)
				eax_104 = (eax_98 - 0x01 >> 0x01) + (eax_104 < 0x00);
			if (eax_104 >= 0x00)
			{
				Eq_13761 eax_114;
				do
				{
					Eq_2 edx_118 = esp_41->t0000;
					esp_41->t0008 = *edx_118;
					esp_41->b000A = (byte) *((word32) edx_118 + 0x02);
					Eq_2 ecx_125 = *edi_32;
					Eq_2 edx_123 = esp_41->t0000;
					*edx_123 = *ecx_125;
					*((word32) edx_123 + 0x02) = *((word32) ecx_125 + 0x02);
					Eq_2 edx_131 = *edi_32;
					*edx_131 = esp_41->t0008;
					((word32) edx_131 + 0x02)->u0 = esp_41->b000A;
					esp_41->t0000 = (word32) esp_41->t0000 + 0x03;
					*edi_32 = (union Eq_2 *) (*edi_32 - 0x03);
					--eax_114;
				} while (eax_114 != 0x00);
			}
			int32 v23_153 = esp_41->dw000C - 0x01;
			esp_41->dw000C = v23_153;
		} while (v23_153 != 0x00);
	}
}

// 0041CEC0: void fn0041CEC0(Register Eq_2 eax, Register Eq_13880 edx)
void fn0041CEC0(Eq_2 eax, Eq_13880 edx)
{
	Eq_2 ebx_27;
	union Eq_2 * edi_32;
	word32 ebp_209;
	word32 esi_210;
	fn0041C3E4(eax, SEQ(edx_24_8, 0x06), out ebx_27, out ebp_209, out esi_210, out edi_32);
	Eq_13725 edx_40 = *ebx_27;
	struct Eq_13898 * esp_41;
	int32 eax_42;
	(*((word32) edx_40 + 0x0020))();
	Eq_13903 eax_48 = eax_42 - 0x01 >> 0x01;
	if (eax_48 < 0x00)
		eax_48 = (word32) eax_48 + (eax_48 < 0x00);
	if (eax_48 >= 0x00)
	{
		esp_41->t0008 = (word32) eax_48 + 0x01;
		do
		{
			fn0041B6E8(ebx_27);
			*edi_32 = (union Eq_2 *) ebx_27;
			Eq_13725 edx_79 = *ebx_27;
			struct Eq_13990 * esp_82;
			(*((word32) edx_79 + 0x0020))();
			fn0041B6E8(ebx_27);
			esp_82->t0004 = ebx_27;
			Eq_13725 edx_102 = *ebx_27;
			struct Eq_13921 * esp_103;
			ui32 eax_104;
			(*((word32) edx_102 + 44))();
			if (eax_104 * 0x03 >= 0x01)
			{
				ui32 eax_114;
				do
				{
					Eq_13725 dl_119 = **edi_32;
					**edi_32 = (union Eq_2 *) *esp_103->ptr0004;
					*esp_103->ptr0004 = (union Eq_13725 *) dl_119;
					*edi_32 = (union Eq_2 *) ((char *) *edi_32 + 0x01);
					esp_103->ptr0004 = (union Eq_13725 *) ((char *) esp_103->ptr0004 + 0x01);
					--eax_114;
				} while (eax_114 != 0x00);
			}
			word32 v20_140 = esp_103->dw0008 - 0x01;
			esp_103->dw0008 = v20_140;
		} while (v20_140 != 0x00);
	}
}

// 0041CF50: Register word32 fn0041CF50(Register Eq_2 eax, Register word32 ecx, Register word32 edx, Register out ptr32 ebpOut)
word32 fn0041CF50(Eq_2 eax, word32 ecx, word32 edx, ptr32 & ebpOut)
{
	Eq_2 ecx_30;
	word32 ecx_38;
	word32 edx_135;
	word32 ebp_136;
	word32 ebp_137;
	Eq_2 eax_36 = fn004192BC(fn0041B578(eax, out ecx_30, out edx_135, out ebp_136), ecx_30, out ecx_38, out ebp_137);
	Eq_13725 edx_48 = *eax;
	ptr32 esp_49;
	word32 ecx_50;
	word32 eax_52;
	(*((word32) edx_48 + 0x0020))();
	*(esp_49 - 0x04) = eax_52;
	Eq_13725 edx_58 = *eax;
	struct Eq_14049 * esp_59;
	word32 eax_62;
	(*((word32) edx_58 + 44))();
	*(esp_59 - 0x04) = eax_62 - edx - ecx;
	*(esp_59 - 0x08) = 0x00;
	*(esp_59 - 0x0C) = 0x00;
	Eq_2 ecx_78;
	ptr32 ebp_85;
	word32 ecx_86;
	word32 edx_138;
	word32 ebp_139;
	*(esp_59 - 0x0010) = (union Eq_2 *) fn004192BC(fn0041B578(eax, out ecx_78, out edx_138, out ebp_139), ecx_78, out ecx_86, out ebp_85);
	BitBlt(*(esp_59 - 0x0010), *(esp_59 - 0x0C), *(esp_59 - 0x08), *(esp_59 - 0x04), esp_59->dw0000, esp_59->t0004, esp_59->dw0008, esp_59->dw000C, esp_59->t0010);
	Eq_13725 edx_97 = *eax;
	word32 eax_101;
	(*((word32) edx_97 + 44))();
	Eq_13725 ecx_109 = *eax;
	word32 ecx_111;
	(*((word32) ecx_109 + 0x0040))();
	ebpOut = ebp_85;
	return ecx_111;
}

// 0041CFB0: Register word32 fn0041CFB0(Register Eq_2 eax, Register word32 ecx, Register word32 edx)
word32 fn0041CFB0(Eq_2 eax, word32 ecx, word32 edx)
{
	Eq_2 ecx_30;
	word32 ecx_38;
	word32 edx_134;
	word32 ebp_135;
	word32 ebp_136;
	Eq_2 eax_36 = fn004192BC(fn0041B578(eax, out ecx_30, out edx_134, out ebp_135), ecx_30, out ecx_38, out ebp_136);
	struct Eq_14163 * edx_48 = *eax;
	ptr32 esp_49;
	word32 ecx_50;
	word32 eax_52;
	edx_48->ptr0020();
	*(esp_49 - 0x04) = eax_52 - edx - ecx;
	struct Eq_14163 * edx_61 = *eax;
	struct Eq_14184 * esp_62;
	word32 eax_65;
	edx_61->ptr002C();
	*(esp_62 - 0x04) = eax_65;
	*(esp_62 - 0x08) = 0x00;
	*(esp_62 - 0x0C) = 0x00;
	Eq_2 ecx_78;
	word32 ebp_85;
	word32 ecx_86;
	word32 edx_137;
	word32 ebp_138;
	*(esp_62 - 0x0010) = (union Eq_2 *) fn004192BC(fn0041B578(eax, out ecx_78, out edx_137, out ebp_138), ecx_78, out ecx_86, out ebp_85);
	BitBlt(*(esp_62 - 0x0010), *(esp_62 - 0x0C), *(esp_62 - 0x08), *(esp_62 - 0x04), esp_62->dw0000, esp_62->t0004, esp_62->dw0008, esp_62->dw000C, esp_62->t0010);
	struct Eq_14163 * edx_97 = *eax;
	word32 eax_101;
	edx_97->ptr0020();
	struct Eq_14163 * ecx_109 = *eax;
	ecx_109->ptr0034();
	return ebp_85;
}

// 0041D010: Register word32 fn0041D010(Register Eq_2 eax, Register word32 edx, Register out ptr32 ebpOut)
word32 fn0041D010(Eq_2 eax, word32 edx, ptr32 & ebpOut)
{
	Eq_2 ecx_25;
	word32 edx_125;
	word32 ebp_126;
	word32 ecx_127;
	word32 ebp_128;
	Eq_2 eax_31 = fn004192BC(fn0041B578(eax, out ecx_25, out edx_125, out ebp_126), ecx_25, out ecx_127, out ebp_128);
	struct Eq_14295 * edx_43 = *eax;
	ptr32 esp_44;
	word32 eax_46;
	edx_43->ptr0020();
	*(esp_44 - 0x04) = eax_46;
	struct Eq_14295 * edx_53 = *eax;
	struct Eq_14313 * esp_54;
	word32 eax_56;
	edx_53->ptr002C();
	*(esp_54 - 0x04) = eax_56 - edx;
	*(esp_54 - 0x08) = 0x00;
	*(esp_54 - 0x0C) = 0x00;
	Eq_2 ecx_72;
	ptr32 ebp_79;
	word32 edx_129;
	word32 ebp_130;
	word32 ecx_131;
	*(esp_54 - 0x0010) = (union Eq_2 *) fn004192BC(fn0041B578(eax, out ecx_72, out edx_129, out ebp_130), ecx_72, out ecx_131, out ebp_79);
	BitBlt(*(esp_54 - 0x0010), *(esp_54 - 0x0C), *(esp_54 - 0x08), *(esp_54 - 0x04), esp_54->dw0000, esp_54->t0004, esp_54->dw0008, esp_54->dw000C, esp_54->t0010);
	struct Eq_14295 * edx_91 = *eax;
	word32 eax_94;
	edx_91->ptr002C();
	struct Eq_14295 * ecx_102 = *eax;
	word32 ecx_106;
	ecx_102->ptr0040();
	ebpOut = ebp_79;
	return ecx_106;
}

// 0041D068: Register word32 fn0041D068(Register Eq_2 eax, Register word32 edx, Register out ptr32 ebpOut)
word32 fn0041D068(Eq_2 eax, word32 edx, ptr32 & ebpOut)
{
	Eq_2 ecx_25;
	word32 edx_125;
	word32 ebp_126;
	word32 ecx_127;
	word32 ebp_128;
	Eq_2 eax_31 = fn004192BC(fn0041B578(eax, out ecx_25, out edx_125, out ebp_126), ecx_25, out ecx_127, out ebp_128);
	struct Eq_14426 * edx_43 = *eax;
	ptr32 esp_44;
	word32 eax_46;
	edx_43->ptr0020();
	*(esp_44 - 0x04) = eax_46;
	struct Eq_14426 * edx_53 = *eax;
	struct Eq_14444 * esp_54;
	word32 eax_56;
	edx_53->ptr002C();
	*(esp_54 - 0x04) = eax_56 - edx;
	*(esp_54 - 0x08) = 0x00;
	*(esp_54 - 0x0C) = 0x00;
	Eq_2 ecx_72;
	ptr32 ebp_79;
	word32 edx_129;
	word32 ebp_130;
	word32 ecx_131;
	*(esp_54 - 0x0010) = (union Eq_2 *) fn004192BC(fn0041B578(eax, out ecx_72, out edx_129, out ebp_130), ecx_72, out ecx_131, out ebp_79);
	BitBlt(*(esp_54 - 0x0010), *(esp_54 - 0x0C), *(esp_54 - 0x08), *(esp_54 - 0x04), esp_54->dw0000, esp_54->t0004, esp_54->dw0008, esp_54->dw000C, esp_54->t0010);
	struct Eq_14426 * edx_91 = *eax;
	word32 eax_94;
	edx_91->ptr002C();
	struct Eq_14426 * ecx_102 = *eax;
	word32 ecx_106;
	ecx_102->ptr0040();
	ebpOut = ebp_79;
	return ecx_106;
}

// 0041D0C4: Register word32 fn0041D0C4(Register Eq_2 eax, Register word32 edx)
word32 fn0041D0C4(Eq_2 eax, word32 edx)
{
	Eq_2 ecx_25;
	word32 edx_124;
	word32 ebp_125;
	word32 ecx_126;
	word32 ebp_127;
	Eq_2 eax_31 = fn004192BC(fn0041B578(eax, out ecx_25, out edx_124, out ebp_125), ecx_25, out ecx_126, out ebp_127);
	struct Eq_14556 * edx_43 = *eax;
	ptr32 esp_44;
	word32 eax_46;
	edx_43->ptr0020();
	*(esp_44 - 0x04) = eax_46 - edx;
	struct Eq_14556 * edx_55 = *eax;
	struct Eq_14575 * esp_56;
	word32 eax_58;
	edx_55->ptr002C();
	*(esp_56 - 0x04) = eax_58;
	*(esp_56 - 0x08) = 0x00;
	*(esp_56 - 0x0C) = 0x00;
	Eq_2 ecx_72;
	word32 ebp_79;
	word32 edx_128;
	word32 ebp_129;
	word32 ecx_130;
	*(esp_56 - 0x0010) = (union Eq_2 *) fn004192BC(fn0041B578(eax, out ecx_72, out edx_128, out ebp_129), ecx_72, out ecx_130, out ebp_79);
	BitBlt(*(esp_56 - 0x0010), *(esp_56 - 0x0C), *(esp_56 - 0x08), *(esp_56 - 0x04), esp_56->dw0000, esp_56->t0004, esp_56->dw0008, esp_56->dw000C, esp_56->t0010);
	struct Eq_14556 * edx_91 = *eax;
	word32 eax_94;
	edx_91->ptr0020();
	struct Eq_14556 * ecx_102 = *eax;
	ecx_102->ptr0034();
	return ebp_79;
}

// 0041D11C: Register word32 fn0041D11C(Register Eq_2 eax, Register word32 edx)
word32 fn0041D11C(Eq_2 eax, word32 edx)
{
	Eq_2 ecx_25;
	word32 edx_124;
	word32 ebp_125;
	word32 ecx_126;
	word32 ebp_127;
	Eq_2 eax_31 = fn004192BC(fn0041B578(eax, out ecx_25, out edx_124, out ebp_125), ecx_25, out ecx_126, out ebp_127);
	struct Eq_14685 * edx_43 = *eax;
	ptr32 esp_44;
	word32 eax_46;
	edx_43->ptr0020();
	*(esp_44 - 0x04) = eax_46 - edx;
	struct Eq_14685 * edx_55 = *eax;
	struct Eq_14704 * esp_56;
	word32 eax_58;
	edx_55->ptr002C();
	*(esp_56 - 0x04) = eax_58;
	*(esp_56 - 0x08) = 0x00;
	*(esp_56 - 0x0C) = 0x00;
	Eq_2 ecx_72;
	word32 ebp_79;
	word32 edx_128;
	word32 ebp_129;
	word32 ecx_130;
	*(esp_56 - 0x0010) = (union Eq_2 *) fn004192BC(fn0041B578(eax, out ecx_72, out edx_128, out ebp_129), ecx_72, out ecx_130, out ebp_79);
	BitBlt(*(esp_56 - 0x0010), *(esp_56 - 0x0C), *(esp_56 - 0x08), *(esp_56 - 0x04), esp_56->dw0000, esp_56->t0004, esp_56->dw0008, esp_56->dw000C, esp_56->t0010);
	struct Eq_14685 * edx_91 = *eax;
	word32 eax_94;
	edx_91->ptr0020();
	struct Eq_14685 * ecx_102 = *eax;
	ecx_102->ptr0034();
	return ebp_79;
}

// 0041D178: Register int32 fn0041D178(Register Eq_2 eax, Register int32 ecx, Register int32 edx, Stack int32 dwArg04, Stack int32 dwArg08, Stack Eq_2 dwArg0C, Register out Eq_11761 ebpOut)
int32 fn0041D178(Eq_2 eax, int32 ecx, int32 edx, int32 dwArg04, int32 dwArg08, Eq_2 dwArg0C, union Eq_11761 & ebpOut)
{
	Eq_2 ecx_36;
	struct Eq_14804 * ebp_43;
	word32 edx_120;
	word32 ebp_121;
	word32 ecx_122;
	Eq_2 eax_42 = fn004192BC(fn0041B578(dwArg0C, out ecx_36, out edx_120, out ebp_121), ecx_36, out ecx_122, out ebp_43);
	Eq_11761 eax_56 = ebp_43->t0018;
	Eq_2 ecx_67;
	int32 ecx_75;
	word32 edx_123;
	word32 ebp_124;
	word32 ebp_125;
	BitBlt(fn004192BC(fn0041B578(eax, out ecx_67, out edx_123, out ebp_124), ecx_67, out ecx_75, out ebp_125), edx, ecx, eax_56, ebp_43->dw0014, eax_42, dwArg08, dwArg04, 0x00CC0020);
	ebpOut = eax_56;
	return ecx_75;
}

// 0041D1C8: Register word32 fn0041D1C8(Register Eq_2 eax, Register word32 ecx, Register word32 edx, Register out ptr32 ebxOut, Register out ptr32 ebpOut, Register out ptr32 esiOut, Register out ptr32 ediOut)
word32 fn0041D1C8(Eq_2 eax, word32 ecx, word32 edx, ptr32 & ebxOut, ptr32 & ebpOut, ptr32 & esiOut, ptr32 & ediOut)
{
	Eq_2 ecx_34;
	struct Eq_14850 * ebp_41;
	word32 ecx_42;
	word32 edx_127;
	word32 ebp_128;
	Eq_2 eax_40 = fn004192BC(fn0041B578(eax, out ecx_34, out edx_127, out ebp_128), ecx_34, out ecx_42, out ebp_41);
	struct Eq_14864 * edx_52 = *eax;
	ptr32 esp_53;
	word32 ecx_54;
	word32 eax_56;
	edx_52->ptr0020();
	*(esp_53 - 0x04) = eax_56;
	struct Eq_14864 * edx_62 = *eax;
	struct Eq_14883 * esp_63;
	word32 eax_66;
	edx_62->ptr002C();
	*(esp_63 - 0x04) = eax_66;
	*(esp_63 - 0x08) = ecx;
	*(esp_63 - 0x0C) = edx;
	Eq_2 ecx_79;
	word32 ecx_87;
	word32 edx_129;
	word32 ebp_130;
	word32 ebp_131;
	*(esp_63 - 0x0010) = (union Eq_2 *) fn004192BC(fn0041B578(ebp_41->t0008, out ecx_79, out edx_129, out ebp_130), ecx_79, out ecx_87, out ebp_131);
	BitBlt(*(esp_63 - 0x0010), *(esp_63 - 0x0C), *(esp_63 - 0x08), *(esp_63 - 0x04), esp_63->dw0000, esp_63->t0004, esp_63->dw0008, esp_63->dw000C, esp_63->t0010);
	ptr32 edi_103 = *(esp_63 - 0x0010);
	ptr32 esi_105 = *(esp_63 - 0x0C);
	ptr32 ebp_109 = *(esp_63 - 0x04);
	ebxOut = *(esp_63 - 0x08);
	ebpOut = ebp_109;
	esiOut = esi_105;
	ediOut = edi_103;
	return ecx_87;
}

// 00424694: void fn00424694(Register Eq_2 eax, Register int32 edx)
void fn00424694(Eq_2 eax, int32 edx)
{
	Eq_2 eax_21 = fn00404500(*eax);
	if (eax_21 > 0x00)
	{
		fn00404750(eax);
		Eq_2 dwLoc10_79 = fn00404700(*eax);
		Eq_2 eax_46 = eax_21;
		if (eax_21 > 0x00)
		{
			do
			{
				dwLoc10_79->u0 = ((word32) *dwLoc10_79 + edx)->b42CEA8;
				dwLoc10_79 = (word32) dwLoc10_79 + 0x01;
				--eax_46;
			} while (eax_46 != 0x00);
		}
	}
}

// 004246E0: void fn004246E0(Register Eq_2 eax, Register Eq_2 edx)
void fn004246E0(Eq_2 eax, Eq_2 edx)
{
	fn00404294(edx, eax);
	fn004246FC(edx);
}

// 004246FC: void fn004246FC(Register Eq_2 eax)
void fn004246FC(Eq_2 eax)
{
	fn00424694(eax, 0x0100);
}

// 00424708: Register Eq_2 fn00424708(Register Eq_2 eax, Register Eq_2344 ecx, Register Eq_2 edx, Register out ptr32 ebpOut, Register out Eq_2 esiOut, Register out Eq_2344 ediOut)
Eq_2 fn00424708(Eq_2 eax, Eq_2344 ecx, Eq_2 edx, ptr32 & ebpOut, union Eq_2 & esiOut, union Eq_2344 & ediOut)
{
	fs->ptr0000 = fp - 0x0020;
	ptr32 ebp_110 = fp - 0x04;
	Eq_2 esi_132 = eax;
	if (eax != 0x00 && edx != 0x00)
	{
		fn00404760(edx, fn00404500(edx) - ecx + 0x01, ecx, fp - 0x08);
		fn00424784(eax, 0x00, out ebp_110, out esi_132) != 0x00;
	}
	fs->ptr0000 = 0x00;
	Eq_2 eax_112 = ebp_110 - 0x04;
	word32 edx_145;
	fn00404240(eax_112, out edx_145);
	ebpOut = ebp_110;
	esiOut = esi_132;
	ediOut = ecx;
	return eax_112;
}

// 00424784: Register Eq_2 fn00424784(Register Eq_2 eax, Register Eq_2 edx, Register out ptr32 ebpOut, Register out Eq_2 esiOut)
Eq_2 fn00424784(Eq_2 eax, Eq_2 edx, ptr32 & ebpOut, union Eq_2 & esiOut)
{
	ptr32 v11_30 = fs->ptr0000;
	fs->ptr0000 = fp - 0x0020;
	fn004246E0(edx, fp - 0x08);
	fn004246E0(eax, fp - 0x0C);
	fn004047E8(null, 0x00);
	fs->ptr0000 = v11_30;
	fn00404264(fp - 0x0C, 0x02);
	ebpOut = fp - 0x04;
	esiOut = edx;
	return fp - 0x0C;
}

// 004247EC: Register Eq_2 fn004247EC(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2 edx)
Eq_2 fn004247EC(Eq_2 eax, Eq_2 ecx, Eq_2 edx)
{
	word24 ebx_24_8_237 = SLICE(ebx, word24, 8);
	word24 edx_24_8_31 = SLICE(edx, word24, 8);
	Eq_2 ebp_115 = eax;
	if (eax == 0x00)
	{
		Eq_2 ecx_35;
		word32 ecx_393;
		fn00403C5C(fn0040B0C4(globals->ptr4244B0, globals->t42A9D4, SEQ(edx_24_8_31, 0x01), out ecx_35, out ebp_115), ecx_35, dwLoc2C, out ecx_393);
	}
	word32 edx_55;
	word32 ecx_56;
	Eq_15130 Z_59 = fn0040464C(ebp_115, 0x00424984, out ecx_56, out edx_55);
	word24 edx_24_8_84 = SLICE(edx_55, word24, 8);
	Eq_2 ebx_235 = SEQ(ebx_24_8_237, Z_59);
	if (Z_59 == 0x00 && edx != 0x00)
	{
		if (ecx <= 0x00 || fn00404500(edx) < ecx)
		{
			Eq_2 ecx_89;
			word32 ecx_99;
			fn00403C5C(fn0040B0C4(globals->ptr4244B0, globals->t42A8EC, SEQ(edx_24_8_84, 0x01), out ecx_89, out ebp_115), ecx_89, dwLoc2C, out ecx_99);
		}
		byte * dwLoc20_305 = (word32) ecx + (edx - 0x01);
		Eq_2 dwLoc1C_306 = fn00404700(ebp_115);
		byte * dwLoc18_307 = null;
		byte * dwLoc14_308 = null;
		ebx_235 = SEQ(ebx_24_8_237, Z_59);
		while (true)
		{
l0042488E:
			byte * dwLoc1C_314;
			word24 ebx_24_8_239 = SLICE(ebx_235, word24, 8);
			cu8 dl_135 = *dwLoc1C_306;
			if (dl_135 < 0x01)
				break;
			if (dl_135 == 0x2A)
			{
				byte * v28_163 = (word32) dwLoc1C_306 + 0x01;
				dwLoc1C_314 = v28_163;
				dwLoc14_308 = v28_163;
				goto l00424922;
			}
			if (dl_135 != 0x3F)
			{
				cu8 al_180 = *dwLoc20_305;
				if (al_180 == 0x00)
					return ebx_235;
				if (dl_135 == al_180)
				{
					++dwLoc20_305;
					dwLoc1C_306 = (word32) dwLoc1C_306 + 0x01;
					continue;
				}
				else
				{
					if (dwLoc18_307 == null || dwLoc14_308 == null)
						return ebx_235;
					dwLoc20_305 = dwLoc18_307;
					dwLoc1C_314 = dwLoc14_308;
					goto l00424922;
				}
			}
			if (*dwLoc20_305 == 0x00)
				return ebx_235;
			++dwLoc20_305;
			dwLoc1C_306 = (word32) dwLoc1C_306 + 0x01;
		}
		Eq_15193 bl_147 = *dwLoc20_305 == 0x00;
		ebx_235 = SEQ(ebx_24_8_239, bl_147);
		if (bl_147 == 0x00 && (dwLoc18_307 != null && dwLoc14_308 != null))
		{
			dwLoc20_305 = dwLoc18_307;
			dwLoc1C_314 = dwLoc14_308;
l00424922:
			while (true)
			{
				word24 ebx_24_8_245 = SLICE(ebx_235, word24, 8);
				cu8 al_202 = *dwLoc1C_314;
				if (al_202 < 0x01)
					break;
				if (al_202 != 0x2A)
				{
					if (al_202 == 0x3F)
					{
						if (*dwLoc20_305 == 0x00)
							return ebx_235;
						++dwLoc20_305;
						++dwLoc1C_314;
						continue;
					}
					else
					{
						while (true)
						{
							byte al_231 = *dwLoc20_305;
							if (al_231 == 0x00)
								break;
							if (al_231 == *dwLoc1C_314)
							{
								byte * v24_265 = dwLoc20_305 + 0x01;
								dwLoc20_305 = v24_265;
								dwLoc18_307 = v24_265;
								dwLoc1C_306 = dwLoc1C_314 + 0x01;
								goto l0042488E;
							}
							++dwLoc20_305;
						}
						return ebx_235;
					}
				}
				byte * v20_210 = dwLoc1C_314 + 0x01;
				dwLoc1C_314 = v20_210;
				dwLoc14_308 = v20_210;
			}
			ebx_235 = SEQ(ebx_24_8_245, 0x01);
		}
	}
	return ebx_235;
}

// 00424988: void fn00424988(Register Eq_2 eax, Register Eq_2 edx)
void fn00424988(Eq_2 eax, Eq_2 edx)
{
	Eq_2 ebp_27;
	Eq_2 edi_30;
	Eq_2 esi_32;
	int32 eax_26 = fn00424708(eax, 0x01, edx, out ebp_27, out esi_32, out edi_30);
	if (eax_26 <= 0x00)
	{
		word32 edx_61;
		fn00404240(ebp_27, out edx_61);
	}
	else
		fn004249C8(edi_30, ebp_27, (word32) fn00404500(esi_32) + eax_26);
}

// 004249C8: void fn004249C8(Register Eq_2 eax, Register Eq_2 ecx, Register Eq_2344 edx)
void fn004249C8(Eq_2 eax, Eq_2 ecx, Eq_2344 edx)
{
	fn00404760(eax, fn00404500(eax) - edx + 0x01, edx, ecx);
}

// 00424A14: Register ptr32 fn00424A14(Register Eq_2 eax, Register Eq_2 ecx)
ptr32 fn00424A14(Eq_2 eax, Eq_2 ecx)
{
	ptr32 v14_34 = fs->ptr0000;
	fs->ptr0000 = fp + ~0x23;
	fn00404428(fp - 0x0C);
	int32 eax_48 = fn004047E8(null, *eax);
	if (eax_48 != 0x00)
	{
		fn00404760(*eax, eax_48 - 0x01, 0x01, ecx);
		fn004047A0(eax, eax_48, 0x01);
	}
	else
	{
		fn00404294(ecx, *eax);
		word32 edx_144;
		fn00404240(eax, out edx_144);
	}
	fs->ptr0000 = v14_34;
	word32 edx_145;
	fn00404240(fp - 0x0C, out edx_145);
	return fp - 0x04;
}

// 00424AA8: Register ptr32 fn00424AA8(Register Eq_2 eax, Register (ptr32 Eq_707) ecx)
ptr32 fn00424AA8(Eq_2 eax, struct Eq_707 * ecx)
{
	fn004046F0(eax);
	Eq_2 v12_34 = fs->t0000;
	fs->t0000 = fp + ~0x1F;
	ptr32 ebp_106 = fp - 0x04;
	if (ecx == null)
	{
		fs->t0000 = v12_34;
		word32 edx_183;
		fn00404240(fp - 0x10, out edx_183);
		word32 edx_184;
		fn00404240(fp - 0x08, out edx_184);
		return fp - 0x04;
	}
	else
	{
		word32 ecx_72 = fn00414AAC(ecx);
		Eq_2 v14_84 = fs->t0000;
		fs->t0000 = fp + ~0x2B;
		struct Eq_15427 * edx_89 = ecx->t0000;
		edx_89->ptr0044();
		while (*(ebp_106 - 0x04) != 0x00)
		{
			ebp_106 = fn00424A14(ebp_106 - 0x04, ebp_106 - 0x0C);
			struct Eq_15454 ** eax_119 = *(ebp_106 - 0x08);
			struct Eq_15454 * ecx_120 = *eax_119;
			ecx_120->ptr0038();
		}
		fs->t0000 = eax;
		fn00414B68(*(ebp_106 - 0x08));
		return ebp_106;
	}
}

// 00426460: void fn00426460(Register Eq_2 eax, Register Eq_2 edx)
void fn00426460(Eq_2 eax, Eq_2 edx)
{
	fn00404294(edx, eax);
	if (eax == 0x00 || *((word32) fn00404500(eax) + (eax - 0x01)) != 0x5C)
		fn0040454C(edx, 4351132, eax);
}

// 004264A0: Register (ptr32 Eq_15489) fn004264A0(Register Eq_2 eax, Register ptr32 edx)
struct Eq_15489 * fn004264A0(Eq_2 eax, ptr32 edx)
{
	word32 edx_37;
	Eq_2 ecx_36 = fn00404B90(fp - 0x0174, globals->ptr406B54, out edx_37);
	fs->ptr0000 = fp + ~0x019B;
	struct Eq_707 * eax_56 = globals->ptr413940;
	fn004036F0(eax_56, ecx_36, SEQ(SLICE(edx_37, word24, 8), 0x01), dwLoc01A0);
	fs->ptr0000 = fp + ~0x01A7;
	fn00407FE8(eax, fp - 0x1C);
	if (0x00 != 0x00)
	{
		fn00426460(0x00, fp - 0x0178);
		fn004042D8(fp - 0x1C, 0x00);
		fn00424988(0x00, eax);
	}
	else
		fn004042D8(fp - 0x18, eax);
	struct Eq_15489 * ebp_137 = fn00424AA8(0x00, eax_56);
	fn0040454C(ebp_137 - 0x0178, 0x00426728, *(ebp_137 - 0x18));
	*(ebp_137 - 0x09) = (union Eq_15575 *) (fn00407ED0(*(ebp_137 - 0x0178), ebp_137 - 0x0170, 0x3F) == 0x00);
	Eq_2 esp_167 = <invalid>;
	word32 ecx_183 = fn00414AAC(*(ebp_137 - 0x08));
	*(esp_167 - 0x04) = (struct Eq_15489 **) ebp_137;
	*(esp_167 - 0x08) = 4351661;
	*(esp_167 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_167 - 0x0C;
	while (*(ebp_137 - 0x09) != 0x00)
	{
		struct Eq_15624 ** eax_203 = *(ebp_137 - 0x10);
		struct Eq_15624 * edx_204 = *eax_203;
		int32 eax_215;
		edx_204->ptr0014();
		if (eax_215 >= 0x01)
		{
			int32 ebx_223;
			word32 esi_224 = 0x00;
			do
			{
				word32 ecx_439;
				word32 edx_440;
				if (!fn0040464C(*(ebp_137 - 0x0164), 0x00426734, out ecx_439, out edx_440))
				{
					word32 ecx_437;
					word32 edx_438;
					if (!fn0040464C(*(ebp_137 - 0x0164), 0x00426740, out ecx_437, out edx_438) && (*(ebp_137 - 0x0168) & *(ebp_137 - 0x04)) == (*(ebp_137 - 0x0168) & 0x3F))
					{
						struct Eq_15704 ** eax_256 = *(ebp_137 - 0x10);
						(*((char *) *eax_256 + 0x0C))();
						if ((byte) (uint32) (uint8) fn00426954(*(ebp_137 - 0x0164), 0x00, *(ebp_137 - 0x017C), out ebx_223, out ebp_137, out esi_224) != 0x00)
						{
							if (ebp_137->b0008 != 0x00)
							{
								fn0040454C(ebp_137 - 0x0180, *(ebp_137 - 0x0164), *(ebp_137 - 0x18));
								struct Eq_15774 ** eax_318 = *(ebp_137 - 0x08);
								struct Eq_15774 * ecx_319 = *eax_318;
								ecx_319->ptr0038();
							}
							else
							{
								struct Eq_15747 ** eax_298 = *(ebp_137 - 0x08);
								struct Eq_15747 * ecx_299 = *eax_298;
								ecx_299->ptr0038();
							}
							break;
						}
					}
				}
				++esi_224;
				--ebx_223;
			} while (ebx_223 != 0x00);
		}
		up32 eax_331 = fn00407F20(ebp_137 - 0x0170, out ecx_183);
		if (eax_331 < 0x01)
			continue;
		if (eax_331 == 0x12)
			break;
		*(ebp_137 - 0x09) = 0x00;
	}
	fs->ptr0000 = edx;
	fn00407F44(ebp_137 - 0x0170);
	fn00414B68(*(ebp_137 - 0x08));
	return ebp_137;
}

// 00426954: Register byte fn00426954(Register Eq_2 eax, Register byte cl, Register Eq_2 edx, Register out Eq_15713 ebxOut, Register out ptr32 ebpOut, Register out Eq_2 esiOut)
byte fn00426954(Eq_2 eax, byte cl, Eq_2 edx, union Eq_15713 & ebxOut, ptr32 & ebpOut, union Eq_2 & esiOut)
{
	fn004046F0(eax);
	fs->t0000 = fp + ~0x27;
	ptr32 esp_102 = fp + ~0x27;
	Eq_15713 ebx_128 = 0x01;
	if (edx != 0x00)
	{
		word32 ecx_201;
		word32 edx_202;
		if (!fn0040464C(edx, 0x00426A40, out ecx_201, out edx_202))
		{
			word32 ecx_203;
			word32 edx_204;
			if (!fn0040464C(edx, 4352588, out ecx_203, out edx_204))
			{
				if (fn004047E8(&globals->b426A58, eax) == 0x00)
				{
					fn00404508(fp - 0x08, 4352600);
					esp_102 = fp + ~0x23;
				}
				if (cl != 0x00)
					ebx_128 = fn004247EC(edx, 0x01, eax);
				else
				{
					fn004078A8(eax, fp - 0x10);
					union Eq_2 * esp_103 = esp_102 - 0x04;
					*esp_103 = (union Eq_2 *) 0x00;
					fn004078A8(edx, fp - 0x14);
					ebx_128 = fn004247EC(0x00, 0x01, *esp_103);
				}
			}
		}
	}
	fs->t0000 = eax;
	fn00404264(fp - 0x14, 0x02);
	word32 edx_200;
	fn00404240(fp - 0x08, out edx_200);
	ebxOut = ebx_128;
	ebpOut = fp - 0x04;
	esiOut = edx;
	return (byte) (fp - 0x08);
}

// 00426AC8: Register Eq_2 fn00426AC8(Register Eq_2 ecx, Register Eq_2 edx, Register out ptr32 edxOut, Register out ptr32 ebpOut)
Eq_2 fn00426AC8(Eq_2 ecx, Eq_2 edx, ptr32 & edxOut, ptr32 & ebpOut)
{
	word24 edx_24_8_25 = SLICE(edx, word24, 8);
	word32 edx_303;
	Eq_2 eax_31 = fn0041B01C(globals->ptr417A20, ecx, SEQ(edx_24_8_25, 0x01), out edx_303);
	ptr32 ebp_40;
	word32 edx_42;
	word32 ecx_304;
	*(ebp_40 - 0x04) = (union Eq_2 *) fn0041B578(eax_31, out ecx_304, out edx_42, out ebp_40);
	fs->ptr0000 = fp + ~0x2F;
	struct Eq_15936 ** ebx_64;
	word32 esi_67;
	word32 edi_69;
	ptr32 ebp_70;
	fn0041C3E4(eax_31, SEQ(SLICE(edx_42, word24, 8), 0x03), out ebx_64, out ebp_70, out esi_67, out edi_69);
	struct Eq_15936 * ecx_78 = *ebx_64;
	ecx_78->ptr0040();
	struct Eq_15936 * ecx_87 = *ebx_64;
	ecx_87->ptr0034();
	ptr32 ebp_115;
	word32 ecx_116 = fn00418E64(*((char *) *(fn00418F80(*((char *) *(ebp_70 - 0x04) + 0x0014), 0x00) - 0x04) + 0x0014), out ebp_115);
	struct Eq_15936 * edx_125 = *ebx_64;
	ptr32 esp_126;
	word32 eax_128;
	word32 ecx_129;
	edx_125->ptr0020();
	*(esp_126 - 0x04) = eax_128;
	*(esp_126 - 0x08) = ebp_115 - 0x14;
	struct Eq_15936 * edx_138 = *ebx_64;
	struct Eq_16002 * esp_139;
	Eq_2 eax_141;
	edx_138->ptr002C();
	fn00413CD0(0x00, eax_141, 0x00, esp_139->ptr0000, esp_139->ptr0004);
	ptr32 ebp_155;
	fn004190D4(*(ebp_115 - 0x04), eax_141, ebp_115 - 0x14, out ebp_155);
	ptr32 ebp_167;
	word32 ecx_168 = fn00418E64(*((char *) *(ebp_155 - 0x04) + 0x0014), out ebp_167);
	esp_139->ptr0004 = 0x19;
	esp_139->ptr0000 = ebp_167 - 0x14;
	struct Eq_15936 * edx_182 = *ebx_64;
	struct Eq_16055 * esp_183;
	Eq_2 eax_185;
	edx_182->ptr002C();
	fn00413CD0(0x00, eax_185, 0x00, esp_183->ptr0000, esp_183->ptr0004);
	ptr32 ebp_199;
	word32 ecx_200 = fn004190D4(*(ebp_167 - 0x04), eax_185, ebp_167 - 0x14, out ebp_199);
	struct Eq_15936 * edx_208 = *ebx_64;
	ptr32 esp_209;
	word32 eax_211;
	word32 ecx_212;
	edx_208->ptr0020();
	*(esp_209 - 0x04) = eax_211;
	*(esp_209 - 0x08) = ebp_199 - 0x14;
	struct Eq_15936 * edx_221 = *ebx_64;
	ptr32 esp_222;
	word32 eax_224;
	word32 ecx_225;
	edx_221->ptr002C();
	*(esp_222 - 0x04) = eax_224;
	struct Eq_15936 * edx_231 = *ebx_64;
	struct Eq_16123 * esp_232;
	word32 eax_234;
	edx_231->ptr0020();
	Eq_2 ecx_243 = esp_232->t0000;
	fn00413CD0(0x00, ecx_243, eax_234 - 0xAF, esp_232->ptr0004, esp_232->ptr0008);
	ptr32 ebp_250;
	fn004190D4(*(ebp_199 - 0x04), ecx_243, ebp_199 - 0x14, out ebp_250);
	struct Eq_15936 * ecx_260 = *ebx_64;
	ecx_260->ptr0050();
	fs->ptr0000 = dwLoc08;
	Eq_2 ecx_283;
	fn00403720(*(ebp_250 - 0x04), out ecx_283);
	edxOut = SEQ(SLICE(dwLoc08, word24, 8), dl_281);
	ebpOut = ebp_250;
	return ecx_283;
}

// 00426C30: Register Eq_2 fn00426C30(Register ptr32 eax, Register Eq_2 ecx, Register Eq_2 edx, Register out ptr32 ebpOut, Register out ptr32 esiOut)
Eq_2 fn00426C30(ptr32 eax, Eq_2 ecx, Eq_2 edx, ptr32 & ebpOut, ptr32 & esiOut)
{
	word24 edx_24_8_40 = SLICE(edx, word24, 8);
	fs->ptr0000 = fp + ~0x57;
	word32 edx_42;
	Eq_2 eax_44 = fn0041B01C(globals->ptr41CD1C, ecx, SEQ(edx_24_8_40, 0x01), out edx_42);
	word32 edx_54;
	Eq_2 eax_56 = fn0041B01C(globals->ptr41CD1C, ecx, SEQ(SLICE(edx_42, word24, 8), 0x01), out edx_54);
	word32 edx_1222;
	Eq_2 eax_68 = fn0041B01C(globals->ptr41CD1C, ecx, SEQ(SLICE(edx_54, word24, 8), 0x01), out edx_1222);
	ptr32 v16_81 = fs->ptr0000;
	fs->ptr0000 = fp + ~0x63;
	struct Eq_16226 * ecx_87 = *eax_56;
	ecx_87->ptr0040();
	struct Eq_16226 * ecx_96 = *eax_56;
	ecx_96->ptr0034();
	struct Eq_16240 * ecx_105 = *eax_44;
	word32 ecx_107;
	ecx_105->ptr004C();
	struct Eq_16240 * edx_113 = *eax_44;
	word32 ecx_115;
	Eq_2 eax_117;
	edx_113->ptr002C();
	if (eax_117 >= edx)
	{
		struct Eq_16240 * edx_123 = *eax_44;
		Eq_2 eax_127;
		edx_123->ptr0020();
		if (ecx <= eax_127)
		{
			fn00403D08(eax_56, eax_44);
			fs->ptr0000 = eax;
			fn0040547C(fp - 0x24, globals->ptr426C08);
			ebpOut = fp - 0x04;
			esiOut = esi;
			return ecx;
		}
	}
	ptr32 ebp_152;
	word32 ecx_1223;
	word32 ebx_1225;
	word32 edi_1227;
	word32 esi_1226;
	word32 edx_1224;
	word32 ecx_147 = fn0041C3E4(eax_56, fn0041B664(eax_44, out ecx_1223, out edx_1224), out ebx_1225, out ebp_152, out esi_1226, out edi_1227);
	struct Eq_16281 ** eax_158 = *(ebp_152 - 0x0C);
	struct Eq_16281 * edx_159 = *eax_158;
	word32 eax_163;
	edx_159->ptr0024();
	struct Eq_16295 ** eax_167 = *(ebp_152 - 0x10);
	struct Eq_16295 * ecx_168 = *eax_167;
	ecx_168->ptr0038();
	struct Eq_16308 ** eax_176 = *(ebp_152 - 0x1C);
	struct Eq_16308 * ecx_177 = *eax_176;
	ecx_177->ptr0040();
	struct Eq_16321 ** eax_185 = *(ebp_152 - 0x1C);
	struct Eq_16321 * ecx_186 = *eax_185;
	word32 ecx_188;
	ecx_186->ptr0034();
	struct Eq_16335 ** eax_193 = *(ebp_152 - 0x1C);
	struct Eq_16335 * edx_194 = *eax_193;
	ptr32 esp_195;
	word32 ecx_196;
	word32 eax_198;
	edx_194->ptr002C();
	*(esp_195 - 0x04) = eax_198;
	struct Eq_16356 ** eax_203 = *(ebp_152 - 0x1C);
	struct Eq_16356 * edx_204 = *eax_203;
	ptr32 esp_205;
	word32 eax_208;
	edx_204->ptr0020();
	*(esp_205 - 0x04) = eax_208;
	*(esp_205 - 0x08) = *(ebp_152 - 0x0C);
	*(esp_205 - 0x0C) = globals->dw42A5D0;
	*(esp_205 - 0x0010) = globals->dw42A5D4;
	ptr32 ebp_228;
	word32 ecx_230 = fn0041D178(*(ebp_152 - 0x1C), 0x00, 0x00, *(esp_205 - 0x0010), *(esp_205 - 0x0C), *(esp_205 - 0x08), out ebp_228);
	struct Eq_16427 ** eax_241 = *(ebp_228 - 0x10);
	struct Eq_16427 * edx_242 = *eax_241;
	ptr32 esp_243;
	word32 eax_246;
	edx_242->ptr002C();
	int32 ecx_251 = eax_246 - globals->dw42A598 - globals->dw42A5B0;
	int32 ebx_253 = globals->dw42A5C8;
	*(ebp_228 - 0x14) = (int32) ((int64) ecx_251 / ebx_253);
	if ((int32) ((int64) ecx_251 % ebx_253) > 0x00)
		++*(ebp_228 - 0x14);
	--*(ebp_228 - 0x14);
	do
	{
		++*(ebp_228 - 0x14);
		int32 edi_283 = *(ebp_228 - 0x14) * 0x02 - 0x02;
	} while ((int32) ((int64) (*(ebp_228 - 0x14) *s globals->dw42A5C8 - ecx_251) / edi_283) <= 0x14);
	*(esp_243 - 0x04) = edi_283;
	ptr32 ebp_308;
	word32 ebx_309;
	ui32 edi_311;
	word32 esi_313;
	Eq_2 ecx_310 = fn00405470(ebp_228 - 0x20, 0x01, globals->ptr426C08, out ebx_309, out ebp_308, out esi_313, out edi_311);
	int32 eax_323 = fn0040529C(*(ebp_308 - 0x20));
	if (eax_323 >= 0x00)
	{
		*(ebp_308 - 44) = eax_323 + 0x01;
		*(ebp_308 - 0x18) = 0x00;
		do
		{
			*((char *) *(ebp_308 - 0x20) + *(ebp_308 - 0x18) * 0x04) = esi_313;
			++*(ebp_308 - 0x18);
			word32 v26_343 = *(ebp_308 - 44) - 0x01;
			*(ebp_308 - 44) = v26_343;
		} while (v26_343 != 0x00);
	}
	int32 edx_356 = (int32) ((int64) ebx_309 % edi_311);
	word24 edx_24_8_891 = SLICE(edx_356 - 0x01, word24, 8);
	if (edx_356 >= 0x01)
	{
		*(ebp_308 - 44) = edx_356;
		*(ebp_308 - 0x18) = 0x00;
		do
		{
			ui32 edx_370 = *(ebp_308 - 0x18);
			word32 eax_369[] = *(ebp_308 - 0x20);
			++eax_369[edx_370];
			++*(ebp_308 - 0x18);
			word32 v31_375 = *(ebp_308 - 44) - 0x01;
			*(ebp_308 - 44) = v31_375;
			edx_24_8_891 = SLICE(edx_370, word24, 8);
		} while (v31_375 != 0x00);
	}
	*(ebp_308 - 0x24) = globals->dw42A598;
	int32 eax_384 = *(ebp_308 - 0x14);
	if (eax_384 < 0x01)
	{
		*(esp_243 - 0x04) = 0x00;
		ptr32 ebp_403;
		word32 edi_1230;
		word32 ebx_1228;
		word32 esi_1229;
		fn00405470(ebp_308 - 0x20, 0x01, globals->ptr426C08, out ebx_1228, out ebp_403, out esi_1229, out edi_1230);
		*(esp_243 - 0x04) = 0x0400;
		*(esp_243 - 0x08) = 0x19;
		*(esp_243 - 0x0C) = *(ebp_403 - 0x0C);
		*(esp_243 - 0x0010) = 0x00;
		*(esp_243 - 0x0014) = 0x00;
		ptr32 ebp_433;
		fn0041D178(*(ebp_403 - 0x10), 0x00, 0x00, *(esp_243 - 0x0014), *(esp_243 - 0x0010), *(esp_243 - 0x0C), out ebp_433);
		Eq_2 esp_439 = <invalid>;
		*((word32) esp_439 + 0x0010) = *(ebp_433 - 0x08);
		*((word32) esp_439 + 0x0C) = 0x19;
		*((word32) esp_439 + 0x08) = *(ebp_433 - 0x0C);
		*((word32) esp_439 + 0x04) = 0x0400 - (*(ebp_433 - 0x08) - 0x0400);
		*esp_439 = 0x00;
		ptr32 ebp_468;
		word32 ecx_470 = fn0041D178(*(ebp_433 - 0x10), 0x00, 0x0400, *esp_439, *((word32) esp_439 + 0x04), *((word32) esp_439 + 0x08), out ebp_468);
		Eq_2 esp_474 = <invalid>;
		*((word32) esp_474 + 0x0010) = globals->dw42A598;
		struct Eq_16860 ** eax_484 = *(ebp_468 - 0x10);
		struct Eq_16860 * edx_485 = *eax_484;
		ptr32 esp_486;
		word32 ecx_487;
		word32 eax_489;
		edx_485->ptr0020();
		*(esp_486 - 0x04) = eax_489;
		*(esp_486 - 0x08) = *(ebp_468 - 0x0C);
		*(esp_486 - 0x0C) = 0x00;
		struct Eq_16897 ** eax_499 = *(ebp_468 - 0x0C);
		struct Eq_16897 * edx_500 = *eax_499;
		ptr32 esp_501;
		word32 ecx_502;
		word32 eax_504;
		edx_500->ptr0020();
		*(esp_501 - 0x04) = eax_504 - globals->dw42A59C;
		struct Eq_16921 ** eax_511 = *(ebp_468 - 0x10);
		struct Eq_16921 * edx_512 = *eax_511;
		struct Eq_16925 * esp_513;
		word32 eax_516;
		edx_512->ptr0020();
		ptr32 ebp_526;
		word32 ecx_528 = fn0041D178(*(ebp_468 - 0x10), eax_516 - globals->dw42A59C, 0x00, esp_513->dw0000, esp_513->dw0004, esp_513->t0008, out ebp_526);
		struct Eq_16959 ** eax_539 = *(ebp_526 - 0x10);
		struct Eq_16959 * edx_540 = *eax_539;
		ptr32 esp_541;
		word32 ecx_542;
		word32 eax_544;
		edx_540->ptr002C();
		*(esp_541 - 0x04) = eax_544;
		struct Eq_16980 ** eax_549 = *(ebp_526 - 0x10);
		struct Eq_16980 * edx_550 = *eax_549;
		ptr32 esp_551;
		word32 ecx_552;
		word32 eax_554;
		edx_550->ptr0020();
		*(esp_551 - 0x04) = eax_554;
		*(esp_551 - 0x08) = *(ebp_526 - 0x0C);
		struct Eq_17011 ** eax_562 = *(ebp_526 - 0x0C);
		struct Eq_17011 * edx_563 = *eax_562;
		ptr32 esp_564;
		word32 ecx_565;
		word32 eax_567;
		edx_563->ptr002C();
		*(esp_564 - 0x04) = eax_567 - globals->dw42A5B0;
		struct Eq_17035 ** eax_574 = *(ebp_526 - 0x0C);
		struct Eq_17035 * edx_575 = *eax_574;
		ptr32 esp_576;
		word32 ecx_577;
		word32 eax_579;
		edx_575->ptr0020();
		*(esp_576 - 0x04) = eax_579 - globals->dw42A5B4;
		struct Eq_17059 ** eax_586 = *(ebp_526 - 0x10);
		struct Eq_17059 * edx_587 = *eax_586;
		ptr32 esp_588;
		word32 ecx_589;
		word32 eax_591;
		edx_587->ptr0020();
		*(esp_588 - 0x04) = eax_591 - globals->dw42A5B4;
		struct Eq_17083 ** eax_598 = *(ebp_526 - 0x10);
		struct Eq_17083 * edx_599 = *eax_598;
		struct Eq_17087 * esp_600;
		word32 eax_603;
		edx_599->ptr002C();
		ptr32 ebp_613;
		fn0041D178(*(ebp_526 - 0x10), esp_600->dw0000, eax_603 - globals->dw42A5B0, esp_600->dw0004, esp_600->dw0008, esp_600->t000C, out ebp_613);
		Eq_2 esp_619 = <invalid>;
		word32 ecx_630;
		word32 edx_1231;
		if (!fn0040464C(*(ebp_613 - 0x04), 4354388, out ecx_630, out edx_1231))
		{
			*((word32) esp_619 + 0x0010) = 0x05;
			*((word32) esp_619 + 0x0C) = 0x05;
			*((word32) esp_619 + 0x08) = *(ebp_613 - 0x0C);
			*((word32) esp_619 + 0x04) = 0x0400 - globals->dw42A5B0 - 0x03;
			word32 ebx_648 = globals->dw42A5CC;
			*esp_619 = 0x0300 - ebx_648 + 0x0C;
			struct Eq_17422 ** eax_654 = *(ebp_613 - 0x10);
			struct Eq_17422 * edx_655 = *eax_654;
			ptr32 esp_656;
			word32 ecx_657;
			word32 eax_659;
			edx_655->ptr0020();
			*(esp_656 - 0x04) = eax_659 - ebx_648 + 0x0C;
			struct Eq_17446 ** eax_667 = *(ebp_613 - 0x10);
			struct Eq_17446 * edx_668 = *eax_667;
			struct Eq_17450 * esp_669;
			word32 eax_672;
			edx_668->ptr002C();
			fn0041D178(*(ebp_613 - 0x10), esp_669->dw0000, eax_672 - globals->dw42A5B0 - 0x03, esp_669->dw0004, esp_669->dw0008, esp_669->t000C, out ebp_613);
		}
		ptr32 ebp_712;
		word32 ecx_1233;
		word32 ebp_1235;
		word32 edx_1234;
		ptr32 esi_1178;
		Eq_2 ebx_1166 = fn00419290(fn0041B578(*(ebp_613 - 0x0C), out ecx_1233, out edx_1234, out ebp_1235), 0x0180, 0x0200, out ebp_712, out esi_1178);
		word32 ebp_1241;
		word32 edx_1240;
		ptr32 ebp_762;
		word32 edx_1237;
		word32 ebp_1238;
		word32 ecx_1239;
		word32 ecx_1236;
		fn00418E64(*((word32) fn0041B578(*(fn00418F80(*((word32) fn0041B578(*(ebp_712 - 0x10), out ecx_1236, out edx_1237, out ebp_1238) + 0x0014), 0x00) - 0x10), out ecx_1239, out edx_1240, out ebp_1241) + 0x0014), out ebp_762);
		Eq_2 esp_718 = <invalid>;
		*(esp_718 - 0x04) = 0x0251;
		*(esp_718 - 0x08) = ebp_762 - 0x3C;
		fn00413CD0(0x00, *(ebp_762 - 0x08), 0x19, *(esp_718 - 0x08), *(esp_718 - 0x04));
		*(esp_718 - 0x04) = ebp_762 - 0x3C;
		word32 edx_1242;
		Eq_2 ecx_790;
		word32 ebp_1243;
		ptr32 ebp_799;
		fn004190D4(fn0041B578(*(ebp_762 - 0x10), out ecx_790, out edx_1242, out ebp_1243), ecx_790, *(esp_718 - 0x04), out ebp_799);
		struct Eq_17357 ** eax_808 = *(ebp_799 - 0x10);
		struct Eq_17357 * ecx_809 = *eax_808;
		struct Eq_17361 * esp_810;
		ecx_809->ptr0050();
		fs->ptr0000 = esp_810->ptr0000;
		esp_810->dw0008 = 4354337;
		if (*(ebp_799 - 0x20) != 0x00 && fn00405294(*(ebp_799 - 0x20)) > 0x00)
		{
			esp_810->dw0004 = 0x00;
			word32 edi_1249;
			fn00405470(ebp_799 - 0x20, 0x01, globals->ptr426C08, out ebx_1166, out ebp_799, out esi_1178, out edi_1249);
		}
		word32 ecx_1246;
		fn00403720(*(ebp_799 - 0x0C), out ecx_1246);
		word32 ecx_1247;
		fn00403720(*(ebp_799 - 0x10), out ecx_1247);
		word32 ecx_1248;
		fn00403720(*(ebp_799 - 0x1C), out ecx_1248);
		ebpOut = ebp_799;
		esiOut = esi_1178;
		return ebx_1166;
	}
	else
	{
		*(ebp_308 - 44) = eax_384;
		*(ebp_308 - 0x18) = 0x00;
		word32 edx_1232;
		*(ebp_308 - 0x28) = (union Eq_2 *) fn0041B01C(globals->ptr41CD1C, ecx_310, SEQ(edx_24_8_891, 0x01), out edx_1232);
		*(esp_243 - 0x04) = ebp_308;
		*(esp_243 - 0x08) = 4353772;
		*(esp_243 - 0x0C) = fs->ptr0000;
		fs->ptr0000 = esp_243 - 0x0C;
		struct Eq_17180 ** eax_919 = *(ebp_308 - 0x28);
		struct Eq_17180 * ecx_920 = *eax_919;
		ptr32 esp_928;
		word32 edx_930;
		ecx_920->ptr0008();
		ui32 eax_934 = *(ebp_308 - 0x18);
		Eq_13710 edx_24_8_952 = SLICE(edx_930, word24, 8);
		ui32 eax_935 = eax_934 & 0x80000001;
		if ((eax_934 & 0x80000001) < 0x00)
			eax_935 = ((eax_934 & 0x80000001) - 0x01 | ~0x01) + 0x01;
		if (eax_935 == 0x01)
			fn0041CE08(*(ebp_308 - 0x28), edx_24_8_952);
		word32 ecx_1011;
		ptr32 ebp_1010;
		if (*(ebp_308 - 0x18) == 0x00)
			ecx_1011 = fn0041D068(*(ebp_308 - 0x28), **(ebp_308 - 0x20), out ebp_1010);
		else if (*(ebp_308 - 0x14) - 0x01 == *(ebp_308 - 0x18))
			ecx_1011 = fn0041D010(*(ebp_308 - 0x28), *((char *) *(ebp_308 - 0x20) + fn0040529C(*(ebp_308 - 0x20)) * 0x04), out ebp_1010);
		else
		{
			ui32 eax_970 = *(ebp_308 - 0x18);
			ecx_1011 = fn0041CF50(*(ebp_308 - 0x28), *((char *) *(ebp_308 - 0x20) + eax_970 * 0x08), (*(ebp_308 - 0x20) - 0x04)[eax_970].dw0000, out ebp_1010);
		}
		*(esp_928 - 0x04) = *(ebp_1010 - 0x10);
		struct Eq_17526 ** eax_1026 = *(ebp_1010 - 0x10);
		struct Eq_17526 * edx_1027 = *eax_1026;
		word32 eax_1043;
		edx_1027->ptr0020();
		ptr32 ebp_1052;
		Eq_2 ebx_1053;
		ptr32 esi_1057;
		word32 edi_1244;
		word32 ecx_1054 = fn0041D1C8(*(ebp_1010 - 0x28), eax_1043 - globals->dw42A5CC, *(ebp_1010 - 0x24), out ebx_1053, out ebp_1052, out esi_1057, out edi_1244);
		struct Eq_17565 ** eax_1065 = *(ebp_1052 - 0x28);
		struct Eq_17565 * edx_1066 = *eax_1065;
		word32 eax_1070;
		edx_1066->ptr002C();
		*(ebp_1052 - 0x24) += eax_1070;
		fs->ptr0000 = eax;
		word32 ecx_1245;
		fn00403720(*(ebp_1052 - 0x28), out ecx_1245);
		ebpOut = ebp_1052;
		esiOut = esi_1057;
		return ebx_1053;
	}
}

// 0042718C: Register ptr32 fn0042718C(Register Eq_2 eax, Register Eq_2 edx, Stack word32 dwArg00, Register out ptr32 ediOut)
ptr32 fn0042718C(Eq_2 eax, Eq_2 edx, word32 dwArg00, ptr32 & ediOut)
{
	fs->t0000 = fp + ~0x3F;
	if (eax != 0x00)
	{
		struct Eq_17728 * edx_37 = *eax;
		ptr32 esp_38;
		Eq_2 ecx_39;
		word32 edx_40;
		Eq_2 eax_41;
		edx_37->ptr002C();
		word24 edx_24_8_73 = SLICE(edx_40, word24, 8);
		if (eax_41 < edx)
		{
			word32 edx_677;
			Eq_2 eax_77 = fn0041B01C(globals->ptr41CD1C, ecx_39, SEQ(edx_24_8_73, 0x01), out edx_677);
			*(esp_38 - 0x04) = fp - 0x04;
			*(esp_38 - 0x08) = 0x0042742F;
			*(esp_38 - 0x0C) = (union Eq_2 *) fs->t0000;
			fs->t0000 = esp_38 - 0x0C;
			struct Eq_17773 * ecx_96 = *eax_77;
			ecx_96->ptr0040();
			struct Eq_17728 * edx_104 = *eax;
			word32 eax_108;
			edx_104->ptr0020();
			struct Eq_17773 * ecx_113 = *eax_77;
			ecx_113->ptr0034();
			ptr32 ebp_137;
			word32 ecx_678;
			word32 edx_679;
			word32 esi_681;
			word32 edi_682;
			word32 ebx_680;
			fn0041C3E4(eax_77, fn0041B664(eax, out ecx_678, out edx_679), out ebx_680, out ebp_137, out esi_681, out edi_682);
			struct Eq_17817 ** eax_143 = *(ebp_137 - 0x04);
			struct Eq_17817 * edx_144 = *eax_143;
			word32 eax_148;
			edx_144->ptr0024();
			struct Eq_17831 ** eax_152 = *(ebp_137 - 0x0C);
			struct Eq_17831 * ecx_153 = *eax_152;
			ptr32 esp_154;
			ecx_153->ptr0038();
			int32 eax_160 = *(ebp_137 - 0x08);
			if (eax_160 < 0x00)
				eax_160 += 0x03FF;
			*(ebp_137 - 0x10) = eax_160 >> 0x0A;
			ui32 eax_170 = *(ebp_137 - 0x08);
			int32 eax_171 = eax_170 & 0x800003FF;
			if ((eax_170 & 0x800003FF) < 0x00)
				eax_171 = ((eax_170 & 0x800003FF) - 0x01 | ~0x03FF) + 0x01;
			if (eax_171 > 0x00)
				++*(ebp_137 - 0x10);
			--*(ebp_137 - 0x10);
			do
			{
				++*(ebp_137 - 0x10);
				int32 ebx_199 = *(ebp_137 - 0x10) * 0x02 - 0x02;
			} while ((int32) ((int64) ((*(ebp_137 - 0x10) << 0x0A) - *(ebp_137 - 0x08)) / ebx_199) <= 100);
			*(esp_154 - 0x04) = ebx_199;
			ptr32 ebp_227;
			ui32 ebx_228;
			word32 edi_230;
			word32 esi_232;
			Eq_2 ecx_229 = fn00405470(ebp_137 - 0x18, 0x01, globals->ptr427164, out ebx_228, out ebp_227, out esi_232, out edi_230);
			int32 eax_242 = fn0040529C(*(ebp_227 - 0x18));
			if (eax_242 >= 0x00)
			{
				*(ebp_227 - 0x24) = eax_242 + 0x01;
				*(ebp_227 - 0x14) = 0x00;
				do
				{
					*((char *) *(ebp_227 - 0x18) + *(ebp_227 - 0x14) * 0x04) = edi_230;
					++*(ebp_227 - 0x14);
					word32 v26_262 = *(ebp_227 - 0x24) - 0x01;
					*(ebp_227 - 0x24) = v26_262;
				} while (v26_262 != 0x00);
			}
			int32 edx_275 = (int32) ((int64) esi_232 % ebx_228);
			word24 edx_24_8_400 = SLICE(edx_275 - 0x01, word24, 8);
			if (edx_275 >= 0x01)
			{
				*(ebp_227 - 0x24) = edx_275;
				*(ebp_227 - 0x14) = 0x00;
				do
				{
					ui32 edx_289 = *(ebp_227 - 0x14);
					word32 eax_288[] = *(ebp_227 - 0x18);
					++eax_288[edx_289];
					++*(ebp_227 - 0x14);
					word32 v30_294 = *(ebp_227 - 0x24) - 0x01;
					*(ebp_227 - 0x24) = v30_294;
					edx_24_8_400 = SLICE(edx_289, word24, 8);
				} while (v30_294 != 0x00);
			}
			*(ebp_227 - 0x1C) = 0x00;
			int32 eax_301 = *(ebp_227 - 0x10);
			if (eax_301 < 0x01)
			{
				*(esp_154 - 0x04) = 0x00;
				word32 ebx_321;
				word32 esi_325;
				ptr32 edi_323;
				ptr32 ebp_320;
				fn00405470(ebp_227 - 0x18, 0x01, globals->ptr427164, out ebx_321, out ebp_320, out esi_325, out edi_323);
				struct Eq_18134 ** eax_335 = *(ebp_320 - 0x04);
				struct Eq_18134 * ecx_336 = *eax_335;
				struct Eq_18138 * esp_337;
				ecx_336->ptr0008();
				fs->t0000 = esp_337->t0000;
				esp_337->dw0008 = 0x00427436;
				if (*(ebp_320 - 0x18) != 0x00 && fn00405294(*(ebp_320 - 0x18)) > 0x00)
				{
					esp_337->dw0004 = 0x00;
					word32 ebx_685;
					word32 esi_686;
					fn00405470(ebp_320 - 0x18, 0x01, globals->ptr427164, out ebx_685, out ebp_320, out esi_686, out edi_323);
				}
				word32 ecx_684;
				fn00403720(*(ebp_320 - 0x0C), out ecx_684);
				ediOut = edi_323;
				return ebp_320;
			}
			else
			{
				*(ebp_227 - 0x24) = eax_301;
				*(ebp_227 - 0x14) = 0x00;
				word32 edx_683;
				*(ebp_227 - 0x20) = (union Eq_2 *) fn0041B01C(globals->ptr41CD1C, ecx_229, SEQ(edx_24_8_400, 0x01), out edx_683);
				*(esp_154 - 0x04) = ebp_227;
				*(esp_154 - 0x08) = 4355001;
				*(esp_154 - 0x0C) = (union Eq_2 *) fs->t0000;
				fs->t0000 = esp_154 - 0x0C;
				struct Eq_18209 ** eax_428 = *(ebp_227 - 0x20);
				struct Eq_18209 * ecx_429 = *eax_428;
				ptr32 esp_437;
				word32 edx_439;
				ecx_429->ptr0008();
				ui32 eax_443 = *(ebp_227 - 0x14);
				Eq_13710 edx_24_8_461 = SLICE(edx_439, word24, 8);
				ui32 eax_444 = eax_443 & 0x80000001;
				if ((eax_443 & 0x80000001) < 0x00)
					eax_444 = ((eax_443 & 0x80000001) - 0x01 | ~0x01) + 0x01;
				if (eax_444 == 0x01)
					fn0041CE08(*(ebp_227 - 0x20), edx_24_8_461);
				ptr32 ebp_489;
				if (*(ebp_227 - 0x14) == 0x00)
					fn0041D068(*(ebp_227 - 0x20), **(ebp_227 - 0x18), out ebp_489);
				else if (*(ebp_227 - 0x10) - 0x01 == *(ebp_227 - 0x14))
					fn0041D010(*(ebp_227 - 0x20), *((char *) *(ebp_227 - 0x18) + fn0040529C(*(ebp_227 - 0x18)) * 0x04), out ebp_489);
				else
				{
					ui32 eax_479 = *(ebp_227 - 0x14);
					fn0041CF50(*(ebp_227 - 0x20), *((char *) *(ebp_227 - 0x18) + eax_479 * 0x08), (*(ebp_227 - 0x18) - 0x04)[eax_479].dw0000, out ebp_489);
				}
				*(esp_437 - 0x04) = *(ebp_489 - 0x0C);
				ptr32 ebp_542;
				ptr32 edi_545;
				word32 ebx_687;
				word32 esi_688;
				fn0041D1C8(*(ebp_489 - 0x20), 0x00, *(ebp_489 - 0x1C), out ebx_687, out ebp_542, out esi_688, out edi_545);
				struct Eq_18357 ** eax_555 = *(ebp_542 - 0x20);
				struct Eq_18357 * edx_556 = *eax_555;
				word32 eax_560;
				edx_556->ptr002C();
				*(ebp_542 - 0x1C) += eax_560;
				fs->t0000 = eax;
				word32 ecx_689;
				fn00403720(*(ebp_542 - 0x20), out ecx_689);
				ediOut = edi_545;
				return ebp_542;
			}
		}
	}
	fs->t0000 = eax;
	fn0040547C(fp - 0x1C, globals->ptr427164);
	ediOut = edi;
	return fp - 0x04;
}

// 00427488: Register int32 fn00427488(Register Eq_2 eax, Register int32 edx, Stack word32 dwArg00, Register out ptr32 ebpOut, Register out ptr32 esiOut)
int32 fn00427488(Eq_2 eax, int32 edx, word32 dwArg00, ptr32 & ebpOut, ptr32 & esiOut)
{
	fs->t0000 = fp + ~0x4F;
	ptr32 ebp_603 = fp - 0x04;
	if (eax != 0x00)
	{
		struct Eq_18468 * edx_37 = *eax;
		int32 eax_41;
		edx_37->ptr0020();
		if (edx != eax_41)
		{
			struct Eq_18468 * edx_47 = *eax;
			ptr32 esp_48;
			Eq_2 ecx_49;
			word32 edx_50;
			int32 eax_51;
			edx_47->ptr0020();
			word24 edx_24_8_58 = SLICE(edx_50, word24, 8);
			if (edx >= eax_51)
			{
				word32 edx_732;
				Eq_2 eax_62 = fn0041B01C(globals->ptr41CD1C, ecx_49, SEQ(edx_24_8_58, 0x01), out edx_732);
				*(esp_48 - 0x04) = fp - 0x04;
				*(esp_48 - 0x08) = 4355953;
				*(esp_48 - 0x0C) = (union Eq_2 *) fs->t0000;
				fs->t0000 = esp_48 - 0x0C;
				struct Eq_18468 * edx_80 = *eax;
				word32 eax_84;
				edx_80->ptr002C();
				struct Eq_18530 * ecx_89 = *eax_62;
				ecx_89->ptr0040();
				struct Eq_18530 * ecx_98 = *eax_62;
				ecx_98->ptr0034();
				ui32 ebx_116;
				ptr32 ebp_122;
				word32 ecx_733;
				word32 edx_734;
				word32 esi_735;
				word32 edi_736;
				fn0041C3E4(eax_62, fn0041B664(eax, out ecx_733, out edx_734), out ebx_116, out ebp_122, out esi_735, out edi_736);
				struct Eq_18566 ** eax_128 = *(ebp_122 - 0x04);
				struct Eq_18566 * edx_129 = *eax_128;
				word32 eax_133;
				edx_129->ptr0024();
				struct Eq_18580 ** eax_137 = *(ebp_122 - 0x08);
				struct Eq_18580 * ecx_138 = *eax_137;
				ptr32 esp_139;
				ecx_138->ptr0038();
				*(ebp_122 - 0x0C) = (int32) ((int64) ebx_116 / 0x0300);
				if ((int32) ((int64) ebx_116 % 0x0300) > 0x00)
					++*(ebp_122 - 0x0C);
				--*(ebp_122 - 0x0C);
				do
				{
					++*(ebp_122 - 0x0C);
					*(ebp_122 - 0x10) = *(ebp_122 - 0x0C) * 0x02 - 0x02;
					ui32 esi_179 = *(ebp_122 - 0x0C);
				} while ((int32) ((int64) ((esi_179 << 0x08) + (esi_179 << 0x08) * 0x02 - ebx_116) / *(ebp_122 - 0x10)) <= 0x96);
				*(esp_139 - 0x04) = *(ebp_122 - 0x10);
				ptr32 ebp_205;
				word32 edi_208;
				word32 esi_210;
				word32 ebx_739;
				Eq_2 ecx_207 = fn00405470(ebp_122 - 0x18, 0x01, globals->ptr427460, out ebx_739, out ebp_205, out esi_210, out edi_208);
				int32 eax_220 = fn0040529C(*(ebp_205 - 0x18));
				if (eax_220 >= 0x00)
				{
					*(ebp_205 - 0x24) = eax_220 + 0x01;
					*(ebp_205 - 0x14) = 0x00;
					do
					{
						*((char *) *(ebp_205 - 0x18) + *(ebp_205 - 0x14) * 0x04) = edi_208;
						++*(ebp_205 - 0x14);
						word32 v27_240 = *(ebp_205 - 0x24) - 0x01;
						*(ebp_205 - 0x24) = v27_240;
					} while (v27_240 != 0x00);
				}
				int32 edx_253 = (int32) ((int64) esi_210 % *(ebp_205 - 0x10));
				word24 edx_24_8_377 = SLICE(edx_253 - 0x01, word24, 8);
				if (edx_253 >= 0x01)
				{
					*(ebp_205 - 0x24) = edx_253;
					*(ebp_205 - 0x14) = 0x00;
					do
					{
						ui32 edx_266 = *(ebp_205 - 0x14);
						word32 eax_265[] = *(ebp_205 - 0x18);
						++eax_265[edx_266];
						++*(ebp_205 - 0x14);
						word32 v31_271 = *(ebp_205 - 0x24) - 0x01;
						*(ebp_205 - 0x24) = v31_271;
						edx_24_8_377 = SLICE(edx_266, word24, 8);
					} while (v31_271 != 0x00);
				}
				*(ebp_205 - 0x1C) = 0x00;
				int32 eax_278 = *(ebp_205 - 0x0C);
				if (eax_278 < 0x01)
				{
					*(esp_139 - 0x04) = 0x00;
					word32 edi_300;
					ptr32 esi_302;
					ptr32 ebp_297;
					int32 ebx_298;
					fn00405470(ebp_205 - 0x18, 0x01, globals->ptr427460, out ebx_298, out ebp_297, out esi_302, out edi_300);
					struct Eq_18946 ** eax_312 = *(ebp_297 - 0x04);
					struct Eq_18946 * ecx_313 = *eax_312;
					struct Eq_18950 * esp_314;
					ecx_313->ptr0008();
					fs->t0000 = esp_314->t0000;
					esp_314->dw0008 = 0x00427778;
					if (*(ebp_297 - 0x18) != 0x00 && fn00405294(*(ebp_297 - 0x18)) > 0x00)
					{
						esp_314->dw0004 = 0x00;
						word32 edi_742;
						fn00405470(ebp_297 - 0x18, 0x01, globals->ptr427460, out ebx_298, out ebp_297, out esi_302, out edi_742);
					}
					word32 ecx_741;
					fn00403720(*(ebp_297 - 0x08), out ecx_741);
					ebpOut = ebp_297;
					esiOut = esi_302;
					return ebx_298;
				}
				else
				{
					*(ebp_205 - 0x24) = eax_278;
					*(ebp_205 - 0x14) = 0x00;
					word32 edx_740;
					*(ebp_205 - 0x20) = (union Eq_2 *) fn0041B01C(globals->ptr41CD1C, ecx_207, SEQ(edx_24_8_377, 0x01), out edx_740);
					*(esp_139 - 0x04) = ebp_205;
					*(esp_139 - 0x08) = 4355835;
					*(esp_139 - 0x0C) = (union Eq_2 *) fs->t0000;
					fs->t0000 = esp_139 - 0x0C;
					struct Eq_19021 ** eax_405 = *(ebp_205 - 0x20);
					struct Eq_19021 * ecx_406 = *eax_405;
					ptr32 esp_416;
					word32 edx_418;
					ecx_406->ptr0008();
					ui32 eax_422 = *(ebp_205 - 0x14);
					Eq_13880 edx_24_8_440 = SLICE(edx_418, word24, 8);
					ui32 eax_423 = eax_422 & 0x80000001;
					if ((eax_422 & 0x80000001) < 0x00)
						eax_423 = ((eax_422 & 0x80000001) - 0x01 | ~0x01) + 0x01;
					if (eax_423 == 0x01)
						fn0041CEC0(*(ebp_205 - 0x20), edx_24_8_440);
					ptr32 ebp_468;
					if (*(ebp_205 - 0x14) == 0x00)
						ebp_468 = fn0041D11C(*(ebp_205 - 0x20), **(ebp_205 - 0x18));
					else if (*(ebp_205 - 0x0C) - 0x01 == *(ebp_205 - 0x14))
						ebp_468 = fn0041D0C4(*(ebp_205 - 0x20), *((char *) *(ebp_205 - 0x18) + fn0040529C(*(ebp_205 - 0x18)) * 0x04));
					else
					{
						ui32 eax_458 = *(ebp_205 - 0x14);
						ebp_468 = fn0041CFB0(*(ebp_205 - 0x20), *((char *) *(ebp_205 - 0x18) + eax_458 * 0x08), (*(ebp_205 - 0x18) - 0x04)[eax_458].dw0000);
					}
					*(esp_416 - 0x04) = *(ebp_468 - 0x08);
					ptr32 ebp_521;
					int32 ebx_522;
					ptr32 esi_526;
					word32 edi_743;
					fn0041D1C8(*(ebp_468 - 0x20), *(ebp_468 - 0x1C), 0x00, out ebx_522, out ebp_521, out esi_526, out edi_743);
					struct Eq_19169 ** eax_534 = *(ebp_521 - 0x20);
					struct Eq_19169 * edx_535 = *eax_534;
					word32 eax_539;
					edx_535->ptr0020();
					*(ebp_521 - 0x1C) += eax_539;
					fs->t0000 = eax;
					word32 ecx_744;
					fn00403720(*(ebp_521 - 0x20), out ecx_744);
					ebpOut = ebp_521;
					esiOut = esi_526;
					return ebx_522;
				}
			}
			*(esp_48 - 0x04) = edx;
			*(esp_48 - 0x08) = fp - 0x38;
			struct Eq_18468 * edx_571 = *eax;
			struct Eq_18619 * esp_572;
			Eq_2 eax_575;
			edx_571->ptr002C();
			fn00413CD0(0x00, eax_575, 0x00, esp_572->ptr0000, esp_572->ptr0004);
			esp_572->ptr0004 = fp - 0x38;
			ptr32 ebp_591;
			word32 edx_738;
			word32 ecx_737;
			ebp_603 = fn00419164(fn0041B578(eax, out ecx_737, out edx_738, out ebp_591), *(ebp_591 - 0x04), esp_572->ptr0004);
			struct Eq_18663 ** eax_611 = *(ebp_603 - 0x04);
			struct Eq_18663 * ecx_612 = *eax_611;
			ecx_612->ptr0034();
		}
	}
	fs->t0000 = eax;
	fn0040547C(ebp_603 - 0x18, globals->ptr427460);
	ebpOut = ebp_603;
	esiOut = esi;
	return edx;
}

// 004277A4: Register word32 fn004277A4(Register word32 eax, Register Eq_2 ecx, Register Eq_2 edx, Register out ptr32 ebpOut, Register out ptr32 esiOut)
word32 fn004277A4(word32 eax, Eq_2 ecx, Eq_2 edx, ptr32 & ebpOut, ptr32 & esiOut)
{
	word24 edx_24_8_27 = SLICE(edx, word24, 8);
	word32 edx_140;
	Eq_2 eax_32 = fn0041B01C(globals->ptr41CD1C, ecx, SEQ(edx_24_8_27, 0x01), out edx_140);
	Eq_2 v14_45 = fs->t0000;
	fs->t0000 = fp - 0x0020;
	struct Eq_19280 * ecx_51 = *eax_32;
	struct Eq_19284 * esp_52;
	ecx_51->ptr004C();
	int32 edi_66;
	ptr32 ebp_76;
	ptr32 esi_82;
	word32 ebx_77 = fn00427488(*(fn0042718C(eax_32, edx, esp_52->dwFFFFFFFC, out edi_66) - 0x04), edi_66, esp_52->dwFFFFFFFC, out ebp_76, out esi_82);
	struct Eq_19318 ** eax_89 = *(ebp_76 - 0x04);
	struct Eq_19318 * ecx_90 = *eax_89;
	ecx_90->ptr0050();
	fs->t0000 = eax_32;
	word32 ecx_141;
	fn00403720(*(ebp_76 - 0x04), out ecx_141);
	ebpOut = ebp_76;
	esiOut = esi_82;
	return ebx_77;
}

// 00427A1C: Register Eq_2 Win32CrtStartup()
Eq_2 Win32CrtStartup()
{
	*globals->ptr42A8C0 = 0x01;
	fn00406308(&globals->t427844, fp - 0x04);
	Eq_2 esp_38 = <invalid>;
	*(esp_38 - 0x04) = fp - 0x04;
	*(esp_38 - 0x08) = 0x00427C52;
	*(esp_38 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_38 - 0x0C;
	*(esp_38 - 0x0010) = 0x00;
	globals->t42D3C8 = GetSystemMetrics(*(esp_38 - 0x0010));
	*(esp_38 - 0x0014) = 0x01;
	globals->t42D3CC = GetSystemMetrics(*(esp_38 - 0x0014));
	*(esp_38 - 0x0018) = fp - 0x18;
	fn00408704();
	struct Eq_312 * eax_81 = globals->ptr42A710;
	fn00404894(eax_81, null);
	Eq_2 esp_86 = <invalid>;
	fn00402B88(fn00403228(eax_81), *((word32) esp_86 - 0x04));
	struct Eq_312 * eax_103 = globals->ptr42A710;
	fn00404894(eax_103, &globals->b427C90);
	Eq_2 esp_109 = <invalid>;
	Eq_2 ecx_115 = fn00403228(eax_103);
	fn00402B88(ecx_115, *((word32) esp_109 - 0x04));
	word32 ebp_129;
	word32 edx_133;
	Eq_2 ecx_131 = fn00426AC8(ecx_115, globals->t42D3CC, out edx_133, out ebp_129);
	struct Eq_707 * eax_141 = globals->ptr413940;
	fn004036F0(eax_141, ecx_131, SEQ(SLICE(edx_133, word24, 8), 0x01), *((word32) esp_109 - 0x04));
	globals->ptr42D3D0 = eax_141;
	*(esp_109 - 0x04) = ebp_129;
	*(esp_109 - 0x08) = 0x00427C20;
	*(esp_109 - 0x0C) = fs->ptr0000;
	fs->ptr0000 = esp_109 - 0x0C;
	*(esp_109 - 0x0010) = 0x00;
	ptr32 ebp_168 = fn004264A0(0x00427CAC, 0x3F);
	struct Eq_707 * eax_179 = globals->ptr42D3D0;
	struct Eq_19504 * edx_180 = eax_179->t0000;
	int32 eax_182;
	ptr32 esp_181;
	edx_180->ptr0014();
	if (eax_182 >= 0x01)
	{
		word32 ebx_193 = 0x00;
		do
		{
			word32 esi_319;
			word32 ebx_315;
			*(esp_181 - 0x04) = ebp_168 - 0x28;
			struct Eq_707 * eax_204 = globals->ptr42D3D0;
			(eax_204->t0000 + 0x0C)();
			fn0040803C(*(ebp_168 - 0x38), ebp_168 - 0x34);
			*(ebp_168 - 0x30) = *(ebp_168 - 0x34);
			*(ebp_168 - 44) = 11;
			fn00408704();
			struct Eq_312 * eax_239 = globals->ptr42A710;
			word32 ebx_240 = fn00404894(eax_239, *(ebp_168 - 0x28));
			Eq_2 esp_244 = <invalid>;
			fn00402B88(fn00403228(eax_239), *((word32) esp_244 - 0x04));
			struct Eq_707 * eax_263 = globals->ptr42D3D0;
			(eax_263->t0000 + 0x0C)();
			fn004077C0(*(ebp_168 - 0x40), fn0040803C(*(ebp_168 - 0x44), ebp_168 - 0x40), ebp_168 - 0x3C);
			word32 ecx_431;
			word32 edx_432;
			if (!fn0040464C(*(ebp_168 - 0x3C), 4357340, out ecx_431, out edx_432))
			{
				struct Eq_707 * eax_328 = globals->ptr42D3D0;
				(eax_328->t0000 + 0x0C)();
				ebx_315 = fn004277A4(*(ebp_168 - 0x48), globals->t42D3CC, globals->t42D3C8, out ebp_168, out esi_319);
			}
			else
			{
				struct Eq_707 * eax_302 = globals->ptr42D3D0;
				(eax_302->t0000 + 0x0C)();
				ebx_315 = fn00426C30(*(ebp_168 - 0x4C), globals->t42D3CC, globals->t42D3C8, out ebp_168, out esi_319);
			}
			ebx_193 = ebx_315 + 0x01;
		} while (esi_319 != 0x01);
	}
	fs->ptr0000 = dwLoc08;
	word32 ecx_380;
	return fn00403720(globals->ptr42D3D0, out ecx_380);
}

